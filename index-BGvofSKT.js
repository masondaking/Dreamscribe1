function i1(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function o1(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Om={exports:{}},wa={},Fm={exports:{}},Q={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pi=Symbol.for("react.element"),a1=Symbol.for("react.portal"),l1=Symbol.for("react.fragment"),c1=Symbol.for("react.strict_mode"),u1=Symbol.for("react.profiler"),d1=Symbol.for("react.provider"),h1=Symbol.for("react.context"),p1=Symbol.for("react.forward_ref"),f1=Symbol.for("react.suspense"),m1=Symbol.for("react.memo"),y1=Symbol.for("react.lazy"),gh=Symbol.iterator;function g1(e){return e===null||typeof e!="object"?null:(e=gh&&e[gh]||e["@@iterator"],typeof e=="function"?e:null)}var Vm={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Bm=Object.assign,Um={};function ps(e,t,n){this.props=e,this.context=t,this.refs=Um,this.updater=n||Vm}ps.prototype.isReactComponent={};ps.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ps.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function zm(){}zm.prototype=ps.prototype;function bu(e,t,n){this.props=e,this.context=t,this.refs=Um,this.updater=n||Vm}var Cu=bu.prototype=new zm;Cu.constructor=bu;Bm(Cu,ps.prototype);Cu.isPureReactComponent=!0;var vh=Array.isArray,$m=Object.prototype.hasOwnProperty,Nu={current:null},Wm={key:!0,ref:!0,__self:!0,__source:!0};function Hm(e,t,n){var r,s={},i=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(i=""+t.key),t)$m.call(t,r)&&!Wm.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:Pi,type:e,key:i,ref:a,props:s,_owner:Nu.current}}function v1(e,t){return{$$typeof:Pi,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Au(e){return typeof e=="object"&&e!==null&&e.$$typeof===Pi}function x1(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var xh=/\/+/g;function ol(e,t){return typeof e=="object"&&e!==null&&e.key!=null?x1(""+e.key):t.toString(36)}function jo(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Pi:case a1:a=!0}}if(a)return a=e,s=s(a),e=r===""?"."+ol(a,0):r,vh(s)?(n="",e!=null&&(n=e.replace(xh,"$&/")+"/"),jo(s,t,n,"",function(u){return u})):s!=null&&(Au(s)&&(s=v1(s,n+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(xh,"$&/")+"/")+e)),t.push(s)),1;if(a=0,r=r===""?".":r+":",vh(e))for(var l=0;l<e.length;l++){i=e[l];var c=r+ol(i,l);a+=jo(i,t,n,c,s)}else if(c=g1(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=r+ol(i,l++),a+=jo(i,t,n,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function Gi(e,t,n){if(e==null)return e;var r=[],s=0;return jo(e,r,"","",function(i){return t.call(n,i,s++)}),r}function w1(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ke={current:null},So={transition:null},j1={ReactCurrentDispatcher:Ke,ReactCurrentBatchConfig:So,ReactCurrentOwner:Nu};function Km(){throw Error("act(...) is not supported in production builds of React.")}Q.Children={map:Gi,forEach:function(e,t,n){Gi(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Gi(e,function(){t++}),t},toArray:function(e){return Gi(e,function(t){return t})||[]},only:function(e){if(!Au(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Q.Component=ps;Q.Fragment=l1;Q.Profiler=u1;Q.PureComponent=bu;Q.StrictMode=c1;Q.Suspense=f1;Q.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=j1;Q.act=Km;Q.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Bm({},e.props),s=e.key,i=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,a=Nu.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)$m.call(t,c)&&!Wm.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Pi,type:e.type,key:s,ref:i,props:r,_owner:a}};Q.createContext=function(e){return e={$$typeof:h1,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:d1,_context:e},e.Consumer=e};Q.createElement=Hm;Q.createFactory=function(e){var t=Hm.bind(null,e);return t.type=e,t};Q.createRef=function(){return{current:null}};Q.forwardRef=function(e){return{$$typeof:p1,render:e}};Q.isValidElement=Au;Q.lazy=function(e){return{$$typeof:y1,_payload:{_status:-1,_result:e},_init:w1}};Q.memo=function(e,t){return{$$typeof:m1,type:e,compare:t===void 0?null:t}};Q.startTransition=function(e){var t=So.transition;So.transition={};try{e()}finally{So.transition=t}};Q.unstable_act=Km;Q.useCallback=function(e,t){return Ke.current.useCallback(e,t)};Q.useContext=function(e){return Ke.current.useContext(e)};Q.useDebugValue=function(){};Q.useDeferredValue=function(e){return Ke.current.useDeferredValue(e)};Q.useEffect=function(e,t){return Ke.current.useEffect(e,t)};Q.useId=function(){return Ke.current.useId()};Q.useImperativeHandle=function(e,t,n){return Ke.current.useImperativeHandle(e,t,n)};Q.useInsertionEffect=function(e,t){return Ke.current.useInsertionEffect(e,t)};Q.useLayoutEffect=function(e,t){return Ke.current.useLayoutEffect(e,t)};Q.useMemo=function(e,t){return Ke.current.useMemo(e,t)};Q.useReducer=function(e,t,n){return Ke.current.useReducer(e,t,n)};Q.useRef=function(e){return Ke.current.useRef(e)};Q.useState=function(e){return Ke.current.useState(e)};Q.useSyncExternalStore=function(e,t,n){return Ke.current.useSyncExternalStore(e,t,n)};Q.useTransition=function(){return Ke.current.useTransition()};Q.version="18.3.1";Fm.exports=Q;var g=Fm.exports;const Gm=o1(g),S1=i1({__proto__:null,default:Gm},[g]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k1=g,b1=Symbol.for("react.element"),C1=Symbol.for("react.fragment"),N1=Object.prototype.hasOwnProperty,A1=k1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,P1={key:!0,ref:!0,__self:!0,__source:!0};function Ym(e,t,n){var r,s={},i=null,a=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)N1.call(t,r)&&!P1.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:b1,type:e,key:i,ref:a,props:s,_owner:A1.current}}wa.Fragment=C1;wa.jsx=Ym;wa.jsxs=Ym;Om.exports=wa;var o=Om.exports,tc={},Qm={exports:{}},dt={},Jm={exports:{}},Xm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(O,$){var W=O.length;O.push($);e:for(;0<W;){var te=W-1>>>1,J=O[te];if(0<s(J,$))O[te]=$,O[W]=J,W=te;else break e}}function n(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var $=O[0],W=O.pop();if(W!==$){O[0]=W;e:for(var te=0,J=O.length,Qe=J>>>1;te<Qe;){var ke=2*(te+1)-1,Ct=O[ke],Le=ke+1,$e=O[Le];if(0>s(Ct,W))Le<J&&0>s($e,Ct)?(O[te]=$e,O[Le]=W,te=Le):(O[te]=Ct,O[ke]=W,te=ke);else if(Le<J&&0>s($e,W))O[te]=$e,O[Le]=W,te=Le;else break e}}return $}function s(O,$){var W=O.sortIndex-$.sortIndex;return W!==0?W:O.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,f=null,m=3,x=!1,k=!1,v=!1,C=typeof setTimeout=="function"?setTimeout:null,h=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(O){for(var $=n(u);$!==null;){if($.callback===null)r(u);else if($.startTime<=O)r(u),$.sortIndex=$.expirationTime,t(c,$);else break;$=n(u)}}function j(O){if(v=!1,y(O),!k)if(n(c)!==null)k=!0,Se(S);else{var $=n(u);$!==null&&q(j,$.startTime-O)}}function S(O,$){k=!1,v&&(v=!1,h(A),A=-1),x=!0;var W=m;try{for(y($),f=n(c);f!==null&&(!(f.expirationTime>$)||O&&!E());){var te=f.callback;if(typeof te=="function"){f.callback=null,m=f.priorityLevel;var J=te(f.expirationTime<=$);$=e.unstable_now(),typeof J=="function"?f.callback=J:f===n(c)&&r(c),y($)}else r(c);f=n(c)}if(f!==null)var Qe=!0;else{var ke=n(u);ke!==null&&q(j,ke.startTime-$),Qe=!1}return Qe}finally{f=null,m=W,x=!1}}var b=!1,T=null,A=-1,N=5,P=-1;function E(){return!(e.unstable_now()-P<N)}function R(){if(T!==null){var O=e.unstable_now();P=O;var $=!0;try{$=T(!0,O)}finally{$?L():(b=!1,T=null)}}else b=!1}var L;if(typeof p=="function")L=function(){p(R)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,Ye=z.port2;z.port1.onmessage=R,L=function(){Ye.postMessage(null)}}else L=function(){C(R,0)};function Se(O){T=O,b||(b=!0,L())}function q(O,$){A=C(function(){O(e.unstable_now())},$)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(O){O.callback=null},e.unstable_continueExecution=function(){k||x||(k=!0,Se(S))},e.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<O?Math.floor(1e3/O):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(O){switch(m){case 1:case 2:case 3:var $=3;break;default:$=m}var W=m;m=$;try{return O()}finally{m=W}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(O,$){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var W=m;m=O;try{return $()}finally{m=W}},e.unstable_scheduleCallback=function(O,$,W){var te=e.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?te+W:te):W=te,O){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=W+J,O={id:d++,callback:$,priorityLevel:O,startTime:W,expirationTime:J,sortIndex:-1},W>te?(O.sortIndex=W,t(u,O),n(c)===null&&O===n(u)&&(v?(h(A),A=-1):v=!0,q(j,W-te))):(O.sortIndex=J,t(c,O),k||x||(k=!0,Se(S))),O},e.unstable_shouldYield=E,e.unstable_wrapCallback=function(O){var $=m;return function(){var W=m;m=$;try{return O.apply(this,arguments)}finally{m=W}}}})(Xm);Jm.exports=Xm;var E1=Jm.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T1=g,ct=E1;function D(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var qm=new Set,ii={};function mr(e,t){ts(e,t),ts(e+"Capture",t)}function ts(e,t){for(ii[e]=t,e=0;e<t.length;e++)qm.add(t[e])}var tn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),nc=Object.prototype.hasOwnProperty,_1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,wh={},jh={};function R1(e){return nc.call(jh,e)?!0:nc.call(wh,e)?!1:_1.test(e)?jh[e]=!0:(wh[e]=!0,!1)}function M1(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function I1(e,t,n,r){if(t===null||typeof t>"u"||M1(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ge(e,t,n,r,s,i,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var Ie={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ie[e]=new Ge(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ie[t]=new Ge(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ie[e]=new Ge(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ie[e]=new Ge(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ie[e]=new Ge(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ie[e]=new Ge(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ie[e]=new Ge(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ie[e]=new Ge(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ie[e]=new Ge(e,5,!1,e.toLowerCase(),null,!1,!1)});var Pu=/[\-:]([a-z])/g;function Eu(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Pu,Eu);Ie[t]=new Ge(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Pu,Eu);Ie[t]=new Ge(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Pu,Eu);Ie[t]=new Ge(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ie[e]=new Ge(e,1,!1,e.toLowerCase(),null,!1,!1)});Ie.xlinkHref=new Ge("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ie[e]=new Ge(e,1,!1,e.toLowerCase(),null,!0,!0)});function Tu(e,t,n,r){var s=Ie.hasOwnProperty(t)?Ie[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(I1(t,n,s,r)&&(n=null),r||s===null?R1(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var ln=T1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Yi=Symbol.for("react.element"),Tr=Symbol.for("react.portal"),_r=Symbol.for("react.fragment"),_u=Symbol.for("react.strict_mode"),rc=Symbol.for("react.profiler"),Zm=Symbol.for("react.provider"),ey=Symbol.for("react.context"),Ru=Symbol.for("react.forward_ref"),sc=Symbol.for("react.suspense"),ic=Symbol.for("react.suspense_list"),Mu=Symbol.for("react.memo"),jn=Symbol.for("react.lazy"),ty=Symbol.for("react.offscreen"),Sh=Symbol.iterator;function bs(e){return e===null||typeof e!="object"?null:(e=Sh&&e[Sh]||e["@@iterator"],typeof e=="function"?e:null)}var fe=Object.assign,al;function Ds(e){if(al===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);al=t&&t[1]||""}return`
`+al+e}var ll=!1;function cl(e,t){if(!e||ll)return"";ll=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),a=s.length-1,l=i.length-1;1<=a&&0<=l&&s[a]!==i[l];)l--;for(;1<=a&&0<=l;a--,l--)if(s[a]!==i[l]){if(a!==1||l!==1)do if(a--,l--,0>l||s[a]!==i[l]){var c=`
`+s[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=l);break}}}finally{ll=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Ds(e):""}function L1(e){switch(e.tag){case 5:return Ds(e.type);case 16:return Ds("Lazy");case 13:return Ds("Suspense");case 19:return Ds("SuspenseList");case 0:case 2:case 15:return e=cl(e.type,!1),e;case 11:return e=cl(e.type.render,!1),e;case 1:return e=cl(e.type,!0),e;default:return""}}function oc(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case _r:return"Fragment";case Tr:return"Portal";case rc:return"Profiler";case _u:return"StrictMode";case sc:return"Suspense";case ic:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ey:return(e.displayName||"Context")+".Consumer";case Zm:return(e._context.displayName||"Context")+".Provider";case Ru:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Mu:return t=e.displayName||null,t!==null?t:oc(e.type)||"Memo";case jn:t=e._payload,e=e._init;try{return oc(e(t))}catch{}}return null}function D1(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return oc(t);case 8:return t===_u?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function On(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ny(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function O1(e){var t=ny(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){r=""+a,i.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Qi(e){e._valueTracker||(e._valueTracker=O1(e))}function ry(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ny(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Do(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ac(e,t){var n=t.checked;return fe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function kh(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=On(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function sy(e,t){t=t.checked,t!=null&&Tu(e,"checked",t,!1)}function lc(e,t){sy(e,t);var n=On(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?cc(e,t.type,n):t.hasOwnProperty("defaultValue")&&cc(e,t.type,On(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function bh(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function cc(e,t,n){(t!=="number"||Do(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Os=Array.isArray;function Gr(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+On(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function uc(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(D(91));return fe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ch(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(D(92));if(Os(n)){if(1<n.length)throw Error(D(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:On(n)}}function iy(e,t){var n=On(t.value),r=On(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Nh(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function oy(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function dc(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?oy(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ji,ay=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ji=Ji||document.createElement("div"),Ji.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ji.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function oi(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Hs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},F1=["Webkit","ms","Moz","O"];Object.keys(Hs).forEach(function(e){F1.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Hs[t]=Hs[e]})});function ly(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Hs.hasOwnProperty(e)&&Hs[e]?(""+t).trim():t+"px"}function cy(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=ly(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var V1=fe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function hc(e,t){if(t){if(V1[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(D(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(D(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(D(61))}if(t.style!=null&&typeof t.style!="object")throw Error(D(62))}}function pc(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fc=null;function Iu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var mc=null,Yr=null,Qr=null;function Ah(e){if(e=_i(e)){if(typeof mc!="function")throw Error(D(280));var t=e.stateNode;t&&(t=Ca(t),mc(e.stateNode,e.type,t))}}function uy(e){Yr?Qr?Qr.push(e):Qr=[e]:Yr=e}function dy(){if(Yr){var e=Yr,t=Qr;if(Qr=Yr=null,Ah(e),t)for(e=0;e<t.length;e++)Ah(t[e])}}function hy(e,t){return e(t)}function py(){}var ul=!1;function fy(e,t,n){if(ul)return e(t,n);ul=!0;try{return hy(e,t,n)}finally{ul=!1,(Yr!==null||Qr!==null)&&(py(),dy())}}function ai(e,t){var n=e.stateNode;if(n===null)return null;var r=Ca(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(D(231,t,typeof n));return n}var yc=!1;if(tn)try{var Cs={};Object.defineProperty(Cs,"passive",{get:function(){yc=!0}}),window.addEventListener("test",Cs,Cs),window.removeEventListener("test",Cs,Cs)}catch{yc=!1}function B1(e,t,n,r,s,i,a,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var Ks=!1,Oo=null,Fo=!1,gc=null,U1={onError:function(e){Ks=!0,Oo=e}};function z1(e,t,n,r,s,i,a,l,c){Ks=!1,Oo=null,B1.apply(U1,arguments)}function $1(e,t,n,r,s,i,a,l,c){if(z1.apply(this,arguments),Ks){if(Ks){var u=Oo;Ks=!1,Oo=null}else throw Error(D(198));Fo||(Fo=!0,gc=u)}}function yr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function my(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ph(e){if(yr(e)!==e)throw Error(D(188))}function W1(e){var t=e.alternate;if(!t){if(t=yr(e),t===null)throw Error(D(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Ph(s),e;if(i===r)return Ph(s),t;i=i.sibling}throw Error(D(188))}if(n.return!==r.return)n=s,r=i;else{for(var a=!1,l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a){for(l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a)throw Error(D(189))}}if(n.alternate!==r)throw Error(D(190))}if(n.tag!==3)throw Error(D(188));return n.stateNode.current===n?e:t}function yy(e){return e=W1(e),e!==null?gy(e):null}function gy(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=gy(e);if(t!==null)return t;e=e.sibling}return null}var vy=ct.unstable_scheduleCallback,Eh=ct.unstable_cancelCallback,H1=ct.unstable_shouldYield,K1=ct.unstable_requestPaint,xe=ct.unstable_now,G1=ct.unstable_getCurrentPriorityLevel,Lu=ct.unstable_ImmediatePriority,xy=ct.unstable_UserBlockingPriority,Vo=ct.unstable_NormalPriority,Y1=ct.unstable_LowPriority,wy=ct.unstable_IdlePriority,ja=null,$t=null;function Q1(e){if($t&&typeof $t.onCommitFiberRoot=="function")try{$t.onCommitFiberRoot(ja,e,void 0,(e.current.flags&128)===128)}catch{}}var _t=Math.clz32?Math.clz32:q1,J1=Math.log,X1=Math.LN2;function q1(e){return e>>>=0,e===0?32:31-(J1(e)/X1|0)|0}var Xi=64,qi=4194304;function Fs(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Bo(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,a=n&268435455;if(a!==0){var l=a&~s;l!==0?r=Fs(l):(i&=a,i!==0&&(r=Fs(i)))}else a=n&~s,a!==0?r=Fs(a):i!==0&&(r=Fs(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-_t(t),s=1<<n,r|=e[n],t&=~s;return r}function Z1(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ew(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-_t(i),l=1<<a,c=s[a];c===-1?(!(l&n)||l&r)&&(s[a]=Z1(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function vc(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function jy(){var e=Xi;return Xi<<=1,!(Xi&4194240)&&(Xi=64),e}function dl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ei(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-_t(t),e[t]=n}function tw(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-_t(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function Du(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-_t(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var re=0;function Sy(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var ky,Ou,by,Cy,Ny,xc=!1,Zi=[],Pn=null,En=null,Tn=null,li=new Map,ci=new Map,kn=[],nw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Th(e,t){switch(e){case"focusin":case"focusout":Pn=null;break;case"dragenter":case"dragleave":En=null;break;case"mouseover":case"mouseout":Tn=null;break;case"pointerover":case"pointerout":li.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ci.delete(t.pointerId)}}function Ns(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=_i(t),t!==null&&Ou(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function rw(e,t,n,r,s){switch(t){case"focusin":return Pn=Ns(Pn,e,t,n,r,s),!0;case"dragenter":return En=Ns(En,e,t,n,r,s),!0;case"mouseover":return Tn=Ns(Tn,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return li.set(i,Ns(li.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,ci.set(i,Ns(ci.get(i)||null,e,t,n,r,s)),!0}return!1}function Ay(e){var t=rr(e.target);if(t!==null){var n=yr(t);if(n!==null){if(t=n.tag,t===13){if(t=my(n),t!==null){e.blockedOn=t,Ny(e.priority,function(){by(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ko(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=wc(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);fc=r,n.target.dispatchEvent(r),fc=null}else return t=_i(n),t!==null&&Ou(t),e.blockedOn=n,!1;t.shift()}return!0}function _h(e,t,n){ko(e)&&n.delete(t)}function sw(){xc=!1,Pn!==null&&ko(Pn)&&(Pn=null),En!==null&&ko(En)&&(En=null),Tn!==null&&ko(Tn)&&(Tn=null),li.forEach(_h),ci.forEach(_h)}function As(e,t){e.blockedOn===t&&(e.blockedOn=null,xc||(xc=!0,ct.unstable_scheduleCallback(ct.unstable_NormalPriority,sw)))}function ui(e){function t(s){return As(s,e)}if(0<Zi.length){As(Zi[0],e);for(var n=1;n<Zi.length;n++){var r=Zi[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Pn!==null&&As(Pn,e),En!==null&&As(En,e),Tn!==null&&As(Tn,e),li.forEach(t),ci.forEach(t),n=0;n<kn.length;n++)r=kn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<kn.length&&(n=kn[0],n.blockedOn===null);)Ay(n),n.blockedOn===null&&kn.shift()}var Jr=ln.ReactCurrentBatchConfig,Uo=!0;function iw(e,t,n,r){var s=re,i=Jr.transition;Jr.transition=null;try{re=1,Fu(e,t,n,r)}finally{re=s,Jr.transition=i}}function ow(e,t,n,r){var s=re,i=Jr.transition;Jr.transition=null;try{re=4,Fu(e,t,n,r)}finally{re=s,Jr.transition=i}}function Fu(e,t,n,r){if(Uo){var s=wc(e,t,n,r);if(s===null)jl(e,t,r,zo,n),Th(e,r);else if(rw(s,e,t,n,r))r.stopPropagation();else if(Th(e,r),t&4&&-1<nw.indexOf(e)){for(;s!==null;){var i=_i(s);if(i!==null&&ky(i),i=wc(e,t,n,r),i===null&&jl(e,t,r,zo,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else jl(e,t,r,null,n)}}var zo=null;function wc(e,t,n,r){if(zo=null,e=Iu(r),e=rr(e),e!==null)if(t=yr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=my(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return zo=e,null}function Py(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(G1()){case Lu:return 1;case xy:return 4;case Vo:case Y1:return 16;case wy:return 536870912;default:return 16}default:return 16}}var Cn=null,Vu=null,bo=null;function Ey(){if(bo)return bo;var e,t=Vu,n=t.length,r,s="value"in Cn?Cn.value:Cn.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===s[i-r];r++);return bo=s.slice(e,1<r?1-r:void 0)}function Co(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function eo(){return!0}function Rh(){return!1}function ht(e){function t(n,r,s,i,a){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?eo:Rh,this.isPropagationStopped=Rh,this}return fe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=eo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=eo)},persist:function(){},isPersistent:eo}),t}var fs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bu=ht(fs),Ti=fe({},fs,{view:0,detail:0}),aw=ht(Ti),hl,pl,Ps,Sa=fe({},Ti,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Uu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ps&&(Ps&&e.type==="mousemove"?(hl=e.screenX-Ps.screenX,pl=e.screenY-Ps.screenY):pl=hl=0,Ps=e),hl)},movementY:function(e){return"movementY"in e?e.movementY:pl}}),Mh=ht(Sa),lw=fe({},Sa,{dataTransfer:0}),cw=ht(lw),uw=fe({},Ti,{relatedTarget:0}),fl=ht(uw),dw=fe({},fs,{animationName:0,elapsedTime:0,pseudoElement:0}),hw=ht(dw),pw=fe({},fs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),fw=ht(pw),mw=fe({},fs,{data:0}),Ih=ht(mw),yw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xw(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=vw[e])?!!t[e]:!1}function Uu(){return xw}var ww=fe({},Ti,{key:function(e){if(e.key){var t=yw[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Co(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?gw[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Uu,charCode:function(e){return e.type==="keypress"?Co(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Co(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),jw=ht(ww),Sw=fe({},Sa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Lh=ht(Sw),kw=fe({},Ti,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Uu}),bw=ht(kw),Cw=fe({},fs,{propertyName:0,elapsedTime:0,pseudoElement:0}),Nw=ht(Cw),Aw=fe({},Sa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pw=ht(Aw),Ew=[9,13,27,32],zu=tn&&"CompositionEvent"in window,Gs=null;tn&&"documentMode"in document&&(Gs=document.documentMode);var Tw=tn&&"TextEvent"in window&&!Gs,Ty=tn&&(!zu||Gs&&8<Gs&&11>=Gs),Dh=" ",Oh=!1;function _y(e,t){switch(e){case"keyup":return Ew.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ry(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Rr=!1;function _w(e,t){switch(e){case"compositionend":return Ry(t);case"keypress":return t.which!==32?null:(Oh=!0,Dh);case"textInput":return e=t.data,e===Dh&&Oh?null:e;default:return null}}function Rw(e,t){if(Rr)return e==="compositionend"||!zu&&_y(e,t)?(e=Ey(),bo=Vu=Cn=null,Rr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ty&&t.locale!=="ko"?null:t.data;default:return null}}var Mw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Mw[e.type]:t==="textarea"}function My(e,t,n,r){uy(r),t=$o(t,"onChange"),0<t.length&&(n=new Bu("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Ys=null,di=null;function Iw(e){Wy(e,0)}function ka(e){var t=Lr(e);if(ry(t))return e}function Lw(e,t){if(e==="change")return t}var Iy=!1;if(tn){var ml;if(tn){var yl="oninput"in document;if(!yl){var Vh=document.createElement("div");Vh.setAttribute("oninput","return;"),yl=typeof Vh.oninput=="function"}ml=yl}else ml=!1;Iy=ml&&(!document.documentMode||9<document.documentMode)}function Bh(){Ys&&(Ys.detachEvent("onpropertychange",Ly),di=Ys=null)}function Ly(e){if(e.propertyName==="value"&&ka(di)){var t=[];My(t,di,e,Iu(e)),fy(Iw,t)}}function Dw(e,t,n){e==="focusin"?(Bh(),Ys=t,di=n,Ys.attachEvent("onpropertychange",Ly)):e==="focusout"&&Bh()}function Ow(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ka(di)}function Fw(e,t){if(e==="click")return ka(t)}function Vw(e,t){if(e==="input"||e==="change")return ka(t)}function Bw(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Mt=typeof Object.is=="function"?Object.is:Bw;function hi(e,t){if(Mt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!nc.call(t,s)||!Mt(e[s],t[s]))return!1}return!0}function Uh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function zh(e,t){var n=Uh(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Uh(n)}}function Dy(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Dy(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Oy(){for(var e=window,t=Do();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Do(e.document)}return t}function $u(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Uw(e){var t=Oy(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Dy(n.ownerDocument.documentElement,n)){if(r!==null&&$u(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=zh(n,i);var a=zh(n,r);s&&a&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var zw=tn&&"documentMode"in document&&11>=document.documentMode,Mr=null,jc=null,Qs=null,Sc=!1;function $h(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Sc||Mr==null||Mr!==Do(r)||(r=Mr,"selectionStart"in r&&$u(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Qs&&hi(Qs,r)||(Qs=r,r=$o(jc,"onSelect"),0<r.length&&(t=new Bu("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Mr)))}function to(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ir={animationend:to("Animation","AnimationEnd"),animationiteration:to("Animation","AnimationIteration"),animationstart:to("Animation","AnimationStart"),transitionend:to("Transition","TransitionEnd")},gl={},Fy={};tn&&(Fy=document.createElement("div").style,"AnimationEvent"in window||(delete Ir.animationend.animation,delete Ir.animationiteration.animation,delete Ir.animationstart.animation),"TransitionEvent"in window||delete Ir.transitionend.transition);function ba(e){if(gl[e])return gl[e];if(!Ir[e])return e;var t=Ir[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Fy)return gl[e]=t[n];return e}var Vy=ba("animationend"),By=ba("animationiteration"),Uy=ba("animationstart"),zy=ba("transitionend"),$y=new Map,Wh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Bn(e,t){$y.set(e,t),mr(t,[e])}for(var vl=0;vl<Wh.length;vl++){var xl=Wh[vl],$w=xl.toLowerCase(),Ww=xl[0].toUpperCase()+xl.slice(1);Bn($w,"on"+Ww)}Bn(Vy,"onAnimationEnd");Bn(By,"onAnimationIteration");Bn(Uy,"onAnimationStart");Bn("dblclick","onDoubleClick");Bn("focusin","onFocus");Bn("focusout","onBlur");Bn(zy,"onTransitionEnd");ts("onMouseEnter",["mouseout","mouseover"]);ts("onMouseLeave",["mouseout","mouseover"]);ts("onPointerEnter",["pointerout","pointerover"]);ts("onPointerLeave",["pointerout","pointerover"]);mr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));mr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));mr("onBeforeInput",["compositionend","keypress","textInput","paste"]);mr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));mr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));mr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Hw=new Set("cancel close invalid load scroll toggle".split(" ").concat(Vs));function Hh(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,$1(r,t,void 0,e),e.currentTarget=null}function Wy(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var a=r.length-1;0<=a;a--){var l=r[a],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;Hh(s,l,u),i=c}else for(a=0;a<r.length;a++){if(l=r[a],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;Hh(s,l,u),i=c}}}if(Fo)throw e=gc,Fo=!1,gc=null,e}function ae(e,t){var n=t[Ac];n===void 0&&(n=t[Ac]=new Set);var r=e+"__bubble";n.has(r)||(Hy(t,e,2,!1),n.add(r))}function wl(e,t,n){var r=0;t&&(r|=4),Hy(n,e,r,t)}var no="_reactListening"+Math.random().toString(36).slice(2);function pi(e){if(!e[no]){e[no]=!0,qm.forEach(function(n){n!=="selectionchange"&&(Hw.has(n)||wl(n,!1,e),wl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[no]||(t[no]=!0,wl("selectionchange",!1,t))}}function Hy(e,t,n,r){switch(Py(t)){case 1:var s=iw;break;case 4:s=ow;break;default:s=Fu}n=s.bind(null,t,n,e),s=void 0,!yc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function jl(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;l!==null;){if(a=rr(l),a===null)return;if(c=a.tag,c===5||c===6){r=i=a;continue e}l=l.parentNode}}r=r.return}fy(function(){var u=i,d=Iu(n),f=[];e:{var m=$y.get(e);if(m!==void 0){var x=Bu,k=e;switch(e){case"keypress":if(Co(n)===0)break e;case"keydown":case"keyup":x=jw;break;case"focusin":k="focus",x=fl;break;case"focusout":k="blur",x=fl;break;case"beforeblur":case"afterblur":x=fl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=Mh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=cw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=bw;break;case Vy:case By:case Uy:x=hw;break;case zy:x=Nw;break;case"scroll":x=aw;break;case"wheel":x=Pw;break;case"copy":case"cut":case"paste":x=fw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=Lh}var v=(t&4)!==0,C=!v&&e==="scroll",h=v?m!==null?m+"Capture":null:m;v=[];for(var p=u,y;p!==null;){y=p;var j=y.stateNode;if(y.tag===5&&j!==null&&(y=j,h!==null&&(j=ai(p,h),j!=null&&v.push(fi(p,j,y)))),C)break;p=p.return}0<v.length&&(m=new x(m,k,null,n,d),f.push({event:m,listeners:v}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",x=e==="mouseout"||e==="pointerout",m&&n!==fc&&(k=n.relatedTarget||n.fromElement)&&(rr(k)||k[nn]))break e;if((x||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,x?(k=n.relatedTarget||n.toElement,x=u,k=k?rr(k):null,k!==null&&(C=yr(k),k!==C||k.tag!==5&&k.tag!==6)&&(k=null)):(x=null,k=u),x!==k)){if(v=Mh,j="onMouseLeave",h="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(v=Lh,j="onPointerLeave",h="onPointerEnter",p="pointer"),C=x==null?m:Lr(x),y=k==null?m:Lr(k),m=new v(j,p+"leave",x,n,d),m.target=C,m.relatedTarget=y,j=null,rr(d)===u&&(v=new v(h,p+"enter",k,n,d),v.target=y,v.relatedTarget=C,j=v),C=j,x&&k)t:{for(v=x,h=k,p=0,y=v;y;y=Nr(y))p++;for(y=0,j=h;j;j=Nr(j))y++;for(;0<p-y;)v=Nr(v),p--;for(;0<y-p;)h=Nr(h),y--;for(;p--;){if(v===h||h!==null&&v===h.alternate)break t;v=Nr(v),h=Nr(h)}v=null}else v=null;x!==null&&Kh(f,m,x,v,!1),k!==null&&C!==null&&Kh(f,C,k,v,!0)}}e:{if(m=u?Lr(u):window,x=m.nodeName&&m.nodeName.toLowerCase(),x==="select"||x==="input"&&m.type==="file")var S=Lw;else if(Fh(m))if(Iy)S=Vw;else{S=Ow;var b=Dw}else(x=m.nodeName)&&x.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(S=Fw);if(S&&(S=S(e,u))){My(f,S,n,d);break e}b&&b(e,m,u),e==="focusout"&&(b=m._wrapperState)&&b.controlled&&m.type==="number"&&cc(m,"number",m.value)}switch(b=u?Lr(u):window,e){case"focusin":(Fh(b)||b.contentEditable==="true")&&(Mr=b,jc=u,Qs=null);break;case"focusout":Qs=jc=Mr=null;break;case"mousedown":Sc=!0;break;case"contextmenu":case"mouseup":case"dragend":Sc=!1,$h(f,n,d);break;case"selectionchange":if(zw)break;case"keydown":case"keyup":$h(f,n,d)}var T;if(zu)e:{switch(e){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else Rr?_y(e,n)&&(A="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(Ty&&n.locale!=="ko"&&(Rr||A!=="onCompositionStart"?A==="onCompositionEnd"&&Rr&&(T=Ey()):(Cn=d,Vu="value"in Cn?Cn.value:Cn.textContent,Rr=!0)),b=$o(u,A),0<b.length&&(A=new Ih(A,e,null,n,d),f.push({event:A,listeners:b}),T?A.data=T:(T=Ry(n),T!==null&&(A.data=T)))),(T=Tw?_w(e,n):Rw(e,n))&&(u=$o(u,"onBeforeInput"),0<u.length&&(d=new Ih("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=T))}Wy(f,t)})}function fi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function $o(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=ai(e,n),i!=null&&r.unshift(fi(e,i,s)),i=ai(e,t),i!=null&&r.push(fi(e,i,s))),e=e.return}return r}function Nr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Kh(e,t,n,r,s){for(var i=t._reactName,a=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,s?(c=ai(n,i),c!=null&&a.unshift(fi(n,c,l))):s||(c=ai(n,i),c!=null&&a.push(fi(n,c,l)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var Kw=/\r\n?/g,Gw=/\u0000|\uFFFD/g;function Gh(e){return(typeof e=="string"?e:""+e).replace(Kw,`
`).replace(Gw,"")}function ro(e,t,n){if(t=Gh(t),Gh(e)!==t&&n)throw Error(D(425))}function Wo(){}var kc=null,bc=null;function Cc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Nc=typeof setTimeout=="function"?setTimeout:void 0,Yw=typeof clearTimeout=="function"?clearTimeout:void 0,Yh=typeof Promise=="function"?Promise:void 0,Qw=typeof queueMicrotask=="function"?queueMicrotask:typeof Yh<"u"?function(e){return Yh.resolve(null).then(e).catch(Jw)}:Nc;function Jw(e){setTimeout(function(){throw e})}function Sl(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),ui(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);ui(t)}function _n(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Qh(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var ms=Math.random().toString(36).slice(2),zt="__reactFiber$"+ms,mi="__reactProps$"+ms,nn="__reactContainer$"+ms,Ac="__reactEvents$"+ms,Xw="__reactListeners$"+ms,qw="__reactHandles$"+ms;function rr(e){var t=e[zt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[nn]||n[zt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Qh(e);e!==null;){if(n=e[zt])return n;e=Qh(e)}return t}e=n,n=e.parentNode}return null}function _i(e){return e=e[zt]||e[nn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Lr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(D(33))}function Ca(e){return e[mi]||null}var Pc=[],Dr=-1;function Un(e){return{current:e}}function le(e){0>Dr||(e.current=Pc[Dr],Pc[Dr]=null,Dr--)}function oe(e,t){Dr++,Pc[Dr]=e.current,e.current=t}var Fn={},ze=Un(Fn),Ze=Un(!1),ur=Fn;function ns(e,t){var n=e.type.contextTypes;if(!n)return Fn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function et(e){return e=e.childContextTypes,e!=null}function Ho(){le(Ze),le(ze)}function Jh(e,t,n){if(ze.current!==Fn)throw Error(D(168));oe(ze,t),oe(Ze,n)}function Ky(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(D(108,D1(e)||"Unknown",s));return fe({},n,r)}function Ko(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Fn,ur=ze.current,oe(ze,e),oe(Ze,Ze.current),!0}function Xh(e,t,n){var r=e.stateNode;if(!r)throw Error(D(169));n?(e=Ky(e,t,ur),r.__reactInternalMemoizedMergedChildContext=e,le(Ze),le(ze),oe(ze,e)):le(Ze),oe(Ze,n)}var Qt=null,Na=!1,kl=!1;function Gy(e){Qt===null?Qt=[e]:Qt.push(e)}function Zw(e){Na=!0,Gy(e)}function zn(){if(!kl&&Qt!==null){kl=!0;var e=0,t=re;try{var n=Qt;for(re=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Qt=null,Na=!1}catch(s){throw Qt!==null&&(Qt=Qt.slice(e+1)),vy(Lu,zn),s}finally{re=t,kl=!1}}return null}var Or=[],Fr=0,Go=null,Yo=0,xt=[],wt=0,dr=null,Jt=1,Xt="";function qn(e,t){Or[Fr++]=Yo,Or[Fr++]=Go,Go=e,Yo=t}function Yy(e,t,n){xt[wt++]=Jt,xt[wt++]=Xt,xt[wt++]=dr,dr=e;var r=Jt;e=Xt;var s=32-_t(r)-1;r&=~(1<<s),n+=1;var i=32-_t(t)+s;if(30<i){var a=s-s%5;i=(r&(1<<a)-1).toString(32),r>>=a,s-=a,Jt=1<<32-_t(t)+s|n<<s|r,Xt=i+e}else Jt=1<<i|n<<s|r,Xt=e}function Wu(e){e.return!==null&&(qn(e,1),Yy(e,1,0))}function Hu(e){for(;e===Go;)Go=Or[--Fr],Or[Fr]=null,Yo=Or[--Fr],Or[Fr]=null;for(;e===dr;)dr=xt[--wt],xt[wt]=null,Xt=xt[--wt],xt[wt]=null,Jt=xt[--wt],xt[wt]=null}var at=null,ot=null,ce=!1,Tt=null;function Qy(e,t){var n=jt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function qh(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,at=e,ot=_n(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,at=e,ot=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=dr!==null?{id:Jt,overflow:Xt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=jt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,at=e,ot=null,!0):!1;default:return!1}}function Ec(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Tc(e){if(ce){var t=ot;if(t){var n=t;if(!qh(e,t)){if(Ec(e))throw Error(D(418));t=_n(n.nextSibling);var r=at;t&&qh(e,t)?Qy(r,n):(e.flags=e.flags&-4097|2,ce=!1,at=e)}}else{if(Ec(e))throw Error(D(418));e.flags=e.flags&-4097|2,ce=!1,at=e}}}function Zh(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;at=e}function so(e){if(e!==at)return!1;if(!ce)return Zh(e),ce=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Cc(e.type,e.memoizedProps)),t&&(t=ot)){if(Ec(e))throw Jy(),Error(D(418));for(;t;)Qy(e,t),t=_n(t.nextSibling)}if(Zh(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(D(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){ot=_n(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}ot=null}}else ot=at?_n(e.stateNode.nextSibling):null;return!0}function Jy(){for(var e=ot;e;)e=_n(e.nextSibling)}function rs(){ot=at=null,ce=!1}function Ku(e){Tt===null?Tt=[e]:Tt.push(e)}var ej=ln.ReactCurrentBatchConfig;function Es(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(D(309));var r=n.stateNode}if(!r)throw Error(D(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(a){var l=s.refs;a===null?delete l[i]:l[i]=a},t._stringRef=i,t)}if(typeof e!="string")throw Error(D(284));if(!n._owner)throw Error(D(290,e))}return e}function io(e,t){throw e=Object.prototype.toString.call(t),Error(D(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ep(e){var t=e._init;return t(e._payload)}function Xy(e){function t(h,p){if(e){var y=h.deletions;y===null?(h.deletions=[p],h.flags|=16):y.push(p)}}function n(h,p){if(!e)return null;for(;p!==null;)t(h,p),p=p.sibling;return null}function r(h,p){for(h=new Map;p!==null;)p.key!==null?h.set(p.key,p):h.set(p.index,p),p=p.sibling;return h}function s(h,p){return h=Ln(h,p),h.index=0,h.sibling=null,h}function i(h,p,y){return h.index=y,e?(y=h.alternate,y!==null?(y=y.index,y<p?(h.flags|=2,p):y):(h.flags|=2,p)):(h.flags|=1048576,p)}function a(h){return e&&h.alternate===null&&(h.flags|=2),h}function l(h,p,y,j){return p===null||p.tag!==6?(p=Tl(y,h.mode,j),p.return=h,p):(p=s(p,y),p.return=h,p)}function c(h,p,y,j){var S=y.type;return S===_r?d(h,p,y.props.children,j,y.key):p!==null&&(p.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===jn&&ep(S)===p.type)?(j=s(p,y.props),j.ref=Es(h,p,y),j.return=h,j):(j=Ro(y.type,y.key,y.props,null,h.mode,j),j.ref=Es(h,p,y),j.return=h,j)}function u(h,p,y,j){return p===null||p.tag!==4||p.stateNode.containerInfo!==y.containerInfo||p.stateNode.implementation!==y.implementation?(p=_l(y,h.mode,j),p.return=h,p):(p=s(p,y.children||[]),p.return=h,p)}function d(h,p,y,j,S){return p===null||p.tag!==7?(p=lr(y,h.mode,j,S),p.return=h,p):(p=s(p,y),p.return=h,p)}function f(h,p,y){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Tl(""+p,h.mode,y),p.return=h,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Yi:return y=Ro(p.type,p.key,p.props,null,h.mode,y),y.ref=Es(h,null,p),y.return=h,y;case Tr:return p=_l(p,h.mode,y),p.return=h,p;case jn:var j=p._init;return f(h,j(p._payload),y)}if(Os(p)||bs(p))return p=lr(p,h.mode,y,null),p.return=h,p;io(h,p)}return null}function m(h,p,y,j){var S=p!==null?p.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return S!==null?null:l(h,p,""+y,j);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Yi:return y.key===S?c(h,p,y,j):null;case Tr:return y.key===S?u(h,p,y,j):null;case jn:return S=y._init,m(h,p,S(y._payload),j)}if(Os(y)||bs(y))return S!==null?null:d(h,p,y,j,null);io(h,y)}return null}function x(h,p,y,j,S){if(typeof j=="string"&&j!==""||typeof j=="number")return h=h.get(y)||null,l(p,h,""+j,S);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Yi:return h=h.get(j.key===null?y:j.key)||null,c(p,h,j,S);case Tr:return h=h.get(j.key===null?y:j.key)||null,u(p,h,j,S);case jn:var b=j._init;return x(h,p,y,b(j._payload),S)}if(Os(j)||bs(j))return h=h.get(y)||null,d(p,h,j,S,null);io(p,j)}return null}function k(h,p,y,j){for(var S=null,b=null,T=p,A=p=0,N=null;T!==null&&A<y.length;A++){T.index>A?(N=T,T=null):N=T.sibling;var P=m(h,T,y[A],j);if(P===null){T===null&&(T=N);break}e&&T&&P.alternate===null&&t(h,T),p=i(P,p,A),b===null?S=P:b.sibling=P,b=P,T=N}if(A===y.length)return n(h,T),ce&&qn(h,A),S;if(T===null){for(;A<y.length;A++)T=f(h,y[A],j),T!==null&&(p=i(T,p,A),b===null?S=T:b.sibling=T,b=T);return ce&&qn(h,A),S}for(T=r(h,T);A<y.length;A++)N=x(T,h,A,y[A],j),N!==null&&(e&&N.alternate!==null&&T.delete(N.key===null?A:N.key),p=i(N,p,A),b===null?S=N:b.sibling=N,b=N);return e&&T.forEach(function(E){return t(h,E)}),ce&&qn(h,A),S}function v(h,p,y,j){var S=bs(y);if(typeof S!="function")throw Error(D(150));if(y=S.call(y),y==null)throw Error(D(151));for(var b=S=null,T=p,A=p=0,N=null,P=y.next();T!==null&&!P.done;A++,P=y.next()){T.index>A?(N=T,T=null):N=T.sibling;var E=m(h,T,P.value,j);if(E===null){T===null&&(T=N);break}e&&T&&E.alternate===null&&t(h,T),p=i(E,p,A),b===null?S=E:b.sibling=E,b=E,T=N}if(P.done)return n(h,T),ce&&qn(h,A),S;if(T===null){for(;!P.done;A++,P=y.next())P=f(h,P.value,j),P!==null&&(p=i(P,p,A),b===null?S=P:b.sibling=P,b=P);return ce&&qn(h,A),S}for(T=r(h,T);!P.done;A++,P=y.next())P=x(T,h,A,P.value,j),P!==null&&(e&&P.alternate!==null&&T.delete(P.key===null?A:P.key),p=i(P,p,A),b===null?S=P:b.sibling=P,b=P);return e&&T.forEach(function(R){return t(h,R)}),ce&&qn(h,A),S}function C(h,p,y,j){if(typeof y=="object"&&y!==null&&y.type===_r&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Yi:e:{for(var S=y.key,b=p;b!==null;){if(b.key===S){if(S=y.type,S===_r){if(b.tag===7){n(h,b.sibling),p=s(b,y.props.children),p.return=h,h=p;break e}}else if(b.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===jn&&ep(S)===b.type){n(h,b.sibling),p=s(b,y.props),p.ref=Es(h,b,y),p.return=h,h=p;break e}n(h,b);break}else t(h,b);b=b.sibling}y.type===_r?(p=lr(y.props.children,h.mode,j,y.key),p.return=h,h=p):(j=Ro(y.type,y.key,y.props,null,h.mode,j),j.ref=Es(h,p,y),j.return=h,h=j)}return a(h);case Tr:e:{for(b=y.key;p!==null;){if(p.key===b)if(p.tag===4&&p.stateNode.containerInfo===y.containerInfo&&p.stateNode.implementation===y.implementation){n(h,p.sibling),p=s(p,y.children||[]),p.return=h,h=p;break e}else{n(h,p);break}else t(h,p);p=p.sibling}p=_l(y,h.mode,j),p.return=h,h=p}return a(h);case jn:return b=y._init,C(h,p,b(y._payload),j)}if(Os(y))return k(h,p,y,j);if(bs(y))return v(h,p,y,j);io(h,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,p!==null&&p.tag===6?(n(h,p.sibling),p=s(p,y),p.return=h,h=p):(n(h,p),p=Tl(y,h.mode,j),p.return=h,h=p),a(h)):n(h,p)}return C}var ss=Xy(!0),qy=Xy(!1),Qo=Un(null),Jo=null,Vr=null,Gu=null;function Yu(){Gu=Vr=Jo=null}function Qu(e){var t=Qo.current;le(Qo),e._currentValue=t}function _c(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Xr(e,t){Jo=e,Gu=Vr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(qe=!0),e.firstContext=null)}function kt(e){var t=e._currentValue;if(Gu!==e)if(e={context:e,memoizedValue:t,next:null},Vr===null){if(Jo===null)throw Error(D(308));Vr=e,Jo.dependencies={lanes:0,firstContext:e}}else Vr=Vr.next=e;return t}var sr=null;function Ju(e){sr===null?sr=[e]:sr.push(e)}function Zy(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Ju(t)):(n.next=s.next,s.next=n),t.interleaved=n,rn(e,r)}function rn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Sn=!1;function Xu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function eg(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function qt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Rn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,X&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,rn(e,n)}return s=r.interleaved,s===null?(t.next=t,Ju(r)):(t.next=s.next,s.next=t),r.interleaved=t,rn(e,n)}function No(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Du(e,n)}}function tp(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Xo(e,t,n,r){var s=e.updateQueue;Sn=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,a===null?i=u:a.next=u,a=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=s.baseState;a=0,d=u=c=null,l=i;do{var m=l.lane,x=l.eventTime;if((r&m)===m){d!==null&&(d=d.next={eventTime:x,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var k=e,v=l;switch(m=t,x=n,v.tag){case 1:if(k=v.payload,typeof k=="function"){f=k.call(x,f,m);break e}f=k;break e;case 3:k.flags=k.flags&-65537|128;case 0:if(k=v.payload,m=typeof k=="function"?k.call(x,f,m):k,m==null)break e;f=fe({},f,m);break e;case 2:Sn=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,m=s.effects,m===null?s.effects=[l]:m.push(l))}else x={eventTime:x,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=x,c=f):d=d.next=x,a|=m;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;m=l,l=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);pr|=a,e.lanes=a,e.memoizedState=f}}function np(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(D(191,s));s.call(r)}}}var Ri={},Wt=Un(Ri),yi=Un(Ri),gi=Un(Ri);function ir(e){if(e===Ri)throw Error(D(174));return e}function qu(e,t){switch(oe(gi,t),oe(yi,e),oe(Wt,Ri),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:dc(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=dc(t,e)}le(Wt),oe(Wt,t)}function is(){le(Wt),le(yi),le(gi)}function tg(e){ir(gi.current);var t=ir(Wt.current),n=dc(t,e.type);t!==n&&(oe(yi,e),oe(Wt,n))}function Zu(e){yi.current===e&&(le(Wt),le(yi))}var ue=Un(0);function qo(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var bl=[];function ed(){for(var e=0;e<bl.length;e++)bl[e]._workInProgressVersionPrimary=null;bl.length=0}var Ao=ln.ReactCurrentDispatcher,Cl=ln.ReactCurrentBatchConfig,hr=0,he=null,be=null,Ae=null,Zo=!1,Js=!1,vi=0,tj=0;function Oe(){throw Error(D(321))}function td(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Mt(e[n],t[n]))return!1;return!0}function nd(e,t,n,r,s,i){if(hr=i,he=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ao.current=e===null||e.memoizedState===null?ij:oj,e=n(r,s),Js){i=0;do{if(Js=!1,vi=0,25<=i)throw Error(D(301));i+=1,Ae=be=null,t.updateQueue=null,Ao.current=aj,e=n(r,s)}while(Js)}if(Ao.current=ea,t=be!==null&&be.next!==null,hr=0,Ae=be=he=null,Zo=!1,t)throw Error(D(300));return e}function rd(){var e=vi!==0;return vi=0,e}function Ut(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ae===null?he.memoizedState=Ae=e:Ae=Ae.next=e,Ae}function bt(){if(be===null){var e=he.alternate;e=e!==null?e.memoizedState:null}else e=be.next;var t=Ae===null?he.memoizedState:Ae.next;if(t!==null)Ae=t,be=e;else{if(e===null)throw Error(D(310));be=e,e={memoizedState:be.memoizedState,baseState:be.baseState,baseQueue:be.baseQueue,queue:be.queue,next:null},Ae===null?he.memoizedState=Ae=e:Ae=Ae.next=e}return Ae}function xi(e,t){return typeof t=="function"?t(e):t}function Nl(e){var t=bt(),n=t.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=e;var r=be,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=a=null,c=null,u=i;do{var d=u.lane;if((hr&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,a=r):c=c.next=f,he.lanes|=d,pr|=d}u=u.next}while(u!==null&&u!==i);c===null?a=r:c.next=l,Mt(r,t.memoizedState)||(qe=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,he.lanes|=i,pr|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Al(e){var t=bt(),n=t.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do i=e(i,a.action),a=a.next;while(a!==s);Mt(i,t.memoizedState)||(qe=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function ng(){}function rg(e,t){var n=he,r=bt(),s=t(),i=!Mt(r.memoizedState,s);if(i&&(r.memoizedState=s,qe=!0),r=r.queue,sd(og.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||Ae!==null&&Ae.memoizedState.tag&1){if(n.flags|=2048,wi(9,ig.bind(null,n,r,s,t),void 0,null),Ee===null)throw Error(D(349));hr&30||sg(n,t,s)}return s}function sg(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=he.updateQueue,t===null?(t={lastEffect:null,stores:null},he.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function ig(e,t,n,r){t.value=n,t.getSnapshot=r,ag(t)&&lg(e)}function og(e,t,n){return n(function(){ag(t)&&lg(e)})}function ag(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Mt(e,n)}catch{return!0}}function lg(e){var t=rn(e,1);t!==null&&Rt(t,e,1,-1)}function rp(e){var t=Ut();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xi,lastRenderedState:e},t.queue=e,e=e.dispatch=sj.bind(null,he,e),[t.memoizedState,e]}function wi(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=he.updateQueue,t===null?(t={lastEffect:null,stores:null},he.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function cg(){return bt().memoizedState}function Po(e,t,n,r){var s=Ut();he.flags|=e,s.memoizedState=wi(1|t,n,void 0,r===void 0?null:r)}function Aa(e,t,n,r){var s=bt();r=r===void 0?null:r;var i=void 0;if(be!==null){var a=be.memoizedState;if(i=a.destroy,r!==null&&td(r,a.deps)){s.memoizedState=wi(t,n,i,r);return}}he.flags|=e,s.memoizedState=wi(1|t,n,i,r)}function sp(e,t){return Po(8390656,8,e,t)}function sd(e,t){return Aa(2048,8,e,t)}function ug(e,t){return Aa(4,2,e,t)}function dg(e,t){return Aa(4,4,e,t)}function hg(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function pg(e,t,n){return n=n!=null?n.concat([e]):null,Aa(4,4,hg.bind(null,t,e),n)}function id(){}function fg(e,t){var n=bt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&td(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function mg(e,t){var n=bt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&td(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function yg(e,t,n){return hr&21?(Mt(n,t)||(n=jy(),he.lanes|=n,pr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,qe=!0),e.memoizedState=n)}function nj(e,t){var n=re;re=n!==0&&4>n?n:4,e(!0);var r=Cl.transition;Cl.transition={};try{e(!1),t()}finally{re=n,Cl.transition=r}}function gg(){return bt().memoizedState}function rj(e,t,n){var r=In(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},vg(e))xg(t,n);else if(n=Zy(e,t,n,r),n!==null){var s=He();Rt(n,e,r,s),wg(n,t,r)}}function sj(e,t,n){var r=In(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(vg(e))xg(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var a=t.lastRenderedState,l=i(a,n);if(s.hasEagerState=!0,s.eagerState=l,Mt(l,a)){var c=t.interleaved;c===null?(s.next=s,Ju(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=Zy(e,t,s,r),n!==null&&(s=He(),Rt(n,e,r,s),wg(n,t,r))}}function vg(e){var t=e.alternate;return e===he||t!==null&&t===he}function xg(e,t){Js=Zo=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function wg(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Du(e,n)}}var ea={readContext:kt,useCallback:Oe,useContext:Oe,useEffect:Oe,useImperativeHandle:Oe,useInsertionEffect:Oe,useLayoutEffect:Oe,useMemo:Oe,useReducer:Oe,useRef:Oe,useState:Oe,useDebugValue:Oe,useDeferredValue:Oe,useTransition:Oe,useMutableSource:Oe,useSyncExternalStore:Oe,useId:Oe,unstable_isNewReconciler:!1},ij={readContext:kt,useCallback:function(e,t){return Ut().memoizedState=[e,t===void 0?null:t],e},useContext:kt,useEffect:sp,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Po(4194308,4,hg.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Po(4194308,4,e,t)},useInsertionEffect:function(e,t){return Po(4,2,e,t)},useMemo:function(e,t){var n=Ut();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ut();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=rj.bind(null,he,e),[r.memoizedState,e]},useRef:function(e){var t=Ut();return e={current:e},t.memoizedState=e},useState:rp,useDebugValue:id,useDeferredValue:function(e){return Ut().memoizedState=e},useTransition:function(){var e=rp(!1),t=e[0];return e=nj.bind(null,e[1]),Ut().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=he,s=Ut();if(ce){if(n===void 0)throw Error(D(407));n=n()}else{if(n=t(),Ee===null)throw Error(D(349));hr&30||sg(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,sp(og.bind(null,r,i,e),[e]),r.flags|=2048,wi(9,ig.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Ut(),t=Ee.identifierPrefix;if(ce){var n=Xt,r=Jt;n=(r&~(1<<32-_t(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=vi++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=tj++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},oj={readContext:kt,useCallback:fg,useContext:kt,useEffect:sd,useImperativeHandle:pg,useInsertionEffect:ug,useLayoutEffect:dg,useMemo:mg,useReducer:Nl,useRef:cg,useState:function(){return Nl(xi)},useDebugValue:id,useDeferredValue:function(e){var t=bt();return yg(t,be.memoizedState,e)},useTransition:function(){var e=Nl(xi)[0],t=bt().memoizedState;return[e,t]},useMutableSource:ng,useSyncExternalStore:rg,useId:gg,unstable_isNewReconciler:!1},aj={readContext:kt,useCallback:fg,useContext:kt,useEffect:sd,useImperativeHandle:pg,useInsertionEffect:ug,useLayoutEffect:dg,useMemo:mg,useReducer:Al,useRef:cg,useState:function(){return Al(xi)},useDebugValue:id,useDeferredValue:function(e){var t=bt();return be===null?t.memoizedState=e:yg(t,be.memoizedState,e)},useTransition:function(){var e=Al(xi)[0],t=bt().memoizedState;return[e,t]},useMutableSource:ng,useSyncExternalStore:rg,useId:gg,unstable_isNewReconciler:!1};function Pt(e,t){if(e&&e.defaultProps){t=fe({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Rc(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:fe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Pa={isMounted:function(e){return(e=e._reactInternals)?yr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=He(),s=In(e),i=qt(r,s);i.payload=t,n!=null&&(i.callback=n),t=Rn(e,i,s),t!==null&&(Rt(t,e,s,r),No(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=He(),s=In(e),i=qt(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Rn(e,i,s),t!==null&&(Rt(t,e,s,r),No(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=He(),r=In(e),s=qt(n,r);s.tag=2,t!=null&&(s.callback=t),t=Rn(e,s,r),t!==null&&(Rt(t,e,r,n),No(t,e,r))}};function ip(e,t,n,r,s,i,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,a):t.prototype&&t.prototype.isPureReactComponent?!hi(n,r)||!hi(s,i):!0}function jg(e,t,n){var r=!1,s=Fn,i=t.contextType;return typeof i=="object"&&i!==null?i=kt(i):(s=et(t)?ur:ze.current,r=t.contextTypes,i=(r=r!=null)?ns(e,s):Fn),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Pa,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function op(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Pa.enqueueReplaceState(t,t.state,null)}function Mc(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Xu(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=kt(i):(i=et(t)?ur:ze.current,s.context=ns(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Rc(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Pa.enqueueReplaceState(s,s.state,null),Xo(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function os(e,t){try{var n="",r=t;do n+=L1(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Pl(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Ic(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var lj=typeof WeakMap=="function"?WeakMap:Map;function Sg(e,t,n){n=qt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){na||(na=!0,Wc=r),Ic(e,t)},n}function kg(e,t,n){n=qt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){Ic(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Ic(e,t),typeof r!="function"&&(Mn===null?Mn=new Set([this]):Mn.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function ap(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new lj;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=Sj.bind(null,e,t,n),t.then(e,e))}function lp(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function cp(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=qt(-1,1),t.tag=2,Rn(n,t,1))),n.lanes|=1),e)}var cj=ln.ReactCurrentOwner,qe=!1;function We(e,t,n,r){t.child=e===null?qy(t,null,n,r):ss(t,e.child,n,r)}function up(e,t,n,r,s){n=n.render;var i=t.ref;return Xr(t,s),r=nd(e,t,n,r,i,s),n=rd(),e!==null&&!qe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,sn(e,t,s)):(ce&&n&&Wu(t),t.flags|=1,We(e,t,r,s),t.child)}function dp(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!pd(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,bg(e,t,i,r,s)):(e=Ro(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:hi,n(a,r)&&e.ref===t.ref)return sn(e,t,s)}return t.flags|=1,e=Ln(i,r),e.ref=t.ref,e.return=t,t.child=e}function bg(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(hi(i,r)&&e.ref===t.ref)if(qe=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(qe=!0);else return t.lanes=e.lanes,sn(e,t,s)}return Lc(e,t,n,r,s)}function Cg(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},oe(Ur,it),it|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,oe(Ur,it),it|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,oe(Ur,it),it|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,oe(Ur,it),it|=r;return We(e,t,s,n),t.child}function Ng(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Lc(e,t,n,r,s){var i=et(n)?ur:ze.current;return i=ns(t,i),Xr(t,s),n=nd(e,t,n,r,i,s),r=rd(),e!==null&&!qe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,sn(e,t,s)):(ce&&r&&Wu(t),t.flags|=1,We(e,t,n,s),t.child)}function hp(e,t,n,r,s){if(et(n)){var i=!0;Ko(t)}else i=!1;if(Xr(t,s),t.stateNode===null)Eo(e,t),jg(t,n,r),Mc(t,n,r,s),r=!0;else if(e===null){var a=t.stateNode,l=t.memoizedProps;a.props=l;var c=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=kt(u):(u=et(n)?ur:ze.current,u=ns(t,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==r||c!==u)&&op(t,a,r,u),Sn=!1;var m=t.memoizedState;a.state=m,Xo(t,r,a,s),c=t.memoizedState,l!==r||m!==c||Ze.current||Sn?(typeof d=="function"&&(Rc(t,n,d,r),c=t.memoizedState),(l=Sn||ip(t,n,l,r,m,c,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=u,r=l):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,eg(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Pt(t.type,l),a.props=u,f=t.pendingProps,m=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=kt(c):(c=et(n)?ur:ze.current,c=ns(t,c));var x=n.getDerivedStateFromProps;(d=typeof x=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==f||m!==c)&&op(t,a,r,c),Sn=!1,m=t.memoizedState,a.state=m,Xo(t,r,a,s);var k=t.memoizedState;l!==f||m!==k||Ze.current||Sn?(typeof x=="function"&&(Rc(t,n,x,r),k=t.memoizedState),(u=Sn||ip(t,n,u,r,m,k,c)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,k,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,k,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=k),a.props=r,a.state=k,a.context=c,r=u):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),r=!1)}return Dc(e,t,n,r,i,s)}function Dc(e,t,n,r,s,i){Ng(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return s&&Xh(t,n,!1),sn(e,t,i);r=t.stateNode,cj.current=t;var l=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=ss(t,e.child,null,i),t.child=ss(t,null,l,i)):We(e,t,l,i),t.memoizedState=r.state,s&&Xh(t,n,!0),t.child}function Ag(e){var t=e.stateNode;t.pendingContext?Jh(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Jh(e,t.context,!1),qu(e,t.containerInfo)}function pp(e,t,n,r,s){return rs(),Ku(s),t.flags|=256,We(e,t,n,r),t.child}var Oc={dehydrated:null,treeContext:null,retryLane:0};function Fc(e){return{baseLanes:e,cachePool:null,transitions:null}}function Pg(e,t,n){var r=t.pendingProps,s=ue.current,i=!1,a=(t.flags&128)!==0,l;if((l=a)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),oe(ue,s&1),e===null)return Tc(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,i?(r=t.mode,i=t.child,a={mode:"hidden",children:a},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=_a(a,r,0,null),e=lr(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Fc(n),t.memoizedState=Oc,e):od(t,a));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return uj(e,t,a,r,l,s,n);if(i){i=r.fallback,a=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Ln(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Ln(l,i):(i=lr(i,a,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,a=e.child.memoizedState,a=a===null?Fc(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=e.childLanes&~n,t.memoizedState=Oc,r}return i=e.child,e=i.sibling,r=Ln(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function od(e,t){return t=_a({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function oo(e,t,n,r){return r!==null&&Ku(r),ss(t,e.child,null,n),e=od(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function uj(e,t,n,r,s,i,a){if(n)return t.flags&256?(t.flags&=-257,r=Pl(Error(D(422))),oo(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=_a({mode:"visible",children:r.children},s,0,null),i=lr(i,s,a,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&ss(t,e.child,null,a),t.child.memoizedState=Fc(a),t.memoizedState=Oc,i);if(!(t.mode&1))return oo(e,t,a,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(D(419)),r=Pl(i,r,void 0),oo(e,t,a,r)}if(l=(a&e.childLanes)!==0,qe||l){if(r=Ee,r!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,rn(e,s),Rt(r,e,s,-1))}return hd(),r=Pl(Error(D(421))),oo(e,t,a,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=kj.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,ot=_n(s.nextSibling),at=t,ce=!0,Tt=null,e!==null&&(xt[wt++]=Jt,xt[wt++]=Xt,xt[wt++]=dr,Jt=e.id,Xt=e.overflow,dr=t),t=od(t,r.children),t.flags|=4096,t)}function fp(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),_c(e.return,t,n)}function El(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Eg(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(We(e,t,r.children,n),r=ue.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&fp(e,n,t);else if(e.tag===19)fp(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(oe(ue,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&qo(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),El(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&qo(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}El(t,!0,n,null,i);break;case"together":El(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Eo(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function sn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),pr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(D(153));if(t.child!==null){for(e=t.child,n=Ln(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ln(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function dj(e,t,n){switch(t.tag){case 3:Ag(t),rs();break;case 5:tg(t);break;case 1:et(t.type)&&Ko(t);break;case 4:qu(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;oe(Qo,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(oe(ue,ue.current&1),t.flags|=128,null):n&t.child.childLanes?Pg(e,t,n):(oe(ue,ue.current&1),e=sn(e,t,n),e!==null?e.sibling:null);oe(ue,ue.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Eg(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),oe(ue,ue.current),r)break;return null;case 22:case 23:return t.lanes=0,Cg(e,t,n)}return sn(e,t,n)}var Tg,Vc,_g,Rg;Tg=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Vc=function(){};_g=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,ir(Wt.current);var i=null;switch(n){case"input":s=ac(e,s),r=ac(e,r),i=[];break;case"select":s=fe({},s,{value:void 0}),r=fe({},r,{value:void 0}),i=[];break;case"textarea":s=uc(e,s),r=uc(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Wo)}hc(n,r);var a;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ii.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ii.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&ae("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};Rg=function(e,t,n,r){n!==r&&(t.flags|=4)};function Ts(e,t){if(!ce)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Fe(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function hj(e,t,n){var r=t.pendingProps;switch(Hu(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Fe(t),null;case 1:return et(t.type)&&Ho(),Fe(t),null;case 3:return r=t.stateNode,is(),le(Ze),le(ze),ed(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(so(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Tt!==null&&(Gc(Tt),Tt=null))),Vc(e,t),Fe(t),null;case 5:Zu(t);var s=ir(gi.current);if(n=t.type,e!==null&&t.stateNode!=null)_g(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(D(166));return Fe(t),null}if(e=ir(Wt.current),so(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[zt]=t,r[mi]=i,e=(t.mode&1)!==0,n){case"dialog":ae("cancel",r),ae("close",r);break;case"iframe":case"object":case"embed":ae("load",r);break;case"video":case"audio":for(s=0;s<Vs.length;s++)ae(Vs[s],r);break;case"source":ae("error",r);break;case"img":case"image":case"link":ae("error",r),ae("load",r);break;case"details":ae("toggle",r);break;case"input":kh(r,i),ae("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},ae("invalid",r);break;case"textarea":Ch(r,i),ae("invalid",r)}hc(n,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var l=i[a];a==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&ro(r.textContent,l,e),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&ro(r.textContent,l,e),s=["children",""+l]):ii.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&ae("scroll",r)}switch(n){case"input":Qi(r),bh(r,i,!0);break;case"textarea":Qi(r),Nh(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Wo)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=oy(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[zt]=t,e[mi]=r,Tg(e,t,!1,!1),t.stateNode=e;e:{switch(a=pc(n,r),n){case"dialog":ae("cancel",e),ae("close",e),s=r;break;case"iframe":case"object":case"embed":ae("load",e),s=r;break;case"video":case"audio":for(s=0;s<Vs.length;s++)ae(Vs[s],e);s=r;break;case"source":ae("error",e),s=r;break;case"img":case"image":case"link":ae("error",e),ae("load",e),s=r;break;case"details":ae("toggle",e),s=r;break;case"input":kh(e,r),s=ac(e,r),ae("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=fe({},r,{value:void 0}),ae("invalid",e);break;case"textarea":Ch(e,r),s=uc(e,r),ae("invalid",e);break;default:s=r}hc(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?cy(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&ay(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&oi(e,c):typeof c=="number"&&oi(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ii.hasOwnProperty(i)?c!=null&&i==="onScroll"&&ae("scroll",e):c!=null&&Tu(e,i,c,a))}switch(n){case"input":Qi(e),bh(e,r,!1);break;case"textarea":Qi(e),Nh(e);break;case"option":r.value!=null&&e.setAttribute("value",""+On(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Gr(e,!!r.multiple,i,!1):r.defaultValue!=null&&Gr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Wo)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Fe(t),null;case 6:if(e&&t.stateNode!=null)Rg(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(D(166));if(n=ir(gi.current),ir(Wt.current),so(t)){if(r=t.stateNode,n=t.memoizedProps,r[zt]=t,(i=r.nodeValue!==n)&&(e=at,e!==null))switch(e.tag){case 3:ro(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ro(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[zt]=t,t.stateNode=r}return Fe(t),null;case 13:if(le(ue),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ce&&ot!==null&&t.mode&1&&!(t.flags&128))Jy(),rs(),t.flags|=98560,i=!1;else if(i=so(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(D(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(D(317));i[zt]=t}else rs(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Fe(t),i=!1}else Tt!==null&&(Gc(Tt),Tt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ue.current&1?Ce===0&&(Ce=3):hd())),t.updateQueue!==null&&(t.flags|=4),Fe(t),null);case 4:return is(),Vc(e,t),e===null&&pi(t.stateNode.containerInfo),Fe(t),null;case 10:return Qu(t.type._context),Fe(t),null;case 17:return et(t.type)&&Ho(),Fe(t),null;case 19:if(le(ue),i=t.memoizedState,i===null)return Fe(t),null;if(r=(t.flags&128)!==0,a=i.rendering,a===null)if(r)Ts(i,!1);else{if(Ce!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=qo(e),a!==null){for(t.flags|=128,Ts(i,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return oe(ue,ue.current&1|2),t.child}e=e.sibling}i.tail!==null&&xe()>as&&(t.flags|=128,r=!0,Ts(i,!1),t.lanes=4194304)}else{if(!r)if(e=qo(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Ts(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!ce)return Fe(t),null}else 2*xe()-i.renderingStartTime>as&&n!==1073741824&&(t.flags|=128,r=!0,Ts(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(n=i.last,n!==null?n.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=xe(),t.sibling=null,n=ue.current,oe(ue,r?n&1|2:n&1),t):(Fe(t),null);case 22:case 23:return dd(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?it&1073741824&&(Fe(t),t.subtreeFlags&6&&(t.flags|=8192)):Fe(t),null;case 24:return null;case 25:return null}throw Error(D(156,t.tag))}function pj(e,t){switch(Hu(t),t.tag){case 1:return et(t.type)&&Ho(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return is(),le(Ze),le(ze),ed(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Zu(t),null;case 13:if(le(ue),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(D(340));rs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return le(ue),null;case 4:return is(),null;case 10:return Qu(t.type._context),null;case 22:case 23:return dd(),null;case 24:return null;default:return null}}var ao=!1,Be=!1,fj=typeof WeakSet=="function"?WeakSet:Set,B=null;function Br(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ye(e,t,r)}else n.current=null}function Bc(e,t,n){try{n()}catch(r){ye(e,t,r)}}var mp=!1;function mj(e,t){if(kc=Uo,e=Oy(),$u(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,l=-1,c=-1,u=0,d=0,f=e,m=null;t:for(;;){for(var x;f!==n||s!==0&&f.nodeType!==3||(l=a+s),f!==i||r!==0&&f.nodeType!==3||(c=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(x=f.firstChild)!==null;)m=f,f=x;for(;;){if(f===e)break t;if(m===n&&++u===s&&(l=a),m===i&&++d===r&&(c=a),(x=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=x}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(bc={focusedElem:e,selectionRange:n},Uo=!1,B=t;B!==null;)if(t=B,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,B=e;else for(;B!==null;){t=B;try{var k=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(k!==null){var v=k.memoizedProps,C=k.memoizedState,h=t.stateNode,p=h.getSnapshotBeforeUpdate(t.elementType===t.type?v:Pt(t.type,v),C);h.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(D(163))}}catch(j){ye(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,B=e;break}B=t.return}return k=mp,mp=!1,k}function Xs(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Bc(t,n,i)}s=s.next}while(s!==r)}}function Ea(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Uc(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Mg(e){var t=e.alternate;t!==null&&(e.alternate=null,Mg(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[zt],delete t[mi],delete t[Ac],delete t[Xw],delete t[qw])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Ig(e){return e.tag===5||e.tag===3||e.tag===4}function yp(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ig(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function zc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Wo));else if(r!==4&&(e=e.child,e!==null))for(zc(e,t,n),e=e.sibling;e!==null;)zc(e,t,n),e=e.sibling}function $c(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for($c(e,t,n),e=e.sibling;e!==null;)$c(e,t,n),e=e.sibling}var Re=null,Et=!1;function gn(e,t,n){for(n=n.child;n!==null;)Lg(e,t,n),n=n.sibling}function Lg(e,t,n){if($t&&typeof $t.onCommitFiberUnmount=="function")try{$t.onCommitFiberUnmount(ja,n)}catch{}switch(n.tag){case 5:Be||Br(n,t);case 6:var r=Re,s=Et;Re=null,gn(e,t,n),Re=r,Et=s,Re!==null&&(Et?(e=Re,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Re.removeChild(n.stateNode));break;case 18:Re!==null&&(Et?(e=Re,n=n.stateNode,e.nodeType===8?Sl(e.parentNode,n):e.nodeType===1&&Sl(e,n),ui(e)):Sl(Re,n.stateNode));break;case 4:r=Re,s=Et,Re=n.stateNode.containerInfo,Et=!0,gn(e,t,n),Re=r,Et=s;break;case 0:case 11:case 14:case 15:if(!Be&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&Bc(n,t,a),s=s.next}while(s!==r)}gn(e,t,n);break;case 1:if(!Be&&(Br(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){ye(n,t,l)}gn(e,t,n);break;case 21:gn(e,t,n);break;case 22:n.mode&1?(Be=(r=Be)||n.memoizedState!==null,gn(e,t,n),Be=r):gn(e,t,n);break;default:gn(e,t,n)}}function gp(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new fj),t.forEach(function(r){var s=bj.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Nt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,a=t,l=a;e:for(;l!==null;){switch(l.tag){case 5:Re=l.stateNode,Et=!1;break e;case 3:Re=l.stateNode.containerInfo,Et=!0;break e;case 4:Re=l.stateNode.containerInfo,Et=!0;break e}l=l.return}if(Re===null)throw Error(D(160));Lg(i,a,s),Re=null,Et=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){ye(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Dg(t,e),t=t.sibling}function Dg(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Nt(t,e),Ft(e),r&4){try{Xs(3,e,e.return),Ea(3,e)}catch(v){ye(e,e.return,v)}try{Xs(5,e,e.return)}catch(v){ye(e,e.return,v)}}break;case 1:Nt(t,e),Ft(e),r&512&&n!==null&&Br(n,n.return);break;case 5:if(Nt(t,e),Ft(e),r&512&&n!==null&&Br(n,n.return),e.flags&32){var s=e.stateNode;try{oi(s,"")}catch(v){ye(e,e.return,v)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,a=n!==null?n.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&sy(s,i),pc(l,a);var u=pc(l,i);for(a=0;a<c.length;a+=2){var d=c[a],f=c[a+1];d==="style"?cy(s,f):d==="dangerouslySetInnerHTML"?ay(s,f):d==="children"?oi(s,f):Tu(s,d,f,u)}switch(l){case"input":lc(s,i);break;case"textarea":iy(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var x=i.value;x!=null?Gr(s,!!i.multiple,x,!1):m!==!!i.multiple&&(i.defaultValue!=null?Gr(s,!!i.multiple,i.defaultValue,!0):Gr(s,!!i.multiple,i.multiple?[]:"",!1))}s[mi]=i}catch(v){ye(e,e.return,v)}}break;case 6:if(Nt(t,e),Ft(e),r&4){if(e.stateNode===null)throw Error(D(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(v){ye(e,e.return,v)}}break;case 3:if(Nt(t,e),Ft(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ui(t.containerInfo)}catch(v){ye(e,e.return,v)}break;case 4:Nt(t,e),Ft(e);break;case 13:Nt(t,e),Ft(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(cd=xe())),r&4&&gp(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Be=(u=Be)||d,Nt(t,e),Be=u):Nt(t,e),Ft(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(B=e,d=e.child;d!==null;){for(f=B=d;B!==null;){switch(m=B,x=m.child,m.tag){case 0:case 11:case 14:case 15:Xs(4,m,m.return);break;case 1:Br(m,m.return);var k=m.stateNode;if(typeof k.componentWillUnmount=="function"){r=m,n=m.return;try{t=r,k.props=t.memoizedProps,k.state=t.memoizedState,k.componentWillUnmount()}catch(v){ye(r,n,v)}}break;case 5:Br(m,m.return);break;case 22:if(m.memoizedState!==null){xp(f);continue}}x!==null?(x.return=m,B=x):xp(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=ly("display",a))}catch(v){ye(e,e.return,v)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(v){ye(e,e.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Nt(t,e),Ft(e),r&4&&gp(e);break;case 21:break;default:Nt(t,e),Ft(e)}}function Ft(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Ig(n)){var r=n;break e}n=n.return}throw Error(D(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(oi(s,""),r.flags&=-33);var i=yp(e);$c(e,i,s);break;case 3:case 4:var a=r.stateNode.containerInfo,l=yp(e);zc(e,l,a);break;default:throw Error(D(161))}}catch(c){ye(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function yj(e,t,n){B=e,Og(e)}function Og(e,t,n){for(var r=(e.mode&1)!==0;B!==null;){var s=B,i=s.child;if(s.tag===22&&r){var a=s.memoizedState!==null||ao;if(!a){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Be;l=ao;var u=Be;if(ao=a,(Be=c)&&!u)for(B=s;B!==null;)a=B,c=a.child,a.tag===22&&a.memoizedState!==null?wp(s):c!==null?(c.return=a,B=c):wp(s);for(;i!==null;)B=i,Og(i),i=i.sibling;B=s,ao=l,Be=u}vp(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,B=i):vp(e)}}function vp(e){for(;B!==null;){var t=B;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Be||Ea(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Be)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:Pt(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&np(t,i,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}np(t,a,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&ui(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(D(163))}Be||t.flags&512&&Uc(t)}catch(m){ye(t,t.return,m)}}if(t===e){B=null;break}if(n=t.sibling,n!==null){n.return=t.return,B=n;break}B=t.return}}function xp(e){for(;B!==null;){var t=B;if(t===e){B=null;break}var n=t.sibling;if(n!==null){n.return=t.return,B=n;break}B=t.return}}function wp(e){for(;B!==null;){var t=B;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Ea(4,t)}catch(c){ye(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){ye(t,s,c)}}var i=t.return;try{Uc(t)}catch(c){ye(t,i,c)}break;case 5:var a=t.return;try{Uc(t)}catch(c){ye(t,a,c)}}}catch(c){ye(t,t.return,c)}if(t===e){B=null;break}var l=t.sibling;if(l!==null){l.return=t.return,B=l;break}B=t.return}}var gj=Math.ceil,ta=ln.ReactCurrentDispatcher,ad=ln.ReactCurrentOwner,St=ln.ReactCurrentBatchConfig,X=0,Ee=null,je=null,Me=0,it=0,Ur=Un(0),Ce=0,ji=null,pr=0,Ta=0,ld=0,qs=null,Xe=null,cd=0,as=1/0,Yt=null,na=!1,Wc=null,Mn=null,lo=!1,Nn=null,ra=0,Zs=0,Hc=null,To=-1,_o=0;function He(){return X&6?xe():To!==-1?To:To=xe()}function In(e){return e.mode&1?X&2&&Me!==0?Me&-Me:ej.transition!==null?(_o===0&&(_o=jy()),_o):(e=re,e!==0||(e=window.event,e=e===void 0?16:Py(e.type)),e):1}function Rt(e,t,n,r){if(50<Zs)throw Zs=0,Hc=null,Error(D(185));Ei(e,n,r),(!(X&2)||e!==Ee)&&(e===Ee&&(!(X&2)&&(Ta|=n),Ce===4&&bn(e,Me)),tt(e,r),n===1&&X===0&&!(t.mode&1)&&(as=xe()+500,Na&&zn()))}function tt(e,t){var n=e.callbackNode;ew(e,t);var r=Bo(e,e===Ee?Me:0);if(r===0)n!==null&&Eh(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Eh(n),t===1)e.tag===0?Zw(jp.bind(null,e)):Gy(jp.bind(null,e)),Qw(function(){!(X&6)&&zn()}),n=null;else{switch(Sy(r)){case 1:n=Lu;break;case 4:n=xy;break;case 16:n=Vo;break;case 536870912:n=wy;break;default:n=Vo}n=Hg(n,Fg.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Fg(e,t){if(To=-1,_o=0,X&6)throw Error(D(327));var n=e.callbackNode;if(qr()&&e.callbackNode!==n)return null;var r=Bo(e,e===Ee?Me:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=sa(e,r);else{t=r;var s=X;X|=2;var i=Bg();(Ee!==e||Me!==t)&&(Yt=null,as=xe()+500,ar(e,t));do try{wj();break}catch(l){Vg(e,l)}while(!0);Yu(),ta.current=i,X=s,je!==null?t=0:(Ee=null,Me=0,t=Ce)}if(t!==0){if(t===2&&(s=vc(e),s!==0&&(r=s,t=Kc(e,s))),t===1)throw n=ji,ar(e,0),bn(e,r),tt(e,xe()),n;if(t===6)bn(e,r);else{if(s=e.current.alternate,!(r&30)&&!vj(s)&&(t=sa(e,r),t===2&&(i=vc(e),i!==0&&(r=i,t=Kc(e,i))),t===1))throw n=ji,ar(e,0),bn(e,r),tt(e,xe()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(D(345));case 2:Zn(e,Xe,Yt);break;case 3:if(bn(e,r),(r&130023424)===r&&(t=cd+500-xe(),10<t)){if(Bo(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){He(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Nc(Zn.bind(null,e,Xe,Yt),t);break}Zn(e,Xe,Yt);break;case 4:if(bn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var a=31-_t(r);i=1<<a,a=t[a],a>s&&(s=a),r&=~i}if(r=s,r=xe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*gj(r/1960))-r,10<r){e.timeoutHandle=Nc(Zn.bind(null,e,Xe,Yt),r);break}Zn(e,Xe,Yt);break;case 5:Zn(e,Xe,Yt);break;default:throw Error(D(329))}}}return tt(e,xe()),e.callbackNode===n?Fg.bind(null,e):null}function Kc(e,t){var n=qs;return e.current.memoizedState.isDehydrated&&(ar(e,t).flags|=256),e=sa(e,t),e!==2&&(t=Xe,Xe=n,t!==null&&Gc(t)),e}function Gc(e){Xe===null?Xe=e:Xe.push.apply(Xe,e)}function vj(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Mt(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function bn(e,t){for(t&=~ld,t&=~Ta,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-_t(t),r=1<<n;e[n]=-1,t&=~r}}function jp(e){if(X&6)throw Error(D(327));qr();var t=Bo(e,0);if(!(t&1))return tt(e,xe()),null;var n=sa(e,t);if(e.tag!==0&&n===2){var r=vc(e);r!==0&&(t=r,n=Kc(e,r))}if(n===1)throw n=ji,ar(e,0),bn(e,t),tt(e,xe()),n;if(n===6)throw Error(D(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Zn(e,Xe,Yt),tt(e,xe()),null}function ud(e,t){var n=X;X|=1;try{return e(t)}finally{X=n,X===0&&(as=xe()+500,Na&&zn())}}function fr(e){Nn!==null&&Nn.tag===0&&!(X&6)&&qr();var t=X;X|=1;var n=St.transition,r=re;try{if(St.transition=null,re=1,e)return e()}finally{re=r,St.transition=n,X=t,!(X&6)&&zn()}}function dd(){it=Ur.current,le(Ur)}function ar(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Yw(n)),je!==null)for(n=je.return;n!==null;){var r=n;switch(Hu(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ho();break;case 3:is(),le(Ze),le(ze),ed();break;case 5:Zu(r);break;case 4:is();break;case 13:le(ue);break;case 19:le(ue);break;case 10:Qu(r.type._context);break;case 22:case 23:dd()}n=n.return}if(Ee=e,je=e=Ln(e.current,null),Me=it=t,Ce=0,ji=null,ld=Ta=pr=0,Xe=qs=null,sr!==null){for(t=0;t<sr.length;t++)if(n=sr[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var a=i.next;i.next=s,r.next=a}n.pending=r}sr=null}return e}function Vg(e,t){do{var n=je;try{if(Yu(),Ao.current=ea,Zo){for(var r=he.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Zo=!1}if(hr=0,Ae=be=he=null,Js=!1,vi=0,ad.current=null,n===null||n.return===null){Ce=1,ji=t,je=null;break}e:{var i=e,a=n.return,l=n,c=t;if(t=Me,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var x=lp(a);if(x!==null){x.flags&=-257,cp(x,a,l,i,t),x.mode&1&&ap(i,u,t),t=x,c=u;var k=t.updateQueue;if(k===null){var v=new Set;v.add(c),t.updateQueue=v}else k.add(c);break e}else{if(!(t&1)){ap(i,u,t),hd();break e}c=Error(D(426))}}else if(ce&&l.mode&1){var C=lp(a);if(C!==null){!(C.flags&65536)&&(C.flags|=256),cp(C,a,l,i,t),Ku(os(c,l));break e}}i=c=os(c,l),Ce!==4&&(Ce=2),qs===null?qs=[i]:qs.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var h=Sg(i,c,t);tp(i,h);break e;case 1:l=c;var p=i.type,y=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Mn===null||!Mn.has(y)))){i.flags|=65536,t&=-t,i.lanes|=t;var j=kg(i,l,t);tp(i,j);break e}}i=i.return}while(i!==null)}zg(n)}catch(S){t=S,je===n&&n!==null&&(je=n=n.return);continue}break}while(!0)}function Bg(){var e=ta.current;return ta.current=ea,e===null?ea:e}function hd(){(Ce===0||Ce===3||Ce===2)&&(Ce=4),Ee===null||!(pr&268435455)&&!(Ta&268435455)||bn(Ee,Me)}function sa(e,t){var n=X;X|=2;var r=Bg();(Ee!==e||Me!==t)&&(Yt=null,ar(e,t));do try{xj();break}catch(s){Vg(e,s)}while(!0);if(Yu(),X=n,ta.current=r,je!==null)throw Error(D(261));return Ee=null,Me=0,Ce}function xj(){for(;je!==null;)Ug(je)}function wj(){for(;je!==null&&!H1();)Ug(je)}function Ug(e){var t=Wg(e.alternate,e,it);e.memoizedProps=e.pendingProps,t===null?zg(e):je=t,ad.current=null}function zg(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=pj(n,t),n!==null){n.flags&=32767,je=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ce=6,je=null;return}}else if(n=hj(n,t,it),n!==null){je=n;return}if(t=t.sibling,t!==null){je=t;return}je=t=e}while(t!==null);Ce===0&&(Ce=5)}function Zn(e,t,n){var r=re,s=St.transition;try{St.transition=null,re=1,jj(e,t,n,r)}finally{St.transition=s,re=r}return null}function jj(e,t,n,r){do qr();while(Nn!==null);if(X&6)throw Error(D(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(D(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(tw(e,i),e===Ee&&(je=Ee=null,Me=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||lo||(lo=!0,Hg(Vo,function(){return qr(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=St.transition,St.transition=null;var a=re;re=1;var l=X;X|=4,ad.current=null,mj(e,n),Dg(n,e),Uw(bc),Uo=!!kc,bc=kc=null,e.current=n,yj(n),K1(),X=l,re=a,St.transition=i}else e.current=n;if(lo&&(lo=!1,Nn=e,ra=s),i=e.pendingLanes,i===0&&(Mn=null),Q1(n.stateNode),tt(e,xe()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(na)throw na=!1,e=Wc,Wc=null,e;return ra&1&&e.tag!==0&&qr(),i=e.pendingLanes,i&1?e===Hc?Zs++:(Zs=0,Hc=e):Zs=0,zn(),null}function qr(){if(Nn!==null){var e=Sy(ra),t=St.transition,n=re;try{if(St.transition=null,re=16>e?16:e,Nn===null)var r=!1;else{if(e=Nn,Nn=null,ra=0,X&6)throw Error(D(331));var s=X;for(X|=4,B=e.current;B!==null;){var i=B,a=i.child;if(B.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(B=u;B!==null;){var d=B;switch(d.tag){case 0:case 11:case 15:Xs(8,d,i)}var f=d.child;if(f!==null)f.return=d,B=f;else for(;B!==null;){d=B;var m=d.sibling,x=d.return;if(Mg(d),d===u){B=null;break}if(m!==null){m.return=x,B=m;break}B=x}}}var k=i.alternate;if(k!==null){var v=k.child;if(v!==null){k.child=null;do{var C=v.sibling;v.sibling=null,v=C}while(v!==null)}}B=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,B=a;else e:for(;B!==null;){if(i=B,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Xs(9,i,i.return)}var h=i.sibling;if(h!==null){h.return=i.return,B=h;break e}B=i.return}}var p=e.current;for(B=p;B!==null;){a=B;var y=a.child;if(a.subtreeFlags&2064&&y!==null)y.return=a,B=y;else e:for(a=p;B!==null;){if(l=B,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Ea(9,l)}}catch(S){ye(l,l.return,S)}if(l===a){B=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,B=j;break e}B=l.return}}if(X=s,zn(),$t&&typeof $t.onPostCommitFiberRoot=="function")try{$t.onPostCommitFiberRoot(ja,e)}catch{}r=!0}return r}finally{re=n,St.transition=t}}return!1}function Sp(e,t,n){t=os(n,t),t=Sg(e,t,1),e=Rn(e,t,1),t=He(),e!==null&&(Ei(e,1,t),tt(e,t))}function ye(e,t,n){if(e.tag===3)Sp(e,e,n);else for(;t!==null;){if(t.tag===3){Sp(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Mn===null||!Mn.has(r))){e=os(n,e),e=kg(t,e,1),t=Rn(t,e,1),e=He(),t!==null&&(Ei(t,1,e),tt(t,e));break}}t=t.return}}function Sj(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=He(),e.pingedLanes|=e.suspendedLanes&n,Ee===e&&(Me&n)===n&&(Ce===4||Ce===3&&(Me&130023424)===Me&&500>xe()-cd?ar(e,0):ld|=n),tt(e,t)}function $g(e,t){t===0&&(e.mode&1?(t=qi,qi<<=1,!(qi&130023424)&&(qi=4194304)):t=1);var n=He();e=rn(e,t),e!==null&&(Ei(e,t,n),tt(e,n))}function kj(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),$g(e,n)}function bj(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(D(314))}r!==null&&r.delete(t),$g(e,n)}var Wg;Wg=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ze.current)qe=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return qe=!1,dj(e,t,n);qe=!!(e.flags&131072)}else qe=!1,ce&&t.flags&1048576&&Yy(t,Yo,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Eo(e,t),e=t.pendingProps;var s=ns(t,ze.current);Xr(t,n),s=nd(null,t,r,e,s,n);var i=rd();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,et(r)?(i=!0,Ko(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Xu(t),s.updater=Pa,t.stateNode=s,s._reactInternals=t,Mc(t,r,e,n),t=Dc(null,t,r,!0,i,n)):(t.tag=0,ce&&i&&Wu(t),We(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Eo(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=Nj(r),e=Pt(r,e),s){case 0:t=Lc(null,t,r,e,n);break e;case 1:t=hp(null,t,r,e,n);break e;case 11:t=up(null,t,r,e,n);break e;case 14:t=dp(null,t,r,Pt(r.type,e),n);break e}throw Error(D(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Pt(r,s),Lc(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Pt(r,s),hp(e,t,r,s,n);case 3:e:{if(Ag(t),e===null)throw Error(D(387));r=t.pendingProps,i=t.memoizedState,s=i.element,eg(e,t),Xo(t,r,null,n);var a=t.memoizedState;if(r=a.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=os(Error(D(423)),t),t=pp(e,t,r,n,s);break e}else if(r!==s){s=os(Error(D(424)),t),t=pp(e,t,r,n,s);break e}else for(ot=_n(t.stateNode.containerInfo.firstChild),at=t,ce=!0,Tt=null,n=qy(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(rs(),r===s){t=sn(e,t,n);break e}We(e,t,r,n)}t=t.child}return t;case 5:return tg(t),e===null&&Tc(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,a=s.children,Cc(r,s)?a=null:i!==null&&Cc(r,i)&&(t.flags|=32),Ng(e,t),We(e,t,a,n),t.child;case 6:return e===null&&Tc(t),null;case 13:return Pg(e,t,n);case 4:return qu(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=ss(t,null,r,n):We(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Pt(r,s),up(e,t,r,s,n);case 7:return We(e,t,t.pendingProps,n),t.child;case 8:return We(e,t,t.pendingProps.children,n),t.child;case 12:return We(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,a=s.value,oe(Qo,r._currentValue),r._currentValue=a,i!==null)if(Mt(i.value,a)){if(i.children===s.children&&!Ze.current){t=sn(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){a=i.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=qt(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),_c(i.return,n,t),l.lanes|=n;break}c=c.next}}else if(i.tag===10)a=i.type===t.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(D(341));a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),_c(a,n,t),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}We(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Xr(t,n),s=kt(s),r=r(s),t.flags|=1,We(e,t,r,n),t.child;case 14:return r=t.type,s=Pt(r,t.pendingProps),s=Pt(r.type,s),dp(e,t,r,s,n);case 15:return bg(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Pt(r,s),Eo(e,t),t.tag=1,et(r)?(e=!0,Ko(t)):e=!1,Xr(t,n),jg(t,r,s),Mc(t,r,s,n),Dc(null,t,r,!0,e,n);case 19:return Eg(e,t,n);case 22:return Cg(e,t,n)}throw Error(D(156,t.tag))};function Hg(e,t){return vy(e,t)}function Cj(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jt(e,t,n,r){return new Cj(e,t,n,r)}function pd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Nj(e){if(typeof e=="function")return pd(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ru)return 11;if(e===Mu)return 14}return 2}function Ln(e,t){var n=e.alternate;return n===null?(n=jt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ro(e,t,n,r,s,i){var a=2;if(r=e,typeof e=="function")pd(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case _r:return lr(n.children,s,i,t);case _u:a=8,s|=8;break;case rc:return e=jt(12,n,t,s|2),e.elementType=rc,e.lanes=i,e;case sc:return e=jt(13,n,t,s),e.elementType=sc,e.lanes=i,e;case ic:return e=jt(19,n,t,s),e.elementType=ic,e.lanes=i,e;case ty:return _a(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Zm:a=10;break e;case ey:a=9;break e;case Ru:a=11;break e;case Mu:a=14;break e;case jn:a=16,r=null;break e}throw Error(D(130,e==null?e:typeof e,""))}return t=jt(a,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function lr(e,t,n,r){return e=jt(7,e,r,t),e.lanes=n,e}function _a(e,t,n,r){return e=jt(22,e,r,t),e.elementType=ty,e.lanes=n,e.stateNode={isHidden:!1},e}function Tl(e,t,n){return e=jt(6,e,null,t),e.lanes=n,e}function _l(e,t,n){return t=jt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Aj(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=dl(0),this.expirationTimes=dl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=dl(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function fd(e,t,n,r,s,i,a,l,c){return e=new Aj(e,t,n,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=jt(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Xu(i),e}function Pj(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Tr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Kg(e){if(!e)return Fn;e=e._reactInternals;e:{if(yr(e)!==e||e.tag!==1)throw Error(D(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(et(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(D(171))}if(e.tag===1){var n=e.type;if(et(n))return Ky(e,n,t)}return t}function Gg(e,t,n,r,s,i,a,l,c){return e=fd(n,r,!0,e,s,i,a,l,c),e.context=Kg(null),n=e.current,r=He(),s=In(n),i=qt(r,s),i.callback=t??null,Rn(n,i,s),e.current.lanes=s,Ei(e,s,r),tt(e,r),e}function Ra(e,t,n,r){var s=t.current,i=He(),a=In(s);return n=Kg(n),t.context===null?t.context=n:t.pendingContext=n,t=qt(i,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Rn(s,t,a),e!==null&&(Rt(e,s,a,i),No(e,s,a)),a}function ia(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function kp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function md(e,t){kp(e,t),(e=e.alternate)&&kp(e,t)}function Ej(){return null}var Yg=typeof reportError=="function"?reportError:function(e){console.error(e)};function yd(e){this._internalRoot=e}Ma.prototype.render=yd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(D(409));Ra(e,t,null,null)};Ma.prototype.unmount=yd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;fr(function(){Ra(null,e,null,null)}),t[nn]=null}};function Ma(e){this._internalRoot=e}Ma.prototype.unstable_scheduleHydration=function(e){if(e){var t=Cy();e={blockedOn:null,target:e,priority:t};for(var n=0;n<kn.length&&t!==0&&t<kn[n].priority;n++);kn.splice(n,0,e),n===0&&Ay(e)}};function gd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ia(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function bp(){}function Tj(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=ia(a);i.call(u)}}var a=Gg(t,r,e,0,null,!1,!1,"",bp);return e._reactRootContainer=a,e[nn]=a.current,pi(e.nodeType===8?e.parentNode:e),fr(),a}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=ia(c);l.call(u)}}var c=fd(e,0,!1,null,null,!1,!1,"",bp);return e._reactRootContainer=c,e[nn]=c.current,pi(e.nodeType===8?e.parentNode:e),fr(function(){Ra(t,c,n,r)}),c}function La(e,t,n,r,s){var i=n._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var l=s;s=function(){var c=ia(a);l.call(c)}}Ra(t,a,e,s)}else a=Tj(n,t,e,s,r);return ia(a)}ky=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Fs(t.pendingLanes);n!==0&&(Du(t,n|1),tt(t,xe()),!(X&6)&&(as=xe()+500,zn()))}break;case 13:fr(function(){var r=rn(e,1);if(r!==null){var s=He();Rt(r,e,1,s)}}),md(e,1)}};Ou=function(e){if(e.tag===13){var t=rn(e,134217728);if(t!==null){var n=He();Rt(t,e,134217728,n)}md(e,134217728)}};by=function(e){if(e.tag===13){var t=In(e),n=rn(e,t);if(n!==null){var r=He();Rt(n,e,t,r)}md(e,t)}};Cy=function(){return re};Ny=function(e,t){var n=re;try{return re=e,t()}finally{re=n}};mc=function(e,t,n){switch(t){case"input":if(lc(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Ca(r);if(!s)throw Error(D(90));ry(r),lc(r,s)}}}break;case"textarea":iy(e,n);break;case"select":t=n.value,t!=null&&Gr(e,!!n.multiple,t,!1)}};hy=ud;py=fr;var _j={usingClientEntryPoint:!1,Events:[_i,Lr,Ca,uy,dy,ud]},_s={findFiberByHostInstance:rr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Rj={bundleType:_s.bundleType,version:_s.version,rendererPackageName:_s.rendererPackageName,rendererConfig:_s.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ln.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=yy(e),e===null?null:e.stateNode},findFiberByHostInstance:_s.findFiberByHostInstance||Ej,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var co=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!co.isDisabled&&co.supportsFiber)try{ja=co.inject(Rj),$t=co}catch{}}dt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_j;dt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!gd(t))throw Error(D(200));return Pj(e,t,null,n)};dt.createRoot=function(e,t){if(!gd(e))throw Error(D(299));var n=!1,r="",s=Yg;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=fd(e,1,!1,null,null,n,!1,r,s),e[nn]=t.current,pi(e.nodeType===8?e.parentNode:e),new yd(t)};dt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(D(188)):(e=Object.keys(e).join(","),Error(D(268,e)));return e=yy(t),e=e===null?null:e.stateNode,e};dt.flushSync=function(e){return fr(e)};dt.hydrate=function(e,t,n){if(!Ia(t))throw Error(D(200));return La(null,e,t,!0,n)};dt.hydrateRoot=function(e,t,n){if(!gd(e))throw Error(D(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",a=Yg;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=Gg(t,null,e,1,n??null,s,!1,i,a),e[nn]=t.current,pi(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Ma(t)};dt.render=function(e,t,n){if(!Ia(t))throw Error(D(200));return La(null,e,t,!1,n)};dt.unmountComponentAtNode=function(e){if(!Ia(e))throw Error(D(40));return e._reactRootContainer?(fr(function(){La(null,null,e,!1,function(){e._reactRootContainer=null,e[nn]=null})}),!0):!1};dt.unstable_batchedUpdates=ud;dt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Ia(n))throw Error(D(200));if(e==null||e._reactInternals===void 0)throw Error(D(38));return La(e,t,n,!1,r)};dt.version="18.3.1-next-f1338f8080-20240426";function Qg(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Qg)}catch(e){console.error(e)}}Qg(),Qm.exports=dt;var Mj=Qm.exports,Cp=Mj;tc.createRoot=Cp.createRoot,tc.hydrateRoot=Cp.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Si(){return Si=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Si.apply(this,arguments)}var An;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(An||(An={}));const Np="popstate";function Ij(e){e===void 0&&(e={});function t(r,s){let{pathname:i,search:a,hash:l}=r.location;return Yc("",{pathname:i,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:oa(s)}return Dj(t,n,null,e)}function pe(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Jg(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Lj(){return Math.random().toString(36).substr(2,8)}function Ap(e,t){return{usr:e.state,key:e.key,idx:t}}function Yc(e,t,n,r){return n===void 0&&(n=null),Si({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ys(t):t,{state:n,key:t&&t.key||r||Lj()})}function oa(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function ys(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function Dj(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,a=s.history,l=An.Pop,c=null,u=d();u==null&&(u=0,a.replaceState(Si({},a.state,{idx:u}),""));function d(){return(a.state||{idx:null}).idx}function f(){l=An.Pop;let C=d(),h=C==null?null:C-u;u=C,c&&c({action:l,location:v.location,delta:h})}function m(C,h){l=An.Push;let p=Yc(v.location,C,h);u=d()+1;let y=Ap(p,u),j=v.createHref(p);try{a.pushState(y,"",j)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;s.location.assign(j)}i&&c&&c({action:l,location:v.location,delta:1})}function x(C,h){l=An.Replace;let p=Yc(v.location,C,h);u=d();let y=Ap(p,u),j=v.createHref(p);a.replaceState(y,"",j),i&&c&&c({action:l,location:v.location,delta:0})}function k(C){let h=s.location.origin!=="null"?s.location.origin:s.location.href,p=typeof C=="string"?C:oa(C);return p=p.replace(/ $/,"%20"),pe(h,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,h)}let v={get action(){return l},get location(){return e(s,a)},listen(C){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Np,f),c=C,()=>{s.removeEventListener(Np,f),c=null}},createHref(C){return t(s,C)},createURL:k,encodeLocation(C){let h=k(C);return{pathname:h.pathname,search:h.search,hash:h.hash}},push:m,replace:x,go(C){return a.go(C)}};return v}var Pp;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Pp||(Pp={}));function Oj(e,t,n){return n===void 0&&(n="/"),Fj(e,t,n)}function Fj(e,t,n,r){let s=typeof t=="string"?ys(t):t,i=ls(s.pathname||"/",n);if(i==null)return null;let a=Xg(e);Vj(a);let l=null;for(let c=0;l==null&&c<a.length;++c){let u=Jj(i);l=Yj(a[c],u)}return l}function Xg(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,a,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};c.relativePath.startsWith("/")&&(pe(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=Dn([r,c.relativePath]),d=n.concat(c);i.children&&i.children.length>0&&(pe(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Xg(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:Kj(u,i.index),routesMeta:d})};return e.forEach((i,a)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,a);else for(let c of qg(i.path))s(i,a,c)}),t}function qg(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let a=qg(r.join("/")),l=[];return l.push(...a.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...a),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function Vj(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Gj(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Bj=/^:[\w-]+$/,Uj=3,zj=2,$j=1,Wj=10,Hj=-2,Ep=e=>e==="*";function Kj(e,t){let n=e.split("/"),r=n.length;return n.some(Ep)&&(r+=Hj),t&&(r+=zj),n.filter(s=>!Ep(s)).reduce((s,i)=>s+(Bj.test(i)?Uj:i===""?$j:Wj),r)}function Gj(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function Yj(e,t,n){let{routesMeta:r}=e,s={},i="/",a=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,d=i==="/"?t:t.slice(i.length)||"/",f=Qc({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),m=c.route;if(!f)return null;Object.assign(s,f.params),a.push({params:s,pathname:Dn([i,f.pathname]),pathnameBase:eS(Dn([i,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(i=Dn([i,f.pathnameBase]))}return a}function Qc(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Qj(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((u,d,f)=>{let{paramName:m,isOptional:x}=d;if(m==="*"){let v=l[f]||"";a=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const k=l[f];return x&&!k?u[m]=void 0:u[m]=(k||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:a,pattern:e}}function Qj(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Jg(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function Jj(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Jg(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function ls(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function Xj(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?ys(e):e;return{pathname:n?n.startsWith("/")?n:qj(n,t):t,search:tS(r),hash:nS(s)}}function qj(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Rl(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Zj(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function vd(e,t){let n=Zj(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function xd(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=ys(e):(s=Si({},e),pe(!s.pathname||!s.pathname.includes("?"),Rl("?","pathname","search",s)),pe(!s.pathname||!s.pathname.includes("#"),Rl("#","pathname","hash",s)),pe(!s.search||!s.search.includes("#"),Rl("#","search","hash",s)));let i=e===""||s.pathname==="",a=i?"/":s.pathname,l;if(a==null)l=n;else{let f=t.length-1;if(!r&&a.startsWith("..")){let m=a.split("/");for(;m[0]==="..";)m.shift(),f-=1;s.pathname=m.join("/")}l=f>=0?t[f]:"/"}let c=Xj(s,l),u=a&&a!=="/"&&a.endsWith("/"),d=(i||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Dn=e=>e.join("/").replace(/\/\/+/g,"/"),eS=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),tS=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,nS=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function rS(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Zg=["post","put","patch","delete"];new Set(Zg);const sS=["get",...Zg];new Set(sS);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ki(){return ki=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ki.apply(this,arguments)}const Da=g.createContext(null),ev=g.createContext(null),cn=g.createContext(null),Oa=g.createContext(null),un=g.createContext({outlet:null,matches:[],isDataRoute:!1}),tv=g.createContext(null);function iS(e,t){let{relative:n}=t===void 0?{}:t;gs()||pe(!1);let{basename:r,navigator:s}=g.useContext(cn),{hash:i,pathname:a,search:l}=Fa(e,{relative:n}),c=a;return r!=="/"&&(c=a==="/"?r:Dn([r,a])),s.createHref({pathname:c,search:l,hash:i})}function gs(){return g.useContext(Oa)!=null}function It(){return gs()||pe(!1),g.useContext(Oa).location}function nv(e){g.useContext(cn).static||g.useLayoutEffect(e)}function $n(){let{isDataRoute:e}=g.useContext(un);return e?xS():oS()}function oS(){gs()||pe(!1);let e=g.useContext(Da),{basename:t,future:n,navigator:r}=g.useContext(cn),{matches:s}=g.useContext(un),{pathname:i}=It(),a=JSON.stringify(vd(s,n.v7_relativeSplatPath)),l=g.useRef(!1);return nv(()=>{l.current=!0}),g.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let f=xd(u,JSON.parse(a),i,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Dn([t,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[t,r,a,i,e])}function aS(){let{matches:e}=g.useContext(un),t=e[e.length-1];return t?t.params:{}}function Fa(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=g.useContext(cn),{matches:s}=g.useContext(un),{pathname:i}=It(),a=JSON.stringify(vd(s,r.v7_relativeSplatPath));return g.useMemo(()=>xd(e,JSON.parse(a),i,n==="path"),[e,a,i,n])}function lS(e,t){return cS(e,t)}function cS(e,t,n,r){gs()||pe(!1);let{navigator:s}=g.useContext(cn),{matches:i}=g.useContext(un),a=i[i.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let u=It(),d;if(t){var f;let C=typeof t=="string"?ys(t):t;c==="/"||(f=C.pathname)!=null&&f.startsWith(c)||pe(!1),d=C}else d=u;let m=d.pathname||"/",x=m;if(c!=="/"){let C=c.replace(/^\//,"").split("/");x="/"+m.replace(/^\//,"").split("/").slice(C.length).join("/")}let k=Oj(e,{pathname:x}),v=fS(k&&k.map(C=>Object.assign({},C,{params:Object.assign({},l,C.params),pathname:Dn([c,s.encodeLocation?s.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?c:Dn([c,s.encodeLocation?s.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),i,n,r);return t&&v?g.createElement(Oa.Provider,{value:{location:ki({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:An.Pop}},v):v}function uS(){let e=vS(),t=rS(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},t),n?g.createElement("pre",{style:s},n):null,null)}const dS=g.createElement(uS,null);class hS extends g.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?g.createElement(un.Provider,{value:this.props.routeContext},g.createElement(tv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function pS(e){let{routeContext:t,match:n,children:r}=e,s=g.useContext(Da);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),g.createElement(un.Provider,{value:t},r)}function fS(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,l=(s=n)==null?void 0:s.errors;if(l!=null){let d=a.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||pe(!1),a=a.slice(0,Math.min(a.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<a.length;d++){let f=a[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:m,errors:x}=n,k=f.route.loader&&m[f.route.id]===void 0&&(!x||x[f.route.id]===void 0);if(f.route.lazy||k){c=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((d,f,m)=>{let x,k=!1,v=null,C=null;n&&(x=l&&f.route.id?l[f.route.id]:void 0,v=f.route.errorElement||dS,c&&(u<0&&m===0?(wS("route-fallback"),k=!0,C=null):u===m&&(k=!0,C=f.route.hydrateFallbackElement||null)));let h=t.concat(a.slice(0,m+1)),p=()=>{let y;return x?y=v:k?y=C:f.route.Component?y=g.createElement(f.route.Component,null):f.route.element?y=f.route.element:y=d,g.createElement(pS,{match:f,routeContext:{outlet:d,matches:h,isDataRoute:n!=null},children:y})};return n&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?g.createElement(hS,{location:n.location,revalidation:n.revalidation,component:v,error:x,children:p(),routeContext:{outlet:null,matches:h,isDataRoute:!0}}):p()},null)}var rv=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(rv||{}),sv=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(sv||{});function mS(e){let t=g.useContext(Da);return t||pe(!1),t}function yS(e){let t=g.useContext(ev);return t||pe(!1),t}function gS(e){let t=g.useContext(un);return t||pe(!1),t}function iv(e){let t=gS(),n=t.matches[t.matches.length-1];return n.route.id||pe(!1),n.route.id}function vS(){var e;let t=g.useContext(tv),n=yS(),r=iv();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function xS(){let{router:e}=mS(rv.UseNavigateStable),t=iv(sv.UseNavigateStable),n=g.useRef(!1);return nv(()=>{n.current=!0}),g.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,ki({fromRouteId:t},i)))},[e,t])}const Tp={};function wS(e,t,n){Tp[e]||(Tp[e]=!0)}function jS(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function aa(e){let{to:t,replace:n,state:r,relative:s}=e;gs()||pe(!1);let{future:i,static:a}=g.useContext(cn),{matches:l}=g.useContext(un),{pathname:c}=It(),u=$n(),d=xd(t,vd(l,i.v7_relativeSplatPath),c,s==="path"),f=JSON.stringify(d);return g.useEffect(()=>u(JSON.parse(f),{replace:n,state:r,relative:s}),[u,f,s,n,r]),null}function Bt(e){pe(!1)}function SS(e){let{basename:t="/",children:n=null,location:r,navigationType:s=An.Pop,navigator:i,static:a=!1,future:l}=e;gs()&&pe(!1);let c=t.replace(/^\/*/,"/"),u=g.useMemo(()=>({basename:c,navigator:i,static:a,future:ki({v7_relativeSplatPath:!1},l)}),[c,l,i,a]);typeof r=="string"&&(r=ys(r));let{pathname:d="/",search:f="",hash:m="",state:x=null,key:k="default"}=r,v=g.useMemo(()=>{let C=ls(d,c);return C==null?null:{location:{pathname:C,search:f,hash:m,state:x,key:k},navigationType:s}},[c,d,f,m,x,k,s]);return v==null?null:g.createElement(cn.Provider,{value:u},g.createElement(Oa.Provider,{children:n,value:v}))}function kS(e){let{children:t,location:n}=e;return lS(Jc(t),n)}new Promise(()=>{});function Jc(e,t){t===void 0&&(t=[]);let n=[];return g.Children.forEach(e,(r,s)=>{if(!g.isValidElement(r))return;let i=[...t,s];if(r.type===g.Fragment){n.push.apply(n,Jc(r.props.children,i));return}r.type!==Bt&&pe(!1),!r.props.index||!r.props.children||pe(!1);let a={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=Jc(r.props.children,i)),n.push(a)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function la(){return la=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},la.apply(this,arguments)}function ov(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,i;for(i=0;i<r.length;i++)s=r[i],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function bS(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function CS(e,t){return e.button===0&&(!t||t==="_self")&&!bS(e)}const NS=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],AS=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],PS="6";try{window.__reactRouterVersion=PS}catch{}const ES=g.createContext({isTransitioning:!1}),TS="startTransition",_p=S1[TS];function _S(e){let{basename:t,children:n,future:r,window:s}=e,i=g.useRef();i.current==null&&(i.current=Ij({window:s,v5Compat:!0}));let a=i.current,[l,c]=g.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},d=g.useCallback(f=>{u&&_p?_p(()=>c(f)):c(f)},[c,u]);return g.useLayoutEffect(()=>a.listen(d),[a,d]),g.useEffect(()=>jS(r),[r]),g.createElement(SS,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:a,future:r})}const RS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",MS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ue=g.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:i,replace:a,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,m=ov(t,NS),{basename:x}=g.useContext(cn),k,v=!1;if(typeof u=="string"&&MS.test(u)&&(k=u,RS))try{let y=new URL(window.location.href),j=u.startsWith("//")?new URL(y.protocol+u):new URL(u),S=ls(j.pathname,x);j.origin===y.origin&&S!=null?u=S+j.search+j.hash:v=!0}catch{}let C=iS(u,{relative:s}),h=DS(u,{replace:a,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:f});function p(y){r&&r(y),y.defaultPrevented||h(y)}return g.createElement("a",la({},m,{href:k||C,onClick:v||i?r:p,ref:n,target:c}))}),IS=g.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:s=!1,className:i="",end:a=!1,style:l,to:c,viewTransition:u,children:d}=t,f=ov(t,AS),m=Fa(c,{relative:f.relative}),x=It(),k=g.useContext(ev),{navigator:v,basename:C}=g.useContext(cn),h=k!=null&&OS(m)&&u===!0,p=v.encodeLocation?v.encodeLocation(m).pathname:m.pathname,y=x.pathname,j=k&&k.navigation&&k.navigation.location?k.navigation.location.pathname:null;s||(y=y.toLowerCase(),j=j?j.toLowerCase():null,p=p.toLowerCase()),j&&C&&(j=ls(j,C)||j);const S=p!=="/"&&p.endsWith("/")?p.length-1:p.length;let b=y===p||!a&&y.startsWith(p)&&y.charAt(S)==="/",T=j!=null&&(j===p||!a&&j.startsWith(p)&&j.charAt(p.length)==="/"),A={isActive:b,isPending:T,isTransitioning:h},N=b?r:void 0,P;typeof i=="function"?P=i(A):P=[i,b?"active":null,T?"pending":null,h?"transitioning":null].filter(Boolean).join(" ");let E=typeof l=="function"?l(A):l;return g.createElement(Ue,la({},f,{"aria-current":N,className:P,ref:n,style:E,to:c,viewTransition:u}),typeof d=="function"?d(A):d)});var Xc;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Xc||(Xc={}));var Rp;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Rp||(Rp={}));function LS(e){let t=g.useContext(Da);return t||pe(!1),t}function DS(e,t){let{target:n,replace:r,state:s,preventScrollReset:i,relative:a,viewTransition:l}=t===void 0?{}:t,c=$n(),u=It(),d=Fa(e,{relative:a});return g.useCallback(f=>{if(CS(f,n)){f.preventDefault();let m=r!==void 0?r:oa(u)===oa(d);c(e,{replace:m,state:s,preventScrollReset:i,relative:a,viewTransition:l})}},[u,c,d,r,s,n,e,i,a,l])}function OS(e,t){t===void 0&&(t={});let n=g.useContext(ES);n==null&&pe(!1);let{basename:r}=LS(Xc.useViewTransitionState),s=Fa(e,{relative:t.relative});if(!n.isTransitioning)return!1;let i=ls(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=ls(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Qc(s.pathname,a)!=null||Qc(s.pathname,i)!=null}const wd=g.createContext({});function Mi(e){const t=g.useRef(null);return t.current===null&&(t.current=e()),t.current}const Va=g.createContext(null),Ii=g.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class FS extends g.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function VS({children:e,isPresent:t}){const n=g.useId(),r=g.useRef(null),s=g.useRef({width:0,height:0,top:0,left:0}),{nonce:i}=g.useContext(Ii);return g.useInsertionEffect(()=>{const{width:a,height:l,top:c,left:u}=s.current;if(t||!r.current||!a||!l)return;r.current.dataset.motionPopId=n;const d=document.createElement("style");return i&&(d.nonce=i),document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${l}px !important;
            top: ${c}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[t]),o.jsx(FS,{isPresent:t,childRef:r,sizeRef:s,children:g.cloneElement(e,{ref:r})})}const BS=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:a})=>{const l=Mi(US),c=g.useId(),u=g.useCallback(f=>{l.set(f,!0);for(const m of l.values())if(!m)return;r&&r()},[l,r]),d=g.useMemo(()=>({id:c,initial:t,isPresent:n,custom:s,onExitComplete:u,register:f=>(l.set(f,!1),()=>l.delete(f))}),i?[Math.random(),u]:[n,u]);return g.useMemo(()=>{l.forEach((f,m)=>l.set(m,!1))},[n]),g.useEffect(()=>{!n&&!l.size&&r&&r()},[n]),a==="popLayout"&&(e=o.jsx(VS,{isPresent:n,children:e})),o.jsx(Va.Provider,{value:d,children:e})};function US(){return new Map}function av(e=!0){const t=g.useContext(Va);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=t,i=g.useId();g.useEffect(()=>{e&&s(i)},[e]);const a=g.useCallback(()=>e&&r&&r(i),[i,r,e]);return!n&&r?[!1,a]:[!0]}const uo=e=>e.key||"";function Mp(e){const t=[];return g.Children.forEach(e,n=>{g.isValidElement(n)&&t.push(n)}),t}const jd=typeof window<"u",Ba=jd?g.useLayoutEffect:g.useEffect,Sd=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:i="sync",propagate:a=!1})=>{const[l,c]=av(a),u=g.useMemo(()=>Mp(e),[e]),d=a&&!l?[]:u.map(uo),f=g.useRef(!0),m=g.useRef(u),x=Mi(()=>new Map),[k,v]=g.useState(u),[C,h]=g.useState(u);Ba(()=>{f.current=!1,m.current=u;for(let j=0;j<C.length;j++){const S=uo(C[j]);d.includes(S)?x.delete(S):x.get(S)!==!0&&x.set(S,!1)}},[C,d.length,d.join("-")]);const p=[];if(u!==k){let j=[...u];for(let S=0;S<C.length;S++){const b=C[S],T=uo(b);d.includes(T)||(j.splice(S,0,b),p.push(b))}i==="wait"&&p.length&&(j=p),h(Mp(j)),v(u);return}const{forceRender:y}=g.useContext(wd);return o.jsx(o.Fragment,{children:C.map(j=>{const S=uo(j),b=a&&!l?!1:u===C||d.includes(S),T=()=>{if(x.has(S))x.set(S,!0);else return;let A=!0;x.forEach(N=>{N||(A=!1)}),A&&(y==null||y(),h(m.current),a&&(c==null||c()),r&&r())};return o.jsx(BS,{isPresent:b,initial:!f.current||n?void 0:!1,custom:b?void 0:t,presenceAffectsLayout:s,mode:i,onExitComplete:b?void 0:T,children:j},S)})})},lt=e=>e;let lv=lt;function kd(e){let t;return()=>(t===void 0&&(t=e()),t)}const cs=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},Zt=e=>e*1e3,en=e=>e/1e3,zS={useManualTiming:!1};function $S(e){let t=new Set,n=new Set,r=!1,s=!1;const i=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function l(u){i.has(u)&&(c.schedule(u),e()),u(a)}const c={schedule:(u,d=!1,f=!1)=>{const x=f&&r?t:n;return d&&i.add(u),x.has(u)||x.add(u),u},cancel:u=>{n.delete(u),i.delete(u)},process:u=>{if(a=u,r){s=!0;return}r=!0,[t,n]=[n,t],t.forEach(l),t.clear(),r=!1,s&&(s=!1,c.process(u))}};return c}const ho=["read","resolveKeyframes","update","preRender","render","postRender"],WS=40;function cv(e,t){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,a=ho.reduce((h,p)=>(h[p]=$S(i),h),{}),{read:l,resolveKeyframes:c,update:u,preRender:d,render:f,postRender:m}=a,x=()=>{const h=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(h-s.timestamp,WS),1),s.timestamp=h,s.isProcessing=!0,l.process(s),c.process(s),u.process(s),d.process(s),f.process(s),m.process(s),s.isProcessing=!1,n&&t&&(r=!1,e(x))},k=()=>{n=!0,r=!0,s.isProcessing||e(x)};return{schedule:ho.reduce((h,p)=>{const y=a[p];return h[p]=(j,S=!1,b=!1)=>(n||k(),y.schedule(j,S,b)),h},{}),cancel:h=>{for(let p=0;p<ho.length;p++)a[ho[p]].cancel(h)},state:s,steps:a}}const{schedule:ie,cancel:on,state:Ne,steps:Ml}=cv(typeof requestAnimationFrame<"u"?requestAnimationFrame:lt,!0),uv=g.createContext({strict:!1}),Ip={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},us={};for(const e in Ip)us[e]={isEnabled:t=>Ip[e].some(n=>!!t[n])};function HS(e){for(const t in e)us[t]={...us[t],...e[t]}}const KS=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ca(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||KS.has(e)}let dv=e=>!ca(e);function GS(e){e&&(dv=t=>t.startsWith("on")?!ca(t):e(t))}try{GS(require("@emotion/is-prop-valid").default)}catch{}function YS(e,t,n){const r={};for(const s in e)s==="values"&&typeof e.values=="object"||(dv(s)||n===!0&&ca(s)||!t&&!ca(s)||e.draggable&&s.startsWith("onDrag"))&&(r[s]=e[s]);return r}function QS(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...r)=>e(...r);return new Proxy(n,{get:(r,s)=>s==="create"?e:(t.has(s)||t.set(s,e(s)),t.get(s))})}const Ua=g.createContext({});function bi(e){return typeof e=="string"||Array.isArray(e)}function za(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const bd=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Cd=["initial",...bd];function $a(e){return za(e.animate)||Cd.some(t=>bi(e[t]))}function hv(e){return!!($a(e)||e.variants)}function JS(e,t){if($a(e)){const{initial:n,animate:r}=e;return{initial:n===!1||bi(n)?n:void 0,animate:bi(r)?r:void 0}}return e.inherit!==!1?t:{}}function XS(e){const{initial:t,animate:n}=JS(e,g.useContext(Ua));return g.useMemo(()=>({initial:t,animate:n}),[Lp(t),Lp(n)])}function Lp(e){return Array.isArray(e)?e.join(" "):e}const qS=Symbol.for("motionComponentSymbol");function zr(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function ZS(e,t,n){return g.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):zr(n)&&(n.current=r))},[t])}const Nd=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),ek="framerAppearId",pv="data-"+Nd(ek),{schedule:Ad}=cv(queueMicrotask,!1),fv=g.createContext({});function tk(e,t,n,r,s){var i,a;const{visualElement:l}=g.useContext(Ua),c=g.useContext(uv),u=g.useContext(Va),d=g.useContext(Ii).reducedMotion,f=g.useRef(null);r=r||c.renderer,!f.current&&r&&(f.current=r(e,{visualState:t,parent:l,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:d}));const m=f.current,x=g.useContext(fv);m&&!m.projection&&s&&(m.type==="html"||m.type==="svg")&&nk(f.current,n,s,x);const k=g.useRef(!1);g.useInsertionEffect(()=>{m&&k.current&&m.update(n,u)});const v=n[pv],C=g.useRef(!!v&&!(!((i=window.MotionHandoffIsComplete)===null||i===void 0)&&i.call(window,v))&&((a=window.MotionHasOptimisedAnimation)===null||a===void 0?void 0:a.call(window,v)));return Ba(()=>{m&&(k.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),Ad.render(m.render),C.current&&m.animationState&&m.animationState.animateChanges())}),g.useEffect(()=>{m&&(!C.current&&m.animationState&&m.animationState.animateChanges(),C.current&&(queueMicrotask(()=>{var h;(h=window.MotionHandoffMarkAsComplete)===null||h===void 0||h.call(window,v)}),C.current=!1))}),m}function nk(e,t,n,r){const{layoutId:s,layout:i,drag:a,dragConstraints:l,layoutScroll:c,layoutRoot:u}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:mv(e.parent)),e.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!a||l&&zr(l),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,layoutScroll:c,layoutRoot:u})}function mv(e){if(e)return e.options.allowProjection!==!1?e.projection:mv(e.parent)}function rk({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:s}){var i,a;e&&HS(e);function l(u,d){let f;const m={...g.useContext(Ii),...u,layoutId:sk(u)},{isStatic:x}=m,k=XS(u),v=r(u,x);if(!x&&jd){ik();const C=ok(m);f=C.MeasureLayout,k.visualElement=tk(s,v,m,t,C.ProjectionNode)}return o.jsxs(Ua.Provider,{value:k,children:[f&&k.visualElement?o.jsx(f,{visualElement:k.visualElement,...m}):null,n(s,u,ZS(v,k.visualElement,d),v,x,k.visualElement)]})}l.displayName=`motion.${typeof s=="string"?s:`create(${(a=(i=s.displayName)!==null&&i!==void 0?i:s.name)!==null&&a!==void 0?a:""})`}`;const c=g.forwardRef(l);return c[qS]=s,c}function sk({layoutId:e}){const t=g.useContext(wd).id;return t&&e!==void 0?t+"-"+e:e}function ik(e,t){g.useContext(uv).strict}function ok(e){const{drag:t,layout:n}=us;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const ak=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Pd(e){return typeof e!="string"||e.includes("-")?!1:!!(ak.indexOf(e)>-1||/[A-Z]/u.test(e))}function Dp(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function Ed(e,t,n,r){if(typeof t=="function"){const[s,i]=Dp(r);t=t(n!==void 0?n:e.custom,s,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,i]=Dp(r);t=t(n!==void 0?n:e.custom,s,i)}return t}const qc=e=>Array.isArray(e),lk=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),ck=e=>qc(e)?e[e.length-1]||0:e,Pe=e=>!!(e&&e.getVelocity);function Mo(e){const t=Pe(e)?e.get():e;return lk(t)?t.toValue():t}function uk({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:n},r,s,i){const a={latestValues:dk(r,s,i,e),renderState:t()};return n&&(a.onMount=l=>n({props:r,current:l,...a}),a.onUpdate=l=>n(l)),a}const yv=e=>(t,n)=>{const r=g.useContext(Ua),s=g.useContext(Va),i=()=>uk(e,t,r,s);return n?i():Mi(i)};function dk(e,t,n,r){const s={},i=r(e,{});for(const m in i)s[m]=Mo(i[m]);let{initial:a,animate:l}=e;const c=$a(e),u=hv(e);t&&u&&!c&&e.inherit!==!1&&(a===void 0&&(a=t.initial),l===void 0&&(l=t.animate));let d=n?n.initial===!1:!1;d=d||a===!1;const f=d?l:a;if(f&&typeof f!="boolean"&&!za(f)){const m=Array.isArray(f)?f:[f];for(let x=0;x<m.length;x++){const k=Ed(e,m[x]);if(k){const{transitionEnd:v,transition:C,...h}=k;for(const p in h){let y=h[p];if(Array.isArray(y)){const j=d?y.length-1:0;y=y[j]}y!==null&&(s[p]=y)}for(const p in v)s[p]=v[p]}}}return s}const vs=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],gr=new Set(vs),gv=e=>t=>typeof t=="string"&&t.startsWith(e),vv=gv("--"),hk=gv("var(--"),Td=e=>hk(e)?pk.test(e.split("/*")[0].trim()):!1,pk=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,xv=(e,t)=>t&&typeof e=="number"?t.transform(e):e,an=(e,t,n)=>n>t?t:n<e?e:n,xs={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Ci={...xs,transform:e=>an(0,1,e)},po={...xs,default:1},Li=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),wn=Li("deg"),Ht=Li("%"),G=Li("px"),fk=Li("vh"),mk=Li("vw"),Op={...Ht,parse:e=>Ht.parse(e)/100,transform:e=>Ht.transform(e*100)},yk={borderWidth:G,borderTopWidth:G,borderRightWidth:G,borderBottomWidth:G,borderLeftWidth:G,borderRadius:G,radius:G,borderTopLeftRadius:G,borderTopRightRadius:G,borderBottomRightRadius:G,borderBottomLeftRadius:G,width:G,maxWidth:G,height:G,maxHeight:G,top:G,right:G,bottom:G,left:G,padding:G,paddingTop:G,paddingRight:G,paddingBottom:G,paddingLeft:G,margin:G,marginTop:G,marginRight:G,marginBottom:G,marginLeft:G,backgroundPositionX:G,backgroundPositionY:G},gk={rotate:wn,rotateX:wn,rotateY:wn,rotateZ:wn,scale:po,scaleX:po,scaleY:po,scaleZ:po,skew:wn,skewX:wn,skewY:wn,distance:G,translateX:G,translateY:G,translateZ:G,x:G,y:G,z:G,perspective:G,transformPerspective:G,opacity:Ci,originX:Op,originY:Op,originZ:G},Fp={...xs,transform:Math.round},_d={...yk,...gk,zIndex:Fp,size:G,fillOpacity:Ci,strokeOpacity:Ci,numOctaves:Fp},vk={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},xk=vs.length;function wk(e,t,n){let r="",s=!0;for(let i=0;i<xk;i++){const a=vs[i],l=e[a];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(a.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||n){const u=xv(l,_d[a]);if(!c){s=!1;const d=vk[a]||a;r+=`${d}(${u}) `}n&&(t[a]=u)}}return r=r.trim(),n?r=n(t,s?"":r):s&&(r="none"),r}function Rd(e,t,n){const{style:r,vars:s,transformOrigin:i}=e;let a=!1,l=!1;for(const c in t){const u=t[c];if(gr.has(c)){a=!0;continue}else if(vv(c)){s[c]=u;continue}else{const d=xv(u,_d[c]);c.startsWith("origin")?(l=!0,i[c]=d):r[c]=d}}if(t.transform||(a||n?r.transform=wk(t,e.transform,n):r.transform&&(r.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:d=0}=i;r.transformOrigin=`${c} ${u} ${d}`}}const jk={offset:"stroke-dashoffset",array:"stroke-dasharray"},Sk={offset:"strokeDashoffset",array:"strokeDasharray"};function kk(e,t,n=1,r=0,s=!0){e.pathLength=1;const i=s?jk:Sk;e[i.offset]=G.transform(-r);const a=G.transform(t),l=G.transform(n);e[i.array]=`${a} ${l}`}function Vp(e,t,n){return typeof e=="string"?e:G.transform(t+n*e)}function bk(e,t,n){const r=Vp(t,e.x,e.width),s=Vp(n,e.y,e.height);return`${r} ${s}`}function Md(e,{attrX:t,attrY:n,attrScale:r,originX:s,originY:i,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...u},d,f){if(Rd(e,u,f),d){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:m,style:x,dimensions:k}=e;m.transform&&(k&&(x.transform=m.transform),delete m.transform),k&&(s!==void 0||i!==void 0||x.transform)&&(x.transformOrigin=bk(k,s!==void 0?s:.5,i!==void 0?i:.5)),t!==void 0&&(m.x=t),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),a!==void 0&&kk(m,a,l,c,!1)}const Id=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),wv=()=>({...Id(),attrs:{}}),Ld=e=>typeof e=="string"&&e.toLowerCase()==="svg";function jv(e,{style:t,vars:n},r,s){Object.assign(e.style,t,s&&s.getProjectionStyles(r));for(const i in n)e.style.setProperty(i,n[i])}const Sv=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function kv(e,t,n,r){jv(e,t,void 0,r);for(const s in t.attrs)e.setAttribute(Sv.has(s)?s:Nd(s),t.attrs[s])}const ua={};function Ck(e){Object.assign(ua,e)}function bv(e,{layout:t,layoutId:n}){return gr.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!ua[e]||e==="opacity")}function Dd(e,t,n){var r;const{style:s}=e,i={};for(const a in s)(Pe(s[a])||t.style&&Pe(t.style[a])||bv(a,e)||((r=n==null?void 0:n.getValue(a))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(i[a]=s[a]);return i}function Cv(e,t,n){const r=Dd(e,t,n);for(const s in e)if(Pe(e[s])||Pe(t[s])){const i=vs.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=e[s]}return r}function Nk(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}const Bp=["x","y","width","height","cx","cy","r"],Ak={useVisualState:yv({scrapeMotionValuesFromProps:Cv,createRenderState:wv,onUpdate:({props:e,prevProps:t,current:n,renderState:r,latestValues:s})=>{if(!n)return;let i=!!e.drag;if(!i){for(const l in s)if(gr.has(l)){i=!0;break}}if(!i)return;let a=!t;if(t)for(let l=0;l<Bp.length;l++){const c=Bp[l];e[c]!==t[c]&&(a=!0)}a&&ie.read(()=>{Nk(n,r),ie.render(()=>{Md(r,s,Ld(n.tagName),e.transformTemplate),kv(n,r)})})}})},Pk={useVisualState:yv({scrapeMotionValuesFromProps:Dd,createRenderState:Id})};function Nv(e,t,n){for(const r in t)!Pe(t[r])&&!bv(r,n)&&(e[r]=t[r])}function Ek({transformTemplate:e},t){return g.useMemo(()=>{const n=Id();return Rd(n,t,e),Object.assign({},n.vars,n.style)},[t])}function Tk(e,t){const n=e.style||{},r={};return Nv(r,n,e),Object.assign(r,Ek(e,t)),r}function _k(e,t){const n={},r=Tk(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}function Rk(e,t,n,r){const s=g.useMemo(()=>{const i=wv();return Md(i,t,Ld(r),e.transformTemplate),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};Nv(i,e.style,e),s.style={...i,...s.style}}return s}function Mk(e=!1){return(n,r,s,{latestValues:i},a)=>{const c=(Pd(n)?Rk:_k)(r,i,a,n),u=YS(r,typeof n=="string",e),d=n!==g.Fragment?{...u,...c,ref:s}:{},{children:f}=r,m=g.useMemo(()=>Pe(f)?f.get():f,[f]);return g.createElement(n,{...d,children:m})}}function Ik(e,t){return function(r,{forwardMotionProps:s}={forwardMotionProps:!1}){const a={...Pd(r)?Ak:Pk,preloadedFeatures:e,useRender:Mk(s),createVisualElement:t,Component:r};return rk(a)}}function Av(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function Wa(e,t,n){const r=e.getProps();return Ed(r,t,n!==void 0?n:r.custom,e)}const Lk=kd(()=>window.ScrollTimeline!==void 0);class Dk{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,n){for(let r=0;r<this.animations.length;r++)this.animations[r][t]=n}attachTimeline(t,n){const r=this.animations.map(s=>{if(Lk()&&s.attachTimeline)return s.attachTimeline(t);if(typeof n=="function")return n(s)});return()=>{r.forEach((s,i)=>{s&&s(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let n=0;n<this.animations.length;n++)t=Math.max(t,this.animations[n].duration);return t}runAll(t){this.animations.forEach(n=>n[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class Ok extends Dk{then(t,n){return Promise.all(this.animations).then(t).catch(n)}}function Od(e,t){return e?e[t]||e.default||e:void 0}const Zc=2e4;function Pv(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<Zc;)t+=n,r=e.next(t);return t>=Zc?1/0:t}function Fd(e){return typeof e=="function"}function Up(e,t){e.timeline=t,e.onfinish=null}const Vd=e=>Array.isArray(e)&&typeof e[0]=="number",Fk={linearEasing:void 0};function Vk(e,t){const n=kd(e);return()=>{var r;return(r=Fk[t])!==null&&r!==void 0?r:n()}}const da=Vk(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Ev=(e,t,n=10)=>{let r="";const s=Math.max(Math.round(t/n),2);for(let i=0;i<s;i++)r+=e(cs(0,s-1,i))+", ";return`linear(${r.substring(0,r.length-2)})`};function Tv(e){return!!(typeof e=="function"&&da()||!e||typeof e=="string"&&(e in eu||da())||Vd(e)||Array.isArray(e)&&e.every(Tv))}const Bs=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,eu={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Bs([0,.65,.55,1]),circOut:Bs([.55,0,1,.45]),backIn:Bs([.31,.01,.66,-.59]),backOut:Bs([.33,1.53,.69,.99])};function _v(e,t){if(e)return typeof e=="function"&&da()?Ev(e,t):Vd(e)?Bs(e):Array.isArray(e)?e.map(n=>_v(n,t)||eu.easeOut):eu[e]}const At={x:!1,y:!1};function Rv(){return At.x||At.y}function Bk(e,t,n){var r;if(e instanceof Element)return[e];if(typeof e=="string"){let s=document;const i=(r=void 0)!==null&&r!==void 0?r:s.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}function Mv(e,t){const n=Bk(e),r=new AbortController,s={passive:!0,...t,signal:r.signal};return[n,s,()=>r.abort()]}function zp(e){return t=>{t.pointerType==="touch"||Rv()||e(t)}}function Uk(e,t,n={}){const[r,s,i]=Mv(e,n),a=zp(l=>{const{target:c}=l,u=t(l);if(typeof u!="function"||!c)return;const d=zp(f=>{u(f),c.removeEventListener("pointerleave",d)});c.addEventListener("pointerleave",d,s)});return r.forEach(l=>{l.addEventListener("pointerenter",a,s)}),i}const Iv=(e,t)=>t?e===t?!0:Iv(e,t.parentElement):!1,Bd=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,zk=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function $k(e){return zk.has(e.tagName)||e.tabIndex!==-1}const Us=new WeakSet;function $p(e){return t=>{t.key==="Enter"&&e(t)}}function Il(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const Wk=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=$p(()=>{if(Us.has(n))return;Il(n,"down");const s=$p(()=>{Il(n,"up")}),i=()=>Il(n,"cancel");n.addEventListener("keyup",s,t),n.addEventListener("blur",i,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function Wp(e){return Bd(e)&&!Rv()}function Hk(e,t,n={}){const[r,s,i]=Mv(e,n),a=l=>{const c=l.currentTarget;if(!Wp(l)||Us.has(c))return;Us.add(c);const u=t(l),d=(x,k)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",m),!(!Wp(x)||!Us.has(c))&&(Us.delete(c),typeof u=="function"&&u(x,{success:k}))},f=x=>{d(x,n.useGlobalTarget||Iv(c,x.target))},m=x=>{d(x,!1)};window.addEventListener("pointerup",f,s),window.addEventListener("pointercancel",m,s)};return r.forEach(l=>{!$k(l)&&l.getAttribute("tabindex")===null&&(l.tabIndex=0),(n.useGlobalTarget?window:l).addEventListener("pointerdown",a,s),l.addEventListener("focus",u=>Wk(u,s),s)}),i}function Kk(e){return e==="x"||e==="y"?At[e]?null:(At[e]=!0,()=>{At[e]=!1}):At.x||At.y?null:(At.x=At.y=!0,()=>{At.x=At.y=!1})}const Lv=new Set(["width","height","top","left","right","bottom",...vs]);let Io;function Gk(){Io=void 0}const Kt={now:()=>(Io===void 0&&Kt.set(Ne.isProcessing||zS.useManualTiming?Ne.timestamp:performance.now()),Io),set:e=>{Io=e,queueMicrotask(Gk)}};function Ud(e,t){e.indexOf(t)===-1&&e.push(t)}function zd(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class $d{constructor(){this.subscriptions=[]}add(t){return Ud(this.subscriptions,t),()=>zd(this.subscriptions,t)}notify(t,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,r);else for(let i=0;i<s;i++){const a=this.subscriptions[i];a&&a(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function Dv(e,t){return t?e*(1e3/t):0}const Hp=30,Yk=e=>!isNaN(parseFloat(e)),ei={current:void 0};class Qk{constructor(t,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{const i=Kt.now();this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Kt.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=Yk(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new $d);const r=this.events[t].add(n);return t==="change"?()=>{r(),ie.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return ei.current&&ei.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const t=Kt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Hp)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Hp);return Dv(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ds(e,t){return new Qk(e,t)}function Jk(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,ds(n))}function Xk(e,t){const n=Wa(e,t);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const a in i){const l=ck(i[a]);Jk(e,a,l)}}function qk(e){return!!(Pe(e)&&e.add)}function tu(e,t){const n=e.getValue("willChange");if(qk(n))return n.add(t)}function Ov(e){return e.props[pv]}const Fv=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,Zk=1e-7,eb=12;function tb(e,t,n,r,s){let i,a,l=0;do a=t+(n-t)/2,i=Fv(a,r,s)-e,i>0?n=a:t=a;while(Math.abs(i)>Zk&&++l<eb);return a}function Di(e,t,n,r){if(e===t&&n===r)return lt;const s=i=>tb(i,0,1,e,n);return i=>i===0||i===1?i:Fv(s(i),t,r)}const Vv=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Bv=e=>t=>1-e(1-t),Uv=Di(.33,1.53,.69,.99),Wd=Bv(Uv),zv=Vv(Wd),$v=e=>(e*=2)<1?.5*Wd(e):.5*(2-Math.pow(2,-10*(e-1))),Hd=e=>1-Math.sin(Math.acos(e)),Wv=Bv(Hd),Hv=Vv(Hd),Kv=e=>/^0[^.\s]+$/u.test(e);function nb(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||Kv(e):!0}const ti=e=>Math.round(e*1e5)/1e5,Kd=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function rb(e){return e==null}const sb=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Gd=(e,t)=>n=>!!(typeof n=="string"&&sb.test(n)&&n.startsWith(e)||t&&!rb(n)&&Object.prototype.hasOwnProperty.call(n,t)),Gv=(e,t,n)=>r=>{if(typeof r!="string")return r;const[s,i,a,l]=r.match(Kd);return{[e]:parseFloat(s),[t]:parseFloat(i),[n]:parseFloat(a),alpha:l!==void 0?parseFloat(l):1}},ib=e=>an(0,255,e),Ll={...xs,transform:e=>Math.round(ib(e))},or={test:Gd("rgb","red"),parse:Gv("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+Ll.transform(e)+", "+Ll.transform(t)+", "+Ll.transform(n)+", "+ti(Ci.transform(r))+")"};function ob(e){let t="",n="",r="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,r+=r,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const nu={test:Gd("#"),parse:ob,transform:or.transform},$r={test:Gd("hsl","hue"),parse:Gv("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Ht.transform(ti(t))+", "+Ht.transform(ti(n))+", "+ti(Ci.transform(r))+")"},Ve={test:e=>or.test(e)||nu.test(e)||$r.test(e),parse:e=>or.test(e)?or.parse(e):$r.test(e)?$r.parse(e):nu.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?or.transform(e):$r.transform(e)},ab=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function lb(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(Kd))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(ab))===null||n===void 0?void 0:n.length)||0)>0}const Yv="number",Qv="color",cb="var",ub="var(",Kp="${}",db=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ni(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const l=t.replace(db,c=>(Ve.test(c)?(r.color.push(i),s.push(Qv),n.push(Ve.parse(c))):c.startsWith(ub)?(r.var.push(i),s.push(cb),n.push(c)):(r.number.push(i),s.push(Yv),n.push(parseFloat(c))),++i,Kp)).split(Kp);return{values:n,split:l,indexes:r,types:s}}function Jv(e){return Ni(e).values}function Xv(e){const{split:t,types:n}=Ni(e),r=t.length;return s=>{let i="";for(let a=0;a<r;a++)if(i+=t[a],s[a]!==void 0){const l=n[a];l===Yv?i+=ti(s[a]):l===Qv?i+=Ve.transform(s[a]):i+=s[a]}return i}}const hb=e=>typeof e=="number"?0:e;function pb(e){const t=Jv(e);return Xv(e)(t.map(hb))}const Vn={test:lb,parse:Jv,createTransformer:Xv,getAnimatableNone:pb},fb=new Set(["brightness","contrast","saturate","opacity"]);function mb(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(Kd)||[];if(!r)return e;const s=n.replace(r,"");let i=fb.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+s+")"}const yb=/\b([a-z-]*)\(.*?\)/gu,ru={...Vn,getAnimatableNone:e=>{const t=e.match(yb);return t?t.map(mb).join(" "):e}},gb={..._d,color:Ve,backgroundColor:Ve,outlineColor:Ve,fill:Ve,stroke:Ve,borderColor:Ve,borderTopColor:Ve,borderRightColor:Ve,borderBottomColor:Ve,borderLeftColor:Ve,filter:ru,WebkitFilter:ru},Yd=e=>gb[e];function qv(e,t){let n=Yd(e);return n!==ru&&(n=Vn),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const vb=new Set(["auto","none","0"]);function xb(e,t,n){let r=0,s;for(;r<e.length&&!s;){const i=e[r];typeof i=="string"&&!vb.has(i)&&Ni(i).values.length&&(s=e[r]),r++}if(s&&n)for(const i of t)e[i]=qv(n,s)}const Gp=e=>e===xs||e===G,Yp=(e,t)=>parseFloat(e.split(", ")[t]),Qp=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/u);if(s)return Yp(s[1],t);{const i=r.match(/^matrix\((.+)\)$/u);return i?Yp(i[1],e):0}},wb=new Set(["x","y","z"]),jb=vs.filter(e=>!wb.has(e));function Sb(e){const t=[];return jb.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const hs={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:Qp(4,13),y:Qp(5,14)};hs.translateX=hs.x;hs.translateY=hs.y;const cr=new Set;let su=!1,iu=!1;function Zv(){if(iu){const e=Array.from(cr).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const s=Sb(r);s.length&&(n.set(r,s),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,a])=>{var l;(l=r.getValue(i))===null||l===void 0||l.set(a)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}iu=!1,su=!1,cr.forEach(e=>e.complete()),cr.clear()}function e0(){cr.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(iu=!0)})}function kb(){e0(),Zv()}class Qd{constructor(t,n,r,s,i,a=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=a}scheduleResolve(){this.isScheduled=!0,this.isAsync?(cr.add(this),su||(su=!0,ie.read(e0),ie.resolveKeyframes(Zv))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:s}=this;for(let i=0;i<t.length;i++)if(t[i]===null)if(i===0){const a=s==null?void 0:s.get(),l=t[t.length-1];if(a!==void 0)t[0]=a;else if(r&&n){const c=r.readValue(n,l);c!=null&&(t[0]=c)}t[0]===void 0&&(t[0]=l),s&&a===void 0&&s.set(t[0])}else t[i]=t[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),cr.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,cr.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const t0=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),bb=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Cb(e){const t=bb.exec(e);if(!t)return[,];const[,n,r,s]=t;return[`--${n??r}`,s]}function n0(e,t,n=1){const[r,s]=Cb(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const a=i.trim();return t0(a)?parseFloat(a):a}return Td(s)?n0(s,t,n+1):s}const r0=e=>t=>t.test(e),Nb={test:e=>e==="auto",parse:e=>e},s0=[xs,G,Ht,wn,mk,fk,Nb],Jp=e=>s0.find(r0(e));class i0 extends Qd{constructor(t,n,r,s,i){super(t,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let u=t[c];if(typeof u=="string"&&(u=u.trim(),Td(u))){const d=n0(u,n.current);d!==void 0&&(t[c]=d),c===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!Lv.has(r)||t.length!==2)return;const[s,i]=t,a=Jp(s),l=Jp(i);if(a!==l)if(Gp(a)&&Gp(l))for(let c=0;c<t.length;c++){const u=t[c];typeof u=="string"&&(t[c]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let s=0;s<t.length;s++)nb(t[s])&&r.push(s);r.length&&xb(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=hs[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&t.getValue(r,s).jump(s,!1)}measureEndState(){var t;const{element:n,name:r,unresolvedKeyframes:s}=this;if(!n||!n.current)return;const i=n.getValue(r);i&&i.jump(this.measuredOrigin,!1);const a=s.length-1,l=s[a];s[a]=hs[r](n.measureViewportBox(),window.getComputedStyle(n.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([c,u])=>{n.getValue(c).set(u)}),this.resolveNoneKeyframes()}}const Xp=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Vn.test(e)||e==="0")&&!e.startsWith("url("));function Ab(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function Pb(e,t,n,r){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],a=Xp(s,t),l=Xp(i,t);return!a||!l?!1:Ab(e)||(n==="spring"||Fd(n))&&r}const Eb=e=>e!==null;function Ha(e,{repeat:t,repeatType:n="loop"},r){const s=e.filter(Eb),i=t&&n!=="loop"&&t%2===1?0:s.length-1;return!i||r===void 0?s[i]:r}const Tb=40;class o0{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:a="loop",...l}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Kt.now(),this.options={autoplay:t,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:a,...l},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>Tb?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&kb(),this._resolved}onKeyframesResolved(t,n){this.resolvedAt=Kt.now(),this.hasAttemptedResolve=!0;const{name:r,type:s,velocity:i,delay:a,onComplete:l,onUpdate:c,isGenerator:u}=this.options;if(!u&&!Pb(t,r,s,i))if(a)this.options.duration=0;else{c&&c(Ha(t,this.options,n)),l&&l(),this.resolveFinishedPromise();return}const d=this.initPlayback(t,n);d!==!1&&(this._resolved={keyframes:t,finalKeyframe:n,...d},this.onPostResolved())}onPostResolved(){}then(t,n){return this.currentFinishedPromise.then(t,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const de=(e,t,n)=>e+(t-e)*n;function Dl(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function _b({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let s=0,i=0,a=0;if(!t)s=i=a=n;else{const l=n<.5?n*(1+t):n+t-n*t,c=2*n-l;s=Dl(c,l,e+1/3),i=Dl(c,l,e),a=Dl(c,l,e-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(a*255),alpha:r}}function ha(e,t){return n=>n>0?t:e}const Ol=(e,t,n)=>{const r=e*e,s=n*(t*t-r)+r;return s<0?0:Math.sqrt(s)},Rb=[nu,or,$r],Mb=e=>Rb.find(t=>t.test(e));function qp(e){const t=Mb(e);if(!t)return!1;let n=t.parse(e);return t===$r&&(n=_b(n)),n}const Zp=(e,t)=>{const n=qp(e),r=qp(t);if(!n||!r)return ha(e,t);const s={...n};return i=>(s.red=Ol(n.red,r.red,i),s.green=Ol(n.green,r.green,i),s.blue=Ol(n.blue,r.blue,i),s.alpha=de(n.alpha,r.alpha,i),or.transform(s))},Ib=(e,t)=>n=>t(e(n)),Oi=(...e)=>e.reduce(Ib),ou=new Set(["none","hidden"]);function Lb(e,t){return ou.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function Db(e,t){return n=>de(e,t,n)}function Jd(e){return typeof e=="number"?Db:typeof e=="string"?Td(e)?ha:Ve.test(e)?Zp:Vb:Array.isArray(e)?a0:typeof e=="object"?Ve.test(e)?Zp:Ob:ha}function a0(e,t){const n=[...e],r=n.length,s=e.map((i,a)=>Jd(i)(i,t[a]));return i=>{for(let a=0;a<r;a++)n[a]=s[a](i);return n}}function Ob(e,t){const n={...e,...t},r={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(r[s]=Jd(e[s])(e[s],t[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function Fb(e,t){var n;const r=[],s={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const a=t.types[i],l=e.indexes[a][s[a]],c=(n=e.values[l])!==null&&n!==void 0?n:0;r[i]=c,s[a]++}return r}const Vb=(e,t)=>{const n=Vn.createTransformer(t),r=Ni(e),s=Ni(t);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?ou.has(e)&&!s.values.length||ou.has(t)&&!r.values.length?Lb(e,t):Oi(a0(Fb(r,s),s.values),n):ha(e,t)};function l0(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?de(e,t,n):Jd(e)(e,t)}const Bb=5;function c0(e,t,n){const r=Math.max(t-Bb,0);return Dv(n-e(r),t-r)}const me={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Fl=.001;function Ub({duration:e=me.duration,bounce:t=me.bounce,velocity:n=me.velocity,mass:r=me.mass}){let s,i,a=1-t;a=an(me.minDamping,me.maxDamping,a),e=an(me.minDuration,me.maxDuration,en(e)),a<1?(s=u=>{const d=u*a,f=d*e,m=d-n,x=au(u,a),k=Math.exp(-f);return Fl-m/x*k},i=u=>{const f=u*a*e,m=f*n+n,x=Math.pow(a,2)*Math.pow(u,2)*e,k=Math.exp(-f),v=au(Math.pow(u,2),a);return(-s(u)+Fl>0?-1:1)*((m-x)*k)/v}):(s=u=>{const d=Math.exp(-u*e),f=(u-n)*e+1;return-Fl+d*f},i=u=>{const d=Math.exp(-u*e),f=(n-u)*(e*e);return d*f});const l=5/e,c=$b(s,i,l);if(e=Zt(e),isNaN(c))return{stiffness:me.stiffness,damping:me.damping,duration:e};{const u=Math.pow(c,2)*r;return{stiffness:u,damping:a*2*Math.sqrt(r*u),duration:e}}}const zb=12;function $b(e,t,n){let r=n;for(let s=1;s<zb;s++)r=r-e(r)/t(r);return r}function au(e,t){return e*Math.sqrt(1-t*t)}const Wb=["duration","bounce"],Hb=["stiffness","damping","mass"];function ef(e,t){return t.some(n=>e[n]!==void 0)}function Kb(e){let t={velocity:me.velocity,stiffness:me.stiffness,damping:me.damping,mass:me.mass,isResolvedFromDuration:!1,...e};if(!ef(e,Hb)&&ef(e,Wb))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*an(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:me.mass,stiffness:s,damping:i}}else{const n=Ub(e);t={...t,...n,mass:me.mass},t.isResolvedFromDuration=!0}return t}function u0(e=me.visualDuration,t=me.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],l={done:!1,value:i},{stiffness:c,damping:u,mass:d,duration:f,velocity:m,isResolvedFromDuration:x}=Kb({...n,velocity:-en(n.velocity||0)}),k=m||0,v=u/(2*Math.sqrt(c*d)),C=a-i,h=en(Math.sqrt(c/d)),p=Math.abs(C)<5;r||(r=p?me.restSpeed.granular:me.restSpeed.default),s||(s=p?me.restDelta.granular:me.restDelta.default);let y;if(v<1){const S=au(h,v);y=b=>{const T=Math.exp(-v*h*b);return a-T*((k+v*h*C)/S*Math.sin(S*b)+C*Math.cos(S*b))}}else if(v===1)y=S=>a-Math.exp(-h*S)*(C+(k+h*C)*S);else{const S=h*Math.sqrt(v*v-1);y=b=>{const T=Math.exp(-v*h*b),A=Math.min(S*b,300);return a-T*((k+v*h*C)*Math.sinh(A)+S*C*Math.cosh(A))/S}}const j={calculatedDuration:x&&f||null,next:S=>{const b=y(S);if(x)l.done=S>=f;else{let T=0;v<1&&(T=S===0?Zt(k):c0(y,S,b));const A=Math.abs(T)<=r,N=Math.abs(a-b)<=s;l.done=A&&N}return l.value=l.done?a:b,l},toString:()=>{const S=Math.min(Pv(j),Zc),b=Ev(T=>j.next(S*T).value,S,30);return S+"ms "+b}};return j}function tf({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:a,min:l,max:c,restDelta:u=.5,restSpeed:d}){const f=e[0],m={done:!1,value:f},x=A=>l!==void 0&&A<l||c!==void 0&&A>c,k=A=>l===void 0?c:c===void 0||Math.abs(l-A)<Math.abs(c-A)?l:c;let v=n*t;const C=f+v,h=a===void 0?C:a(C);h!==C&&(v=h-f);const p=A=>-v*Math.exp(-A/r),y=A=>h+p(A),j=A=>{const N=p(A),P=y(A);m.done=Math.abs(N)<=u,m.value=m.done?h:P};let S,b;const T=A=>{x(m.value)&&(S=A,b=u0({keyframes:[m.value,k(m.value)],velocity:c0(y,A,m.value),damping:s,stiffness:i,restDelta:u,restSpeed:d}))};return T(0),{calculatedDuration:null,next:A=>{let N=!1;return!b&&S===void 0&&(N=!0,j(A),T(A)),S!==void 0&&A>=S?b.next(A-S):(!N&&j(A),m)}}}const Gb=Di(.42,0,1,1),Yb=Di(0,0,.58,1),d0=Di(.42,0,.58,1),Qb=e=>Array.isArray(e)&&typeof e[0]!="number",Jb={linear:lt,easeIn:Gb,easeInOut:d0,easeOut:Yb,circIn:Hd,circInOut:Hv,circOut:Wv,backIn:Wd,backInOut:zv,backOut:Uv,anticipate:$v},nf=e=>{if(Vd(e)){lv(e.length===4);const[t,n,r,s]=e;return Di(t,n,r,s)}else if(typeof e=="string")return Jb[e];return e};function Xb(e,t,n){const r=[],s=n||l0,i=e.length-1;for(let a=0;a<i;a++){let l=s(e[a],e[a+1]);if(t){const c=Array.isArray(t)?t[a]||lt:t;l=Oi(c,l)}r.push(l)}return r}function h0(e,t,{clamp:n=!0,ease:r,mixer:s}={}){const i=e.length;if(lv(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const a=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=Xb(t,r,s),c=l.length,u=d=>{if(a&&d<e[0])return t[0];let f=0;if(c>1)for(;f<e.length-2&&!(d<e[f+1]);f++);const m=cs(e[f],e[f+1],d);return l[f](m)};return n?d=>u(an(e[0],e[i-1],d)):u}function qb(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const s=cs(0,t,r);e.push(de(n,1,s))}}function Zb(e){const t=[0];return qb(t,e.length-1),t}function eC(e,t){return e.map(n=>n*t)}function tC(e,t){return e.map(()=>t||d0).splice(0,e.length-1)}function pa({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const s=Qb(r)?r.map(nf):nf(r),i={done:!1,value:t[0]},a=eC(n&&n.length===t.length?n:Zb(t),e),l=h0(a,t,{ease:Array.isArray(s)?s:tC(t,s)});return{calculatedDuration:e,next:c=>(i.value=l(c),i.done=c>=e,i)}}const nC=e=>{const t=({timestamp:n})=>e(n);return{start:()=>ie.update(t,!0),stop:()=>on(t),now:()=>Ne.isProcessing?Ne.timestamp:Kt.now()}},rC={decay:tf,inertia:tf,tween:pa,keyframes:pa,spring:u0},sC=e=>e/100;class Ka extends o0{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:c}=this.options;c&&c()};const{name:n,motionValue:r,element:s,keyframes:i}=this.options,a=(s==null?void 0:s.KeyframeResolver)||Qd,l=(c,u)=>this.onKeyframesResolved(c,u);this.resolver=new a(i,l,n,r,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:n="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:a=0}=this.options,l=Fd(n)?n:rC[n]||pa;let c,u;l!==pa&&typeof t[0]!="number"&&(c=Oi(sC,l0(t[0],t[1])),t=[0,100]);const d=l({...this.options,keyframes:t});i==="mirror"&&(u=l({...this.options,keyframes:[...t].reverse(),velocity:-a})),d.calculatedDuration===null&&(d.calculatedDuration=Pv(d));const{calculatedDuration:f}=d,m=f+s,x=m*(r+1)-s;return{generator:d,mirroredGenerator:u,mapPercentToKeyframes:c,calculatedDuration:f,resolvedDuration:m,totalDuration:x}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,n=!1){const{resolved:r}=this;if(!r){const{keyframes:A}=this.options;return{done:!0,value:A[A.length-1]}}const{finalKeyframe:s,generator:i,mirroredGenerator:a,mapPercentToKeyframes:l,keyframes:c,calculatedDuration:u,totalDuration:d,resolvedDuration:f}=r;if(this.startTime===null)return i.next(0);const{delay:m,repeat:x,repeatType:k,repeatDelay:v,onUpdate:C}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-d/this.speed,this.startTime)),n?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const h=this.currentTime-m*(this.speed>=0?1:-1),p=this.speed>=0?h<0:h>d;this.currentTime=Math.max(h,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let y=this.currentTime,j=i;if(x){const A=Math.min(this.currentTime,d)/f;let N=Math.floor(A),P=A%1;!P&&A>=1&&(P=1),P===1&&N--,N=Math.min(N,x+1),!!(N%2)&&(k==="reverse"?(P=1-P,v&&(P-=v/f)):k==="mirror"&&(j=a)),y=an(0,1,P)*f}const S=p?{done:!1,value:c[0]}:j.next(y);l&&(S.value=l(S.value));let{done:b}=S;!p&&u!==null&&(b=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const T=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&b);return T&&s!==void 0&&(S.value=Ha(c,this.options,s)),C&&C(S.value),T&&this.finish(),S}get duration(){const{resolved:t}=this;return t?en(t.calculatedDuration):0}get time(){return en(this.currentTime)}set time(t){t=Zt(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=en(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=nC,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=t(i=>this.tick(i))),n&&n();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}function iC(e){return new Ka(e)}const oC=new Set(["opacity","clipPath","filter","transform"]);function aC(e,t,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:a="loop",ease:l="easeInOut",times:c}={}){const u={[t]:n};c&&(u.offset=c);const d=_v(l,s);return Array.isArray(d)&&(u.easing=d),e.animate(u,{delay:r,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:a==="reverse"?"alternate":"normal"})}const lC=kd(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),fa=10,cC=2e4;function uC(e){return Fd(e.type)||e.type==="spring"||!Tv(e.ease)}function dC(e,t){const n=new Ka({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:e[0]};const s=[];let i=0;for(;!r.done&&i<cC;)r=n.sample(i),s.push(r.value),i+=fa;return{times:void 0,keyframes:s,duration:i-fa,ease:"linear"}}const p0={anticipate:$v,backInOut:zv,circInOut:Hv};function hC(e){return e in p0}class rf extends o0{constructor(t){super(t);const{name:n,motionValue:r,element:s,keyframes:i}=this.options;this.resolver=new i0(i,(a,l)=>this.onKeyframesResolved(a,l),n,r,s),this.resolver.scheduleResolve()}initPlayback(t,n){let{duration:r=300,times:s,ease:i,type:a,motionValue:l,name:c,startTime:u}=this.options;if(!l.owner||!l.owner.current)return!1;if(typeof i=="string"&&da()&&hC(i)&&(i=p0[i]),uC(this.options)){const{onComplete:f,onUpdate:m,motionValue:x,element:k,...v}=this.options,C=dC(t,v);t=C.keyframes,t.length===1&&(t[1]=t[0]),r=C.duration,s=C.times,i=C.ease,a="keyframes"}const d=aC(l.owner.current,c,t,{...this.options,duration:r,times:s,ease:i});return d.startTime=u??this.calcStartTime(),this.pendingTimeline?(Up(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:f}=this.options;l.set(Ha(t,this.options,n)),f&&f(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:r,times:s,type:a,ease:i,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:n}=t;return en(n)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:n}=t;return en(n.currentTime||0)}set time(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Zt(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:n}=t;return n.playbackRate}set speed(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:n}=t;return n.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:n}=t;return n.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:n}=this;if(!n)return lt;const{animation:r}=n;Up(r,t)}return lt}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:n,keyframes:r,duration:s,type:i,ease:a,times:l}=t;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:d,onComplete:f,element:m,...x}=this.options,k=new Ka({...x,keyframes:r,duration:s,type:i,ease:a,times:l,isGenerator:!0}),v=Zt(this.time);u.setWithVelocity(k.sample(v-fa).value,k.sample(v).value,fa)}const{onStop:c}=this.options;c&&c(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:n,name:r,repeatDelay:s,repeatType:i,damping:a,type:l}=t;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=n.owner.getProps();return lC()&&r&&oC.has(r)&&!c&&!u&&!s&&i!=="mirror"&&a!==0&&l!=="inertia"}}const pC={type:"spring",stiffness:500,damping:25,restSpeed:10},fC=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),mC={type:"keyframes",duration:.8},yC={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},gC=(e,{keyframes:t})=>t.length>2?mC:gr.has(e)?e.startsWith("scale")?fC(t[1]):pC:yC;function vC({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:a,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const Xd=(e,t,n,r={},s,i)=>a=>{const l=Od(r,e)||{},c=l.delay||r.delay||0;let{elapsed:u=0}=r;u=u-Zt(c);let d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-u,onUpdate:m=>{t.set(m),l.onUpdate&&l.onUpdate(m)},onComplete:()=>{a(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:i?void 0:s};vC(l)||(d={...d,...gC(e,d)}),d.duration&&(d.duration=Zt(d.duration)),d.repeatDelay&&(d.repeatDelay=Zt(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let f=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(f=!0)),f&&!i&&t.get()!==void 0){const m=Ha(d.keyframes,l);if(m!==void 0)return ie.update(()=>{d.onUpdate(m),d.onComplete()}),new Ok([])}return!i&&rf.supports(d)?new rf(d):new Ka(d)};function xC({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function f0(e,t,{delay:n=0,transitionOverride:r,type:s}={}){var i;let{transition:a=e.getDefaultTransition(),transitionEnd:l,...c}=t;r&&(a=r);const u=[],d=s&&e.animationState&&e.animationState.getState()[s];for(const f in c){const m=e.getValue(f,(i=e.latestValues[f])!==null&&i!==void 0?i:null),x=c[f];if(x===void 0||d&&xC(d,f))continue;const k={delay:n,...Od(a||{},f)};let v=!1;if(window.MotionHandoffAnimation){const h=Ov(e);if(h){const p=window.MotionHandoffAnimation(h,f,ie);p!==null&&(k.startTime=p,v=!0)}}tu(e,f),m.start(Xd(f,m,x,e.shouldReduceMotion&&Lv.has(f)?{type:!1}:k,e,v));const C=m.animation;C&&u.push(C)}return l&&Promise.all(u).then(()=>{ie.update(()=>{l&&Xk(e,l)})}),u}function lu(e,t,n={}){var r;const s=Wa(e,t,n.type==="exit"?(r=e.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(i=n.transitionOverride);const a=s?()=>Promise.all(f0(e,s,n)):()=>Promise.resolve(),l=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:f,staggerDirection:m}=i;return wC(e,t,d+u,f,m,n)}:()=>Promise.resolve(),{when:c}=i;if(c){const[u,d]=c==="beforeChildren"?[a,l]:[l,a];return u().then(()=>d())}else return Promise.all([a(),l(n.delay)])}function wC(e,t,n=0,r=0,s=1,i){const a=[],l=(e.variantChildren.size-1)*r,c=s===1?(u=0)=>u*r:(u=0)=>l-u*r;return Array.from(e.variantChildren).sort(jC).forEach((u,d)=>{u.notify("AnimationStart",t),a.push(lu(u,t,{...i,delay:n+c(d)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(a)}function jC(e,t){return e.sortNodePosition(t)}function SC(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const s=t.map(i=>lu(e,i,n));r=Promise.all(s)}else if(typeof t=="string")r=lu(e,t,n);else{const s=typeof t=="function"?Wa(e,t,n.custom):t;r=Promise.all(f0(e,s,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}const kC=Cd.length;function m0(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?m0(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<kC;n++){const r=Cd[n],s=e.props[r];(bi(s)||s===!1)&&(t[r]=s)}return t}const bC=[...bd].reverse(),CC=bd.length;function NC(e){return t=>Promise.all(t.map(({animation:n,options:r})=>SC(e,n,r)))}function AC(e){let t=NC(e),n=sf(),r=!0;const s=c=>(u,d)=>{var f;const m=Wa(e,d,c==="exit"?(f=e.presenceContext)===null||f===void 0?void 0:f.custom:void 0);if(m){const{transition:x,transitionEnd:k,...v}=m;u={...u,...v,...k}}return u};function i(c){t=c(e)}function a(c){const{props:u}=e,d=m0(e.parent)||{},f=[],m=new Set;let x={},k=1/0;for(let C=0;C<CC;C++){const h=bC[C],p=n[h],y=u[h]!==void 0?u[h]:d[h],j=bi(y),S=h===c?p.isActive:null;S===!1&&(k=C);let b=y===d[h]&&y!==u[h]&&j;if(b&&r&&e.manuallyAnimateOnMount&&(b=!1),p.protectedKeys={...x},!p.isActive&&S===null||!y&&!p.prevProp||za(y)||typeof y=="boolean")continue;const T=PC(p.prevProp,y);let A=T||h===c&&p.isActive&&!b&&j||C>k&&j,N=!1;const P=Array.isArray(y)?y:[y];let E=P.reduce(s(h),{});S===!1&&(E={});const{prevResolvedValues:R={}}=p,L={...R,...E},z=q=>{A=!0,m.has(q)&&(N=!0,m.delete(q)),p.needsAnimating[q]=!0;const O=e.getValue(q);O&&(O.liveStyle=!1)};for(const q in L){const O=E[q],$=R[q];if(x.hasOwnProperty(q))continue;let W=!1;qc(O)&&qc($)?W=!Av(O,$):W=O!==$,W?O!=null?z(q):m.add(q):O!==void 0&&m.has(q)?z(q):p.protectedKeys[q]=!0}p.prevProp=y,p.prevResolvedValues=E,p.isActive&&(x={...x,...E}),r&&e.blockInitialAnimation&&(A=!1),A&&(!(b&&T)||N)&&f.push(...P.map(q=>({animation:q,options:{type:h}})))}if(m.size){const C={};m.forEach(h=>{const p=e.getBaseTarget(h),y=e.getValue(h);y&&(y.liveStyle=!0),C[h]=p??null}),f.push({animation:C})}let v=!!f.length;return r&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(v=!1),r=!1,v?t(f):Promise.resolve()}function l(c,u){var d;if(n[c].isActive===u)return Promise.resolve();(d=e.variantChildren)===null||d===void 0||d.forEach(m=>{var x;return(x=m.animationState)===null||x===void 0?void 0:x.setActive(c,u)}),n[c].isActive=u;const f=a(c);for(const m in n)n[m].protectedKeys={};return f}return{animateChanges:a,setActive:l,setAnimateFunction:i,getState:()=>n,reset:()=>{n=sf(),r=!0}}}function PC(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Av(t,e):!1}function Qn(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function sf(){return{animate:Qn(!0),whileInView:Qn(),whileHover:Qn(),whileTap:Qn(),whileDrag:Qn(),whileFocus:Qn(),exit:Qn()}}class Wn{constructor(t){this.isMounted=!1,this.node=t}update(){}}class EC extends Wn{constructor(t){super(t),t.animationState||(t.animationState=AC(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();za(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let TC=0;class _C extends Wn{constructor(){super(...arguments),this.id=TC++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const s=this.node.animationState.setActive("exit",!t);n&&!t&&s.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const RC={animation:{Feature:EC},exit:{Feature:_C}};function Ai(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function Fi(e){return{point:{x:e.pageX,y:e.pageY}}}const MC=e=>t=>Bd(t)&&e(t,Fi(t));function ni(e,t,n,r){return Ai(e,t,MC(n),r)}const of=(e,t)=>Math.abs(e-t);function IC(e,t){const n=of(e.x,t.x),r=of(e.y,t.y);return Math.sqrt(n**2+r**2)}class y0{constructor(t,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=Bl(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,x=IC(f.offset,{x:0,y:0})>=3;if(!m&&!x)return;const{point:k}=f,{timestamp:v}=Ne;this.history.push({...k,timestamp:v});const{onStart:C,onMove:h}=this.handlers;m||(C&&C(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),h&&h(this.lastMoveEvent,f)},this.handlePointerMove=(f,m)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=Vl(m,this.transformPagePoint),ie.update(this.updatePoint,!0)},this.handlePointerUp=(f,m)=>{this.end();const{onEnd:x,onSessionEnd:k,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const C=Bl(f.type==="pointercancel"?this.lastMoveEventInfo:Vl(m,this.transformPagePoint),this.history);this.startEvent&&x&&x(f,C),k&&k(f,C)},!Bd(t))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const a=Fi(t),l=Vl(a,this.transformPagePoint),{point:c}=l,{timestamp:u}=Ne;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=n;d&&d(t,Bl(l,this.history)),this.removeListeners=Oi(ni(this.contextWindow,"pointermove",this.handlePointerMove),ni(this.contextWindow,"pointerup",this.handlePointerUp),ni(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),on(this.updatePoint)}}function Vl(e,t){return t?{point:t(e.point)}:e}function af(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Bl({point:e},t){return{point:e,delta:af(e,g0(t)),offset:af(e,LC(t)),velocity:DC(t,.1)}}function LC(e){return e[0]}function g0(e){return e[e.length-1]}function DC(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const s=g0(e);for(;n>=0&&(r=e[n],!(s.timestamp-r.timestamp>Zt(t)));)n--;if(!r)return{x:0,y:0};const i=en(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const a={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}const v0=1e-4,OC=1-v0,FC=1+v0,x0=.01,VC=0-x0,BC=0+x0;function ut(e){return e.max-e.min}function UC(e,t,n){return Math.abs(e-t)<=n}function lf(e,t,n,r=.5){e.origin=r,e.originPoint=de(t.min,t.max,e.origin),e.scale=ut(n)/ut(t),e.translate=de(n.min,n.max,e.origin)-e.originPoint,(e.scale>=OC&&e.scale<=FC||isNaN(e.scale))&&(e.scale=1),(e.translate>=VC&&e.translate<=BC||isNaN(e.translate))&&(e.translate=0)}function ri(e,t,n,r){lf(e.x,t.x,n.x,r?r.originX:void 0),lf(e.y,t.y,n.y,r?r.originY:void 0)}function cf(e,t,n){e.min=n.min+t.min,e.max=e.min+ut(t)}function zC(e,t,n){cf(e.x,t.x,n.x),cf(e.y,t.y,n.y)}function uf(e,t,n){e.min=t.min-n.min,e.max=e.min+ut(t)}function si(e,t,n){uf(e.x,t.x,n.x),uf(e.y,t.y,n.y)}function $C(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?de(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?de(n,e,r.max):Math.min(e,n)),e}function df(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function WC(e,{top:t,left:n,bottom:r,right:s}){return{x:df(e.x,n,s),y:df(e.y,t,r)}}function hf(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function HC(e,t){return{x:hf(e.x,t.x),y:hf(e.y,t.y)}}function KC(e,t){let n=.5;const r=ut(e),s=ut(t);return s>r?n=cs(t.min,t.max-r,e.min):r>s&&(n=cs(e.min,e.max-s,t.min)),an(0,1,n)}function GC(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const cu=.35;function YC(e=cu){return e===!1?e=0:e===!0&&(e=cu),{x:pf(e,"left","right"),y:pf(e,"top","bottom")}}function pf(e,t,n){return{min:ff(e,t),max:ff(e,n)}}function ff(e,t){return typeof e=="number"?e:e[t]||0}const mf=()=>({translate:0,scale:1,origin:0,originPoint:0}),Wr=()=>({x:mf(),y:mf()}),yf=()=>({min:0,max:0}),ve=()=>({x:yf(),y:yf()});function vt(e){return[e("x"),e("y")]}function w0({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function QC({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function JC(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Ul(e){return e===void 0||e===1}function uu({scale:e,scaleX:t,scaleY:n}){return!Ul(e)||!Ul(t)||!Ul(n)}function er(e){return uu(e)||j0(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function j0(e){return gf(e.x)||gf(e.y)}function gf(e){return e&&e!=="0%"}function ma(e,t,n){const r=e-n,s=t*r;return n+s}function vf(e,t,n,r,s){return s!==void 0&&(e=ma(e,s,r)),ma(e,n,r)+t}function du(e,t=0,n=1,r,s){e.min=vf(e.min,t,n,r,s),e.max=vf(e.max,t,n,r,s)}function S0(e,{x:t,y:n}){du(e.x,t.translate,t.scale,t.originPoint),du(e.y,n.translate,n.scale,n.originPoint)}const xf=.999999999999,wf=1.0000000000001;function XC(e,t,n,r=!1){const s=n.length;if(!s)return;t.x=t.y=1;let i,a;for(let l=0;l<s;l++){i=n[l],a=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Kr(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),a&&(t.x*=a.x.scale,t.y*=a.y.scale,S0(e,a)),r&&er(i.latestValues)&&Kr(e,i.latestValues))}t.x<wf&&t.x>xf&&(t.x=1),t.y<wf&&t.y>xf&&(t.y=1)}function Hr(e,t){e.min=e.min+t,e.max=e.max+t}function jf(e,t,n,r,s=.5){const i=de(e.min,e.max,s);du(e,t,n,i,r)}function Kr(e,t){jf(e.x,t.x,t.scaleX,t.scale,t.originX),jf(e.y,t.y,t.scaleY,t.scale,t.originY)}function k0(e,t){return w0(JC(e.getBoundingClientRect(),t))}function qC(e,t,n){const r=k0(e,n),{scroll:s}=t;return s&&(Hr(r.x,s.offset.x),Hr(r.y,s.offset.y)),r}const b0=({current:e})=>e?e.ownerDocument.defaultView:null,ZC=new WeakMap;class e2{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ve(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Fi(d).point)},i=(d,f)=>{const{drag:m,dragPropagation:x,onDragStart:k}=this.getProps();if(m&&!x&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Kk(m),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),vt(C=>{let h=this.getAxisMotionValue(C).get()||0;if(Ht.test(h)){const{projection:p}=this.visualElement;if(p&&p.layout){const y=p.layout.layoutBox[C];y&&(h=ut(y)*(parseFloat(h)/100))}}this.originPoint[C]=h}),k&&ie.postRender(()=>k(d,f)),tu(this.visualElement,"transform");const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},a=(d,f)=>{const{dragPropagation:m,dragDirectionLock:x,onDirectionLock:k,onDrag:v}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:C}=f;if(x&&this.currentDirection===null){this.currentDirection=t2(C),this.currentDirection!==null&&k&&k(this.currentDirection);return}this.updateAxis("x",f.point,C),this.updateAxis("y",f.point,C),this.visualElement.render(),v&&v(d,f)},l=(d,f)=>this.stop(d,f),c=()=>vt(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new y0(t,{onSessionStart:s,onStart:i,onMove:a,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:b0(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&ie.postRender(()=>i(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:s}=this.getProps();if(!r||!fo(t,s,this.currentDirection))return;const i=this.getAxisMotionValue(t);let a=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(a=$C(a,this.constraints[t],this.elastic[t])),i.set(a)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,i=this.constraints;n&&zr(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=WC(s.layoutBox,n):this.constraints=!1,this.elastic=YC(r),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&vt(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=GC(s.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!zr(t))return!1;const r=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=qC(r,s.root,this.visualElement.getTransformPagePoint());let a=HC(s.layout.layoutBox,i);if(n){const l=n(QC(a));this.hasMutatedConstraints=!!l,l&&(a=w0(l))}return a}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:a,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=vt(d=>{if(!fo(d,n,this.currentDirection))return;let f=c&&c[d]||{};a&&(f={min:0,max:0});const m=s?200:1e6,x=s?40:1e7,k={type:"inertia",velocity:r?t[d]:0,bounceStiffness:m,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(d,k)});return Promise.all(u).then(l)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return tu(this.visualElement,t),r.start(Xd(t,r,0,n,this.visualElement,!1))}stopAnimation(){vt(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){vt(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){vt(n=>{const{drag:r}=this.getProps();if(!fo(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:a,max:l}=s.layout.layoutBox[n];i.set(t[n]-de(a,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!zr(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};vt(a=>{const l=this.getAxisMotionValue(a);if(l&&this.constraints!==!1){const c=l.get();s[a]=KC({min:c,max:c},this.constraints[a])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),vt(a=>{if(!fo(a,t,null))return;const l=this.getAxisMotionValue(a),{min:c,max:u}=this.constraints[a];l.set(de(c,u,s[a]))})}addListeners(){if(!this.visualElement.current)return;ZC.set(this.visualElement,this);const t=this.visualElement.current,n=ni(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();zr(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),ie.read(r);const a=Ai(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(vt(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=c[d].translate,f.set(f.get()+c[d].translate))}),this.visualElement.render())});return()=>{a(),n(),i(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:a=cu,dragMomentum:l=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:a,dragMomentum:l}}}function fo(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function t2(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class n2 extends Wn{constructor(t){super(t),this.removeGroupControls=lt,this.removeListeners=lt,this.controls=new e2(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||lt}unmount(){this.removeGroupControls(),this.removeListeners()}}const Sf=e=>(t,n)=>{e&&ie.postRender(()=>e(t,n))};class r2 extends Wn{constructor(){super(...arguments),this.removePointerDownListener=lt}onPointerDown(t){this.session=new y0(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:b0(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:Sf(t),onStart:Sf(n),onMove:r,onEnd:(i,a)=>{delete this.session,s&&ie.postRender(()=>s(i,a))}}}mount(){this.removePointerDownListener=ni(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Lo={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function kf(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Rs={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(G.test(e))e=parseFloat(e);else return e;const n=kf(e,t.target.x),r=kf(e,t.target.y);return`${n}% ${r}%`}},s2={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,s=Vn.parse(e);if(s.length>5)return r;const i=Vn.createTransformer(e),a=typeof s[0]!="number"?1:0,l=n.x.scale*t.x,c=n.y.scale*t.y;s[0+a]/=l,s[1+a]/=c;const u=de(l,c,.5);return typeof s[2+a]=="number"&&(s[2+a]/=u),typeof s[3+a]=="number"&&(s[3+a]/=u),i(s)}};class i2 extends g.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=t;Ck(o2),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Lo.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,a=r.projection;return a&&(a.isPresent=i,s||t.layoutDependency!==n||n===void 0?a.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?a.promote():a.relegate()||ie.postRender(()=>{const l=a.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Ad.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function C0(e){const[t,n]=av(),r=g.useContext(wd);return o.jsx(i2,{...e,layoutGroup:r,switchLayoutGroup:g.useContext(fv),isPresent:t,safeToRemove:n})}const o2={borderRadius:{...Rs,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Rs,borderTopRightRadius:Rs,borderBottomLeftRadius:Rs,borderBottomRightRadius:Rs,boxShadow:s2};function a2(e,t,n){const r=Pe(e)?e:ds(e);return r.start(Xd("",r,t,n)),r.animation}function l2(e){return e instanceof SVGElement&&e.tagName!=="svg"}const c2=(e,t)=>e.depth-t.depth;class u2{constructor(){this.children=[],this.isDirty=!1}add(t){Ud(this.children,t),this.isDirty=!0}remove(t){zd(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(c2),this.isDirty=!1,this.children.forEach(t)}}function d2(e,t){const n=Kt.now(),r=({timestamp:s})=>{const i=s-n;i>=t&&(on(r),e(i-t))};return ie.read(r,!0),()=>on(r)}const N0=["TopLeft","TopRight","BottomLeft","BottomRight"],h2=N0.length,bf=e=>typeof e=="string"?parseFloat(e):e,Cf=e=>typeof e=="number"||G.test(e);function p2(e,t,n,r,s,i){s?(e.opacity=de(0,n.opacity!==void 0?n.opacity:1,f2(r)),e.opacityExit=de(t.opacity!==void 0?t.opacity:1,0,m2(r))):i&&(e.opacity=de(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let a=0;a<h2;a++){const l=`border${N0[a]}Radius`;let c=Nf(t,l),u=Nf(n,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||Cf(c)===Cf(u)?(e[l]=Math.max(de(bf(c),bf(u),r),0),(Ht.test(u)||Ht.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||n.rotate)&&(e.rotate=de(t.rotate||0,n.rotate||0,r))}function Nf(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const f2=A0(0,.5,Wv),m2=A0(.5,.95,lt);function A0(e,t,n){return r=>r<e?0:r>t?1:n(cs(e,t,r))}function Af(e,t){e.min=t.min,e.max=t.max}function yt(e,t){Af(e.x,t.x),Af(e.y,t.y)}function Pf(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Ef(e,t,n,r,s){return e-=t,e=ma(e,1/n,r),s!==void 0&&(e=ma(e,1/s,r)),e}function y2(e,t=0,n=1,r=.5,s,i=e,a=e){if(Ht.test(t)&&(t=parseFloat(t),t=de(a.min,a.max,t/100)-a.min),typeof t!="number")return;let l=de(i.min,i.max,r);e===i&&(l-=t),e.min=Ef(e.min,t,n,l,s),e.max=Ef(e.max,t,n,l,s)}function Tf(e,t,[n,r,s],i,a){y2(e,t[n],t[r],t[s],t.scale,i,a)}const g2=["x","scaleX","originX"],v2=["y","scaleY","originY"];function _f(e,t,n,r){Tf(e.x,t,g2,n?n.x:void 0,r?r.x:void 0),Tf(e.y,t,v2,n?n.y:void 0,r?r.y:void 0)}function Rf(e){return e.translate===0&&e.scale===1}function P0(e){return Rf(e.x)&&Rf(e.y)}function Mf(e,t){return e.min===t.min&&e.max===t.max}function x2(e,t){return Mf(e.x,t.x)&&Mf(e.y,t.y)}function If(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function E0(e,t){return If(e.x,t.x)&&If(e.y,t.y)}function Lf(e){return ut(e.x)/ut(e.y)}function Df(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class w2{constructor(){this.members=[]}add(t){Ud(this.members,t),t.scheduleRender()}remove(t){if(zd(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function j2(e,t,n){let r="";const s=e.x.translate/t.x,i=e.y.translate/t.y,a=(n==null?void 0:n.z)||0;if((s||i||a)&&(r=`translate3d(${s}px, ${i}px, ${a}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:u,rotate:d,rotateX:f,rotateY:m,skewX:x,skewY:k}=n;u&&(r=`perspective(${u}px) ${r}`),d&&(r+=`rotate(${d}deg) `),f&&(r+=`rotateX(${f}deg) `),m&&(r+=`rotateY(${m}deg) `),x&&(r+=`skewX(${x}deg) `),k&&(r+=`skewY(${k}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(r+=`scale(${l}, ${c})`),r||"none"}const tr={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},zs=typeof window<"u"&&window.MotionDebug!==void 0,zl=["","X","Y","Z"],S2={visibility:"hidden"},Of=1e3;let k2=0;function $l(e,t,n,r){const{latestValues:s}=t;s[e]&&(n[e]=s[e],t.setStaticValue(e,0),r&&(r[e]=0))}function T0(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=Ov(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",ie,!(s||i))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&T0(r)}function _0({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(a={},l=t==null?void 0:t()){this.id=k2++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,zs&&(tr.totalNodes=tr.resolvedTargetDeltas=tr.recalculatedProjection=0),this.nodes.forEach(N2),this.nodes.forEach(_2),this.nodes.forEach(R2),this.nodes.forEach(A2),zs&&window.MotionDebug.record(tr)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new u2)}addEventListener(a,l){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new $d),this.eventHandlers.get(a).add(l)}notifyListeners(a,...l){const c=this.eventHandlers.get(a);c&&c.notify(...l)}hasListeners(a){return this.eventHandlers.has(a)}mount(a,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=l2(a),this.instance=a;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(u||c)&&(this.isLayoutDirty=!0),e){let f;const m=()=>this.root.updateBlockedByResize=!1;e(a,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=d2(m,250),Lo.hasAnimatedSinceResize&&(Lo.hasAnimatedSinceResize=!1,this.nodes.forEach(Vf))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:m,hasRelativeTargetChanged:x,layout:k})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||d.getDefaultTransition()||O2,{onLayoutAnimationStart:C,onLayoutAnimationComplete:h}=d.getProps(),p=!this.targetLayout||!E0(this.targetLayout,k)||x,y=!m&&x;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||y||m&&(p||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,y);const j={...Od(v,"layout"),onPlay:C,onComplete:h};(d.shouldReduceMotion||this.options.layoutRoot)&&(j.delay=0,j.type=!1),this.startAnimation(j)}else m||Vf(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=k})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,on(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(M2),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&T0(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Ff);return}this.isUpdating||this.nodes.forEach(E2),this.isUpdating=!1,this.nodes.forEach(T2),this.nodes.forEach(b2),this.nodes.forEach(C2),this.clearAllSnapshots();const l=Kt.now();Ne.delta=an(0,1e3/60,l-Ne.timestamp),Ne.timestamp=l,Ne.isProcessing=!0,Ml.update.process(Ne),Ml.preRender.process(Ne),Ml.render.process(Ne),Ne.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Ad.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(P2),this.sharedNodes.forEach(I2)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ie.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ie.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ve(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(l=!1),l){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!s)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!P0(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;a&&(l||er(this.latestValues)||d)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return a&&(c=this.removeTransform(c)),F2(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var a;const{visualElement:l}=this.options;if(!l)return ve();const c=l.measureViewportBox();if(!(((a=this.scroll)===null||a===void 0?void 0:a.wasRoot)||this.path.some(V2))){const{scroll:d}=this.root;d&&(Hr(c.x,d.offset.x),Hr(c.y,d.offset.y))}return c}removeElementScroll(a){var l;const c=ve();if(yt(c,a),!((l=this.scroll)===null||l===void 0)&&l.wasRoot)return c;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:f,options:m}=d;d!==this.root&&f&&m.layoutScroll&&(f.wasRoot&&yt(c,a),Hr(c.x,f.offset.x),Hr(c.y,f.offset.y))}return c}applyTransform(a,l=!1){const c=ve();yt(c,a);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Kr(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),er(d.latestValues)&&Kr(c,d.latestValues)}return er(this.latestValues)&&Kr(c,this.latestValues),c}removeTransform(a){const l=ve();yt(l,a);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!er(u.latestValues))continue;uu(u.latestValues)&&u.updateSnapshot();const d=ve(),f=u.measurePageBox();yt(d,f),_f(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return er(this.latestValues)&&_f(l,this.latestValues),l}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ne.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(a||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:m}=this.options;if(!(!this.layout||!(f||m))){if(this.resolvedRelativeTargetAt=Ne.timestamp,!this.targetDelta&&!this.relativeTarget){const x=this.getClosestProjectingParent();x&&x.layout&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ve(),this.relativeTargetOrigin=ve(),si(this.relativeTargetOrigin,this.layout.layoutBox,x.layout.layoutBox),yt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=ve(),this.targetWithTransforms=ve()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),zC(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):yt(this.target,this.layout.layoutBox),S0(this.target,this.targetDelta)):yt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const x=this.getClosestProjectingParent();x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ve(),this.relativeTargetOrigin=ve(),si(this.relativeTargetOrigin,this.target,x.target),yt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}zs&&tr.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||uu(this.parent.latestValues)||j0(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var a;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let u=!0;if((this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Ne.timestamp&&(u=!1),u)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;yt(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,x=this.treeScale.y;XC(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=ve());const{target:k}=l;if(!k){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Pf(this.prevProjectionDelta.x,this.projectionDelta.x),Pf(this.prevProjectionDelta.y,this.projectionDelta.y)),ri(this.projectionDelta,this.layoutCorrected,k,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==x||!Df(this.projectionDelta.x,this.prevProjectionDelta.x)||!Df(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",k)),zs&&tr.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var l;if((l=this.options.visualElement)===null||l===void 0||l.scheduleRender(),a){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Wr(),this.projectionDelta=Wr(),this.projectionDeltaWithTransform=Wr()}setAnimationOrigin(a,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},f=Wr();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const m=ve(),x=c?c.source:void 0,k=this.layout?this.layout.source:void 0,v=x!==k,C=this.getStack(),h=!C||C.members.length<=1,p=!!(v&&!h&&this.options.crossfade===!0&&!this.path.some(D2));this.animationProgress=0;let y;this.mixTargetDelta=j=>{const S=j/1e3;Bf(f.x,a.x,S),Bf(f.y,a.y,S),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(si(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),L2(this.relativeTarget,this.relativeTargetOrigin,m,S),y&&x2(this.relativeTarget,y)&&(this.isProjectionDirty=!1),y||(y=ve()),yt(y,this.relativeTarget)),v&&(this.animationValues=d,p2(d,u,this.latestValues,S,p,h)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(on(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ie.update(()=>{Lo.hasAnimatedSinceResize=!0,this.currentAnimation=a2(0,Of,{...a,onUpdate:l=>{this.mixTargetDelta(l),a.onUpdate&&a.onUpdate(l)},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Of),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=a;if(!(!l||!c||!u)){if(this!==a&&this.layout&&u&&R0(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||ve();const f=ut(this.layout.layoutBox.x);c.x.min=a.target.x.min,c.x.max=c.x.min+f;const m=ut(this.layout.layoutBox.y);c.y.min=a.target.y.min,c.y.max=c.y.min+m}yt(l,c),Kr(l,d),ri(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(a,l){this.sharedNodes.has(a)||this.sharedNodes.set(a,new w2),this.sharedNodes.get(a).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var a;const{layoutId:l}=this.options;return l?((a=this.getStack())===null||a===void 0?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:l}=this.options;return l?(a=this.getStack())===null||a===void 0?void 0:a.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),a&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let l=!1;const{latestValues:c}=a;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&$l("z",a,u,this.animationValues);for(let d=0;d<zl.length;d++)$l(`rotate${zl[d]}`,a,u,this.animationValues),$l(`skew${zl[d]}`,a,u,this.animationValues);a.render();for(const d in u)a.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);a.scheduleRender()}getProjectionStyles(a){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return S2;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Mo(a==null?void 0:a.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=Mo(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!er(this.latestValues)&&(v.transform=d?d({},""):"none",this.hasProjected=!1),v}const m=f.animationValues||f.latestValues;this.applyTransformsToTarget(),u.transform=j2(this.projectionDeltaWithTransform,this.treeScale,m),d&&(u.transform=d(m,u.transform));const{x,y:k}=this.projectionDelta;u.transformOrigin=`${x.origin*100}% ${k.origin*100}% 0`,f.animationValues?u.opacity=f===this?(c=(l=m.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:u.opacity=f===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const v in ua){if(m[v]===void 0)continue;const{correct:C,applyTo:h}=ua[v],p=u.transform==="none"?m[v]:C(m[v],f);if(h){const y=h.length;for(let j=0;j<y;j++)u[h[j]]=p}else u[v]=p}return this.options.layoutId&&(u.pointerEvents=f===this?Mo(a==null?void 0:a.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var l;return(l=a.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(Ff),this.root.sharedNodes.clear()}}}function b2(e){e.updateLayout()}function C2(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=e.layout,{animationType:i}=e.options,a=n.source!==e.layout.source;i==="size"?vt(f=>{const m=a?n.measuredBox[f]:n.layoutBox[f],x=ut(m);m.min=r[f].min,m.max=m.min+x}):R0(i,n.layoutBox,r)&&vt(f=>{const m=a?n.measuredBox[f]:n.layoutBox[f],x=ut(r[f]);m.max=m.min+x,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+x)});const l=Wr();ri(l,r,n.layoutBox);const c=Wr();a?ri(c,e.applyTransform(s,!0),n.measuredBox):ri(c,r,n.layoutBox);const u=!P0(l);let d=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:m,layout:x}=f;if(m&&x){const k=ve();si(k,n.layoutBox,m.layoutBox);const v=ve();si(v,r,x.layoutBox),E0(k,v)||(d=!0),f.options.layoutRoot&&(e.relativeTarget=v,e.relativeTargetOrigin=k,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function N2(e){zs&&tr.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function A2(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function P2(e){e.clearSnapshot()}function Ff(e){e.clearMeasurements()}function E2(e){e.isLayoutDirty=!1}function T2(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Vf(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function _2(e){e.resolveTargetDelta()}function R2(e){e.calcProjection()}function M2(e){e.resetSkewAndRotation()}function I2(e){e.removeLeadSnapshot()}function Bf(e,t,n){e.translate=de(t.translate,0,n),e.scale=de(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Uf(e,t,n,r){e.min=de(t.min,n.min,r),e.max=de(t.max,n.max,r)}function L2(e,t,n,r){Uf(e.x,t.x,n.x,r),Uf(e.y,t.y,n.y,r)}function D2(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const O2={duration:.45,ease:[.4,0,.1,1]},zf=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),$f=zf("applewebkit/")&&!zf("chrome/")?Math.round:lt;function Wf(e){e.min=$f(e.min),e.max=$f(e.max)}function F2(e){Wf(e.x),Wf(e.y)}function R0(e,t,n){return e==="position"||e==="preserve-aspect"&&!UC(Lf(t),Lf(n),.2)}function V2(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const B2=_0({attachResizeListener:(e,t)=>Ai(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Wl={current:void 0},M0=_0({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Wl.current){const e=new B2({});e.mount(window),e.setOptions({layoutScroll:!0}),Wl.current=e}return Wl.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),U2={pan:{Feature:r2},drag:{Feature:n2,ProjectionNode:M0,MeasureLayout:C0}};function Hf(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&ie.postRender(()=>i(t,Fi(t)))}class z2 extends Wn{mount(){const{current:t}=this.node;t&&(this.unmount=Uk(t,n=>(Hf(this.node,n,"Start"),r=>Hf(this.node,r,"End"))))}unmount(){}}class $2 extends Wn{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Oi(Ai(this.node.current,"focus",()=>this.onFocus()),Ai(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Kf(e,t,n){const{props:r}=e;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&ie.postRender(()=>i(t,Fi(t)))}class W2 extends Wn{mount(){const{current:t}=this.node;t&&(this.unmount=Hk(t,n=>(Kf(this.node,n,"Start"),(r,{success:s})=>Kf(this.node,r,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const hu=new WeakMap,Hl=new WeakMap,H2=e=>{const t=hu.get(e.target);t&&t(e)},K2=e=>{e.forEach(H2)};function G2({root:e,...t}){const n=e||document;Hl.has(n)||Hl.set(n,{});const r=Hl.get(n),s=JSON.stringify(t);return r[s]||(r[s]=new IntersectionObserver(K2,{root:e,...t})),r[s]}function Y2(e,t,n){const r=G2(t);return hu.set(e,n),r.observe(e),()=>{hu.delete(e),r.unobserve(e)}}const Q2={some:0,all:1};class J2 extends Wn{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=t,a={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:Q2[s]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),m=u?d:f;m&&m(c)};return Y2(this.node.current,a,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(X2(t,n))&&this.startObserver()}unmount(){}}function X2({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const q2={inView:{Feature:J2},tap:{Feature:W2},focus:{Feature:$2},hover:{Feature:z2}},Z2={layout:{ProjectionNode:M0,MeasureLayout:C0}},pu={current:null},I0={current:!1};function eN(){if(I0.current=!0,!!jd)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>pu.current=e.matches;e.addListener(t),t()}else pu.current=!1}const tN=[...s0,Ve,Vn],nN=e=>tN.find(r0(e)),Gf=new WeakMap;function rN(e,t,n){for(const r in t){const s=t[r],i=n[r];if(Pe(s))e.addValue(r,s);else if(Pe(i))e.addValue(r,ds(s,{owner:e}));else if(i!==s)if(e.hasValue(r)){const a=e.getValue(r);a.liveStyle===!0?a.jump(s):a.hasAnimated||a.set(s)}else{const a=e.getStaticValue(r);e.addValue(r,ds(a!==void 0?a:s,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const Yf=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class sN{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:a},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Qd,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const x=Kt.now();this.renderScheduledAt<x&&(this.renderScheduledAt=x,ie.render(this.render,!1,!0))};const{latestValues:c,renderState:u,onUpdate:d}=a;this.onUpdate=d,this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=u,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=l,this.blockInitialAnimation=!!i,this.isControllingVariants=$a(n),this.isVariantNode=hv(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:f,...m}=this.scrapeMotionValuesFromProps(n,{},this);for(const x in m){const k=m[x];c[x]!==void 0&&Pe(k)&&k.set(c[x],!1)}}mount(t){this.current=t,Gf.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),I0.current||eN(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:pu.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Gf.delete(this.current),this.projection&&this.projection.unmount(),on(this.notifyUpdate),on(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=gr.has(t),s=n.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&ie.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{s(),i(),a&&a(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in us){const n=us[t];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[t]&&s&&r(this.props)&&(this.features[t]=new s(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ve()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Yf.length;r++){const s=Yf[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,a=t[i];a&&(this.propEventSubscriptions[s]=this.on(s,a))}this.prevMotionValues=rN(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=ds(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){var r;let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(r=this.getBaseTargetFromProps(this.props,t))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(t0(s)||Kv(s))?s=parseFloat(s):!nN(s)&&Vn.test(n)&&(s=qv(t,n)),this.setBaseTarget(t,Pe(s)?s.get():s)),Pe(s)?s.get():s}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props;let s;if(typeof r=="string"||typeof r=="object"){const a=Ed(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);a&&(s=a[t])}if(r&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!Pe(i)?i:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new $d),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class L0 extends sN{constructor(){super(...arguments),this.KeyframeResolver=i0}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Pe(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function iN(e){return window.getComputedStyle(e)}class oN extends L0{constructor(){super(...arguments),this.type="html",this.renderInstance=jv}readValueFromInstance(t,n){if(gr.has(n)){const r=Yd(n);return r&&r.default||0}else{const r=iN(t),s=(vv(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:n}){return k0(t,n)}build(t,n,r){Rd(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return Dd(t,n,r)}}class aN extends L0{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ve}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(gr.has(n)){const r=Yd(n);return r&&r.default||0}return n=Sv.has(n)?n:Nd(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return Cv(t,n,r)}build(t,n,r){Md(t,n,this.isSVGTag,r.transformTemplate)}renderInstance(t,n,r,s){kv(t,n,r,s)}mount(t){this.isSVGTag=Ld(t.tagName),super.mount(t)}}const lN=(e,t)=>Pd(e)?new aN(t):new oN(t,{allowProjection:e!==g.Fragment}),cN=Ik({...RC,...q2,...U2,...Z2},lN),F=QS(cN);function ya(e){const t=Mi(()=>ds(e)),{isStatic:n}=g.useContext(Ii);if(n){const[,r]=g.useState(e);g.useEffect(()=>t.on("change",r),[])}return t}function D0(e,t){const n=ya(t()),r=()=>n.set(t());return r(),Ba(()=>{const s=()=>ie.preRender(r,!1,!0),i=e.map(a=>a.on("change",s));return()=>{i.forEach(a=>a()),on(r)}}),n}function Qf(e){return typeof e=="number"?e:parseFloat(e)}function Jf(e,t={}){const{isStatic:n}=g.useContext(Ii),r=g.useRef(null),s=ya(Pe(e)?Qf(e.get()):e),i=g.useRef(s.get()),a=g.useRef(()=>{}),l=()=>{const u=r.current;u&&u.time===0&&u.sample(Ne.delta),c(),r.current=iC({keyframes:[s.get(),i.current],velocity:s.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...t,onUpdate:a.current})},c=()=>{r.current&&r.current.stop()};return g.useInsertionEffect(()=>s.attach((u,d)=>n?d(u):(i.current=u,a.current=d,ie.update(l),s.get()),c),[JSON.stringify(t)]),Ba(()=>{if(Pe(e))return e.on("change",u=>s.set(Qf(u)))},[s]),s}const uN=e=>e&&typeof e=="object"&&e.mix,dN=e=>uN(e)?e.mix:void 0;function hN(...e){const t=!Array.isArray(e[0]),n=t?0:-1,r=e[0+n],s=e[1+n],i=e[2+n],a=e[3+n],l=h0(s,i,{mixer:dN(i[0]),...a});return t?l(r):l}function pN(e){ei.current=[],e();const t=D0(ei.current,e);return ei.current=void 0,t}function mo(e,t,n,r){if(typeof e=="function")return pN(e);const s=typeof t=="function"?t:hN(t,n,r);return Array.isArray(e)?Xf(e,s):Xf([e],([i])=>s(i))}function Xf(e,t){const n=Mi(()=>[]);return D0(e,()=>{n.length=0;const r=e.length;for(let s=0;s<r;s++)n[s]=e[s].get();return t(n)})}/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fN=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),O0=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var mN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yN=g.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:a,...l},c)=>g.createElement("svg",{ref:c,...mN,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:O0("lucide",s),...l},[...a.map(([u,d])=>g.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=(e,t)=>{const n=g.forwardRef(({className:r,...s},i)=>g.createElement(yN,{ref:i,iconNode:t,className:O0(`lucide-${fN(e)}`,r),...s}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gN=Y("AlignLeft",[["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 18H3",key:"1amg6g"}],["path",{d:"M21 6H3",key:"1jwq7v"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qf=Y("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ga=Y("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vN=Y("BookUser",[["path",{d:"M15 13a3 3 0 1 0-6 0",key:"10j68g"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xN=Y("BookmarkPlus",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}],["line",{x1:"12",x2:"12",y1:"7",y2:"13",key:"1cppfj"}],["line",{x1:"15",x2:"9",y1:"10",y2:"10",key:"1gty7f"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wN=Y("Bug",[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jN=Y("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SN=Y("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kN=Y("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zf=Y("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bN=Y("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CN=Y("ClipboardCopy",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-2",key:"4jdomd"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v4",key:"3hqy98"}],["path",{d:"M21 14H11",key:"1bme5i"}],["path",{d:"m15 10-4 4 4 4",key:"5dvupr"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NN=Y("Compass",[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fu=Y("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AN=Y("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PN=Y("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EN=Y("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ga=Y("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const em=Y("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TN=Y("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const va=Y("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _N=Y("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tm=Y("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RN=Y("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MN=Y("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IN=Y("PenTool",[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LN=Y("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DN=Y("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ON=Y("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mu=Y("Shuffle",[["path",{d:"M2 18h1.4c1.3 0 2.5-.6 3.3-1.7l6.1-8.6c.7-1.1 2-1.7 3.3-1.7H22",key:"1wmou1"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 6h1.9c1.5 0 2.9.9 3.6 2.2",key:"10bdb2"}],["path",{d:"M22 18h-5.9c-1.3 0-2.6-.7-3.3-1.8l-.5-.8",key:"vgxac0"}],["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zr=Y("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FN=Y("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F0=Y("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VN=Y("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BN=Y("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vi=Y("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UN=Y("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zN=Y("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V0=Y("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B0=Y("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $N=Y("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yu=Y("WandSparkles",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ya=Y("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function yo({icon:e,title:t,description:n,delay:r=0,children:s}){return o.jsxs(F.div,{className:"glass-card feature-card",style:{backdropFilter:"blur(18px)"},initial:{opacity:0,y:24},whileInView:{opacity:1,y:0},whileHover:{y:-6,scale:1.02},viewport:{once:!0,amount:.4},transition:{duration:.45,delay:r},children:[o.jsx("div",{className:"feature-card__icon","aria-hidden":!0,children:e}),o.jsx("h3",{children:t}),o.jsx("p",{children:n}),s]})}const Ms={hidden:{opacity:0,y:32},visible:{opacity:1,y:0}},nm={initial:{opacity:.35,scale:.9},animate:{opacity:.75,scale:1.08}},rm={duration:6,repeat:1/0,repeatType:"reverse",ease:"easeInOut"},WN=[{title:"Imagine",description:"Start with a spark and a scene."},{title:"Create",description:"Draft with AI and keep control."},{title:"Polish",description:"Tighten voice, pacing, and flow."}],HN=[{q:"Do you store my API keys?",a:"No. Keys remain in your browser."},{q:"Can I add my own endpoint?",a:"Yes. Create a custom provider in settings."},{q:"How long can a story be?",a:"From flash pieces to full chapters."}],KN=[{label:"Solarpunk Mystery",description:"A detective uncovers sabotage inside a climate-positive arcade of gardens."},{label:"Romantic Heist",description:"Two thieves fall for each other during a memory heist in a neon city."},{label:"Mythic Horror",description:"A folklorist excavates sleeping gods beneath a lighthouse town."}],GN=[{label:"Draft in Studio",to:"/studio",icon:o.jsx(IN,{size:18})},{label:"Browse Library",to:"/stories",icon:o.jsx(NN,{size:18})}],YN=[{title:"Command palette",badge:"New",description:"Open the global palette with Cmd/Ctrl+K to jump anywhere or toggle debug tools.",bullets:["Navigate without leaving the keyboard","Toggle the debug console instantly"],cta:{label:"Try it",to:"/studio"}},{title:"Onboarding checklist",badge:"Guide",description:"Stay on track with draft, publish, and feedback milestones right inside the Studio sidebar.",bullets:["Track progress automatically","Celebrate each completed milestone"],cta:{label:"See checklist",to:"/studio"}},{title:"Cinematic covers",badge:"Gallery",description:"Generate multi-style cover art or upload your own and curate a gallery for every story.",bullets:["Three AI-inspired style presets","Instant gallery with thumbnail selector"],cta:{label:"Build covers",to:"/studio"}},{title:"Audio previews",badge:"Listen",description:"Let readers sample your prose with one-click text-to-speech snippets on every story.",bullets:["Web speech integration","Toggle playback right from the story"],cta:{label:"Hear a sample",to:"/stories"}}];function QN(){const e=ya(0),t=ya(0),n=Jf(e,{stiffness:60,damping:12}),r=Jf(t,{stiffness:60,damping:12}),s=mo(n,d=>d*-24),i=mo(r,d=>d*-12),a=mo(n,d=>d*24),l=mo(r,d=>d*12),c=d=>{const f=d.currentTarget.getBoundingClientRect(),m=((d.clientX-f.left)/f.width-.5)*2,x=((d.clientY-f.top)/f.height-.5)*2;e.set(m),t.set(x)},u=()=>{e.set(0),t.set(0)};return o.jsxs("div",{className:"landing",children:[o.jsxs("section",{className:"hero",onMouseMove:c,onMouseLeave:u,children:[o.jsxs(F.div,{className:"hero__background",initial:{opacity:0},animate:{opacity:1},transition:{duration:.8,delay:.1},children:[o.jsx(F.span,{className:"hero__aurora",initial:{opacity:0},animate:{opacity:.9},transition:{duration:1}}),o.jsx(F.span,{className:"hero__orb hero__orb--left",style:{x:s,y:i},variants:nm,initial:"initial",animate:"animate",transition:{...rm,duration:8}}),o.jsx(F.span,{className:"hero__orb hero__orb--right",style:{x:a,y:l},variants:nm,initial:"initial",animate:"animate",transition:{...rm,duration:7.5,delay:.4}}),o.jsx(F.span,{className:"hero__grid",initial:{opacity:0,y:40},animate:{opacity:.4,y:0},transition:{duration:1,delay:.32}})]}),o.jsxs(F.div,{className:"hero__eyebrow",variants:Ms,initial:"hidden",animate:"visible",transition:{delay:.1,duration:.4},children:[o.jsx(Zr,{size:16})," Story tools for every author"]}),o.jsx(F.h1,{className:"hero__heading",variants:Ms,initial:"hidden",animate:"visible",transition:{delay:.18,duration:.55},children:"Write unforgettable stories with AI at your side"}),o.jsx(F.p,{className:"hero__description",variants:Ms,initial:"hidden",animate:"visible",transition:{delay:.26,duration:.55},children:"Dreamscribe blends narrative craft with orchestrated AI collaborators. Generate fresh drafts, invite critical feedback, and sculpt prose line by line  all in a single cinematic workspace."}),o.jsxs(F.div,{className:"hero__cta",variants:Ms,initial:"hidden",animate:"visible",transition:{delay:.32,duration:.45},children:[o.jsxs(Ue,{to:"/signup",className:"primary-button",children:["Start for free ",o.jsx(ga,{size:18})]}),o.jsx(Ue,{to:"/studio",className:"ghost-button",children:"Enter the studio"})]}),o.jsxs(F.div,{className:"hero__metrics",initial:"hidden",animate:"visible",variants:Ms,transition:{delay:.38,duration:.45},children:[o.jsxs("div",{className:"metric-chip",children:[o.jsx("h3",{children:"40+"}),o.jsx("p",{children:"Genre presets tuned with narrative prompts"})]}),o.jsxs("div",{className:"metric-chip",children:[o.jsx("h3",{children:"Multimodel"}),o.jsx("p",{children:"Blend OpenAI, Anthropic, Gemini, and DeepSeek"})]}),o.jsxs("div",{className:"metric-chip",children:[o.jsx("h3",{children:"Debug first"}),o.jsx("p",{children:"See prompts, tokens, and timing for runs"})]})]})]}),o.jsx("section",{className:"get-started-shell",children:o.jsxs("div",{className:"get-started__billboard",children:[o.jsxs("div",{className:"get-started__intro",children:[o.jsx("span",{className:"get-started__eyebrow",children:"Quick start"}),o.jsx("h2",{children:"Jump into the studio with a ready-made prompt"}),o.jsx("p",{children:"Choose a vibe, paste it into the Studio, and generate your first draft in under a minute."}),o.jsx("div",{className:"get-started__cta",children:GN.map(d=>o.jsxs(Ue,{to:d.to,className:"primary-button",children:[d.icon,d.label]},d.label))})]}),o.jsxs("div",{className:"get-started__prompts",children:[KN.map(d=>o.jsxs("button",{type:"button",className:"prompt-chip",onClick:()=>navigator.clipboard.writeText(d.description).catch(()=>{}),children:[o.jsx("strong",{children:d.label}),o.jsx("span",{children:d.description})]},d.label)),o.jsx("p",{className:"get-started__hint",children:"Click to copy a prompt. Paste it into the Studio to try it out."})]})]})}),o.jsxs("section",{className:"section-shell innovation-lab",children:[o.jsx(F.h2,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:.4},transition:{duration:.45},children:"Fresh upgrades in Dreamscribe"}),o.jsx("p",{className:"section-subtitle",children:"These launch-ready tools make the writing loop faster and more fun."}),o.jsx("div",{className:"innovation-grid",children:YN.map((d,f)=>o.jsxs(F.article,{className:"innovation-card",initial:{opacity:0,y:24},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:.3},transition:{duration:.4,delay:f*.06},children:[o.jsxs("header",{children:[o.jsx("span",{className:"innovation-badge",children:d.badge}),o.jsx("h3",{children:d.title})]}),o.jsx("p",{children:d.description}),o.jsx("ul",{className:"innovation-list",children:d.bullets.map(m=>o.jsx("li",{children:m},m))}),o.jsx("footer",{children:o.jsxs(Ue,{to:d.cta.to,className:"primary-button",children:[d.cta.label," ",o.jsx(ga,{size:16})]})})]},d.title))})]}),o.jsxs("section",{className:"section-shell",id:"features",children:[o.jsx(F.h2,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:.4},transition:{delay:.1,duration:.45},children:"A studio where every draft has backup"}),o.jsx("p",{className:"section-subtitle",children:"Fast, clear, and playful. You stay in charge."}),o.jsxs("div",{className:"card-grid",children:[o.jsx(yo,{icon:o.jsx(yu,{size:24}),title:"Intent aware drafting",description:"Set tone, pace, and POV. We turn intent into prompts.",children:o.jsxs("ul",{className:"feature-list",children:[o.jsx("li",{children:"Outline to prose pipelines"}),o.jsx("li",{children:"Snapshot checkpoints for branches"}),o.jsx("li",{children:"Scene level beat guidance"})]})}),o.jsx(yo,{icon:o.jsx(TN,{size:24}),title:"Feedback that coaches",description:"Ask for critiques on dialogue, worldbuilding, or narrative tension. Models respond with practical edits.",delay:.08,children:o.jsxs("ul",{className:"feature-list",children:[o.jsx("li",{children:"Grammar + style aligned to your genre"}),o.jsx("li",{children:"Highlight problem sentences automatically"}),o.jsx("li",{children:"Rewrite suggestions you can accept inline"})]})}),o.jsx(yo,{icon:o.jsx(wN,{size:24}),title:"Deep debugging",description:"Track prompts, tokens, and latency to tune your runs.",delay:.16,children:o.jsxs("ul",{className:"feature-list",children:[o.jsx("li",{children:"Structured log timeline"}),o.jsx("li",{children:"Prompt diffing between revisions"}),o.jsx("li",{children:"Abort + retry with one keystroke"})]})}),o.jsx(yo,{icon:o.jsx(EN,{size:24}),title:"Publish ready exports",description:"Export to markdown or TXT, copy fast, and sync to apps.",delay:.24,children:o.jsxs("ul",{className:"feature-list",children:[o.jsx("li",{children:"Built in style sheets for ereaders"}),o.jsx("li",{children:"Chapter bundling with auto table of contents"}),o.jsx("li",{children:"Version history with restore"})]})})]})]}),o.jsxs("section",{className:"section-shell",id:"workflow",children:[o.jsx(F.h2,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:.4},transition:{duration:.45},children:"Your writing flow, amplified"}),o.jsx("div",{className:"workflow-grid",children:WN.map((d,f)=>o.jsxs(F.div,{className:"workflow-step glass-card",initial:{opacity:0,y:28},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:.4},transition:{duration:.4,delay:f*.08},children:[o.jsxs("span",{className:"workflow-step__index",children:["0",f+1]}),o.jsx("h3",{children:d.title}),o.jsx("p",{children:d.description})]},d.title))})]}),o.jsxs("section",{className:"section-shell",id:"pricing",children:[o.jsx(F.h2,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:.4},transition:{duration:.45},children:"Pricing that respects your stack"}),o.jsxs("div",{className:"pricing-grid",children:[o.jsxs(F.div,{className:"pricing-card glass-card",initial:{opacity:0,y:24},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:.4},transition:{duration:.45,delay:.04},children:[o.jsx("h3",{children:"Creator"}),o.jsx("p",{className:"pricing-card__price",children:"Free"}),o.jsxs("ul",{children:[o.jsx("li",{children:"Bring your own API keys"}),o.jsx("li",{children:"Unlimited drafts & branches"}),o.jsx("li",{children:"Feedback coach + grammar passes"})]}),o.jsx(Ue,{to:"/signup",className:"primary-button",children:"Start writing"})]}),o.jsxs(F.div,{className:"pricing-card glass-card pricing-card--accent",initial:{opacity:0,y:32},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:.4},transition:{duration:.45,delay:.12},children:[o.jsx("h3",{children:"Studios"}),o.jsx("p",{className:"pricing-card__price",children:"$12 / seat"}),o.jsxs("ul",{children:[o.jsx("li",{children:"Team prompt library"}),o.jsx("li",{children:"Shared debug timeline"}),o.jsx("li",{children:"Anthology export + brand kit"})]}),o.jsx("button",{type:"button",className:"ghost-button",children:"Talk to us"})]})]})]}),o.jsxs("section",{className:"section-shell",id:"faq",children:[o.jsx(F.h2,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:.4},transition:{duration:.45},children:"Answers for curious creators"}),o.jsx("div",{className:"faq-grid",children:HN.map((d,f)=>o.jsxs(F.div,{className:"faq-item glass-card",initial:{opacity:0,y:24},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:.4},transition:{duration:.45,delay:f*.08},children:[o.jsx("h3",{children:d.q}),o.jsx("p",{children:d.a})]},d.q))})]})]})}const JN=new TextEncoder;async function XN(e,t){const n=JN.encode(`${t}:${e}`),r=await crypto.subtle.digest("SHA-256",n);return Array.from(new Uint8Array(r)).map(i=>i.toString(16).padStart(2,"0")).join("")}function ge(e="id"){return typeof crypto<"u"&&typeof crypto.randomUUID=="function"?`${e}_${crypto.randomUUID().replace(/-/g,"").slice(0,12)}`:`${e}_${Math.random().toString(36).slice(2,10)}`}const qd="sf:blacklist:emails",Zd="sf:blacklist:pwdhashes",sm="dreamscribe_salt",U0=e=>Array.from(new Set(e));function eh(){try{return JSON.parse(localStorage.getItem(qd)||"[]")}catch{return[]}}function th(){try{return JSON.parse(localStorage.getItem(Zd)||"[]")}catch{return[]}}function qN(e){const t=eh();t.push(e.toLowerCase()),localStorage.setItem(qd,JSON.stringify(U0(t)))}function ZN(e){const t=eh().filter(n=>n!==e.toLowerCase());localStorage.setItem(qd,JSON.stringify(t))}function eA(e){const t=th();t.push(e),localStorage.setItem(Zd,JSON.stringify(U0(t)))}function tA(e){const t=th().filter(n=>n!==e);localStorage.setItem(Zd,JSON.stringify(t))}function z0(e){return eh().includes(e.toLowerCase())}function $0(e){const t=nA(e);return th().includes(t)}function nA(e){try{return btoa(e+sm)}catch{return e+":"+sm}}const W0=g.createContext(null),Er=["masondaking"],$s=["darnix"],vn="",xn="#7c3aed";async function Is(e,t){return XN(e,t)}const rA="dreamscribe_salt",Jn=1e3*60*60*24*182;function im(e){const t=`${e}${rA}`,n=globalThis;return typeof n.btoa=="function"?n.btoa(t):t}const H0="dreamscribe_users",gu="dreamscribe_current_user",K0="dreamscribe_ban_appeals",rt=()=>{try{return JSON.parse(localStorage.getItem(H0)||"{}")}catch{return{}}},st=e=>{localStorage.setItem(H0,JSON.stringify(e))},sA=()=>{try{const e=localStorage.getItem(gu);return e?JSON.parse(e):null}catch{return null}},Vt=e=>{e?localStorage.setItem(gu,JSON.stringify(e)):localStorage.removeItem(gu)},Kl=()=>{try{const e=localStorage.getItem(K0);if(!e)return[];const t=JSON.parse(e);return Array.isArray(t)?t:[]}catch{return[]}},om=e=>{localStorage.setItem(K0,JSON.stringify(e))};function am(e){const t=e.toLowerCase();return Er.includes(t)?"developer":$s.includes(t)?"admin":"free"}function iA({children:e}){const[t,n]=g.useState(null),[r,s]=g.useState(!0);g.useEffect(()=>{let h=!1;return(async()=>{try{const y=rt(),j=async(b,T,A)=>{const N=b,P=T.trim().toLowerCase(),E=await Is(A,b);y[N]?(Er.includes(b.toLowerCase())&&(y[N].banned=!1,y[N].banReason=void 0,y[N].bannedAt=void 0,y[N].roleId=am(b)),y[N].password!==E&&(y[N].password=E),y[N].email=P):y[N]={id:ge("user"),username:b,displayName:b,email:P,password:E,createdAt:new Date().toISOString(),banned:!1,roleId:am(b),warnings:[],bio:"",accentColor:xn,avatarEmoji:vn,subscriptions:[]},y[N].warnings=y[N].warnings??[],y[N].bio=y[N].bio??"",y[N].accentColor=y[N].accentColor??xn,y[N].avatarEmoji=y[N].avatarEmoji??vn,y[N].subscriptions=y[N].subscriptions??[],y[N].lastAppealAt=y[N].lastAppealAt??void 0,y[N].hasCompletedOnboarding=y[N].hasCompletedOnboarding??!0};await Promise.all([j("masondaking","masondaking484@gmail.com","MasonDev#2025"),j("darnix","darnix@dev.local","DarnixDev#2025")]),st(y);const S=sA();if(S){const b=Object.values(y).find(T=>T.id===S.id);if(b!=null&&b.banned)Vt(null),h||n(null);else{const T={...S,warnings:(b==null?void 0:b.warnings)??S.warnings??[],bio:(b==null?void 0:b.bio)??S.bio??"",accentColor:(b==null?void 0:b.accentColor)??S.accentColor??xn,avatarEmoji:(b==null?void 0:b.avatarEmoji)??S.avatarEmoji??vn,subscriptions:(b==null?void 0:b.subscriptions)??S.subscriptions??[],isAdmin:$s.includes(((b==null?void 0:b.username)??S.username).toLowerCase()),bannedAt:(b==null?void 0:b.bannedAt)??S.bannedAt,lastAppealAt:(b==null?void 0:b.lastAppealAt)??S.lastAppealAt,banReason:(b==null?void 0:b.banReason)??S.banReason,banned:(b==null?void 0:b.banned)??S.banned,hasCompletedOnboarding:(b==null?void 0:b.hasCompletedOnboarding)??S.hasCompletedOnboarding??!1};Vt(T),h||n(T)}}}catch(y){console.error("Failed to initialise auth context",y)}finally{h||s(!1)}})(),()=>{h=!0}},[]);const C={user:t,login:async({email:h,password:p})=>{const y=rt(),j=h.trim().toLowerCase(),S=Object.values(y).find(P=>P.email.toLowerCase()===j);if(z0(j)){const P=S!=null&&S.lastAppealAt?Date.parse(S.lastAppealAt):null,E=S&&P&&Number.isFinite(P)?new Date(P+Jn).toISOString():null,R=S?!P||Date.now()>=(P??0)+Jn:!1,L=new Error("This email is banned");throw L.code="BANNED",L.ban={reason:(S==null?void 0:S.banReason)??"This account is banned",bannedAt:(S==null?void 0:S.bannedAt)??null,lastAppealAt:(S==null?void 0:S.lastAppealAt)??null,nextAppealAt:E,canAppeal:R},L}if(!S)throw new Error("Invalid email or password");if($0(p)){const P=new Error("This password is banned");throw P.code="BANNED_PASSWORD",P}if(S.banned){const P=S.banReason?`: ${S.banReason}`:"",E=S.lastAppealAt?Date.parse(S.lastAppealAt):null,R=E&&Number.isFinite(E)?new Date(E+Jn).toISOString():null,L=!E||Date.now()>=E+Jn,z=new Error(`This account has been banned${P}`);throw z.code="BANNED",z.ban={reason:S.banReason??null,bannedAt:S.bannedAt??null,lastAppealAt:S.lastAppealAt??null,nextAppealAt:R,canAppeal:L},z}const b=S.username,T=await Is(p,S.username);let A=y[b];if(!A)throw new Error("Invalid email or password");if(A.password!==T){const P=im(p);if(A.password===P)A={...A,password:T},y[b]=A,st(y);else throw new Error("Invalid email or password")}A.warnings=A.warnings??[],A.bio=A.bio??"",A.accentColor=A.accentColor??xn,A.avatarEmoji=A.avatarEmoji??vn,A.subscriptions=A.subscriptions??[],y[b]=A,st(y);const N={id:A.id,username:A.username,displayName:A.displayName||A.username,email:A.email,isDev:Er.includes(A.username.toLowerCase()),isAdmin:$s.includes(A.username.toLowerCase()),createdAt:A.createdAt,banned:!!A.banned,banReason:A.banReason,bannedAt:A.bannedAt,lastAppealAt:A.lastAppealAt,roleId:A.roleId??null,warnings:A.warnings??[],bio:A.bio,accentColor:A.accentColor,avatarEmoji:A.avatarEmoji,subscriptions:A.subscriptions};n(N),Vt(N)},signup:async({displayName:h,email:p,password:y})=>{const j=h.trim();if(!j)throw new Error("Display name is required");const S=p.trim().toLowerCase(),b=rt(),T=Object.values(b).find(R=>R.email.toLowerCase()===S);if(T){if(T.banned){const R=T.banReason?`: ${T.banReason}`:"";throw new Error(`Sign up blocked  this email is banned${R}`)}throw new Error("An account with this email already exists")}const A=b[j];if(A&&A.banned){const R=A.banReason?`: ${A.banReason}`:"";throw new Error(`Sign up blocked  this username is banned${R}`)}const P={id:ge("user"),username:j,displayName:j,email:S,password:await Is(y,j),createdAt:new Date().toISOString(),banned:!1,roleId:"free",warnings:[],bio:"",accentColor:xn,avatarEmoji:vn,subscriptions:[],lastAppealAt:void 0};b[j]=P,st(b);const E={id:P.id,username:P.username,displayName:P.displayName,email:P.email,isDev:Er.includes(P.username.toLowerCase()),isAdmin:$s.includes(P.username.toLowerCase()),createdAt:P.createdAt,banned:!1,banReason:void 0,roleId:"free",warnings:[],bio:P.bio,accentColor:P.accentColor,avatarEmoji:P.avatarEmoji,subscriptions:P.subscriptions??[],bannedAt:void 0,lastAppealAt:void 0,hasCompletedOnboarding:!1};n(E),Vt(E)},logout:()=>{n(null),Vt(null)},isAuthenticated:!!t,isLoading:r,completeOnboarding:()=>{if(!t)return;const h=rt(),p=h[t.username];if(!p)return;p.hasCompletedOnboarding=!0,h[t.username]=p,st(h);const y={...t,hasCompletedOnboarding:!0};n(y),Vt(y)},getUsers:()=>{const h=rt();return Object.values(h).map(p=>({id:p.id,username:p.username,displayName:p.displayName||p.username,email:p.email,isDev:Er.includes(p.username.toLowerCase()),isAdmin:$s.includes(p.username.toLowerCase()),createdAt:p.createdAt,banned:!!p.banned,banReason:p.banReason,bannedAt:p.bannedAt,lastAppealAt:p.lastAppealAt,roleId:p.roleId??null,warnings:p.warnings??[],bio:p.bio??"",accentColor:p.accentColor??xn,avatarEmoji:p.avatarEmoji??vn,subscriptions:p.subscriptions??[],hasCompletedOnboarding:p.hasCompletedOnboarding??!1}))},banUser:(h,p)=>{const y=rt(),j=y[h];if(j){if(Er.includes(j.username.toLowerCase()))return;const S=(p||"").trim();if(!S)return;j.banned=!0,j.banReason=S,j.bannedAt=new Date().toISOString(),y[h]=j,st(y),t&&t.username===h&&(n(null),Vt(null))}},unbanUser:h=>{const p=rt(),y=p[h];y&&(y.banned=!1,y.banReason=void 0,y.bannedAt=void 0,y.lastAppealAt=void 0,p[h]=y,st(p))},updateProfile:h=>{const p=t;if(!p)return;const y=rt(),j=y[p.username];if(!j)return;if(h.email&&h.email.toLowerCase()!==j.email.toLowerCase()){if(Object.values(y).some(T=>T.email.toLowerCase()===h.email.toLowerCase()))throw new Error("Email already in use");j.email=h.email}if(h.displayName&&h.displayName.trim()&&h.displayName!==j.displayName&&(j.displayName=h.displayName.trim()),h.bio!==void 0&&(j.bio=h.bio.trim().slice(0,320)),h.accentColor!==void 0){const b=h.accentColor.trim(),T=/^#([0-9a-f]{3}|[0-9a-f]{6})$/i.test(b);j.accentColor=T?b:xn}if(h.avatarEmoji!==void 0){const b=h.avatarEmoji.trim();j.avatarEmoji=b?b.slice(0,4):vn}j.bio=j.bio??"",j.accentColor=j.accentColor??xn,j.avatarEmoji=j.avatarEmoji??vn,y[p.username]=j,st(y);const S={...p,displayName:j.displayName,email:j.email,bio:j.bio,accentColor:j.accentColor,avatarEmoji:j.avatarEmoji,subscriptions:j.subscriptions??p.subscriptions??[]};n(S),Vt(S)},updatePassword:async({currentPassword:h,newPassword:p})=>{const y=t;if(!y)throw new Error("You must be signed in to update your password");const j=rt(),S=j[y.username];if(!S)throw new Error("Account could not be found");const b=h.trim(),T=p.trim();if(!b)throw new Error("Current password is required");if(T.length<8)throw new Error("New password must be at least 8 characters long");const A=await Is(b,S.username);if(S.password!==A){const N=im(b);if(S.password!==N)throw new Error("Current password is incorrect")}S.password=await Is(T,S.username),j[y.username]=S,st(j)},submitBanAppeal:({email:h,message:p})=>{const y=h.trim().toLowerCase(),j=p.trim();if(!y)throw new Error("Email is required for an appeal");if(!j)throw new Error("Please share details for your appeal");const S=rt(),b=Object.values(S).find(R=>R.email.toLowerCase()===y);if(!b||!b.banned)throw new Error("No banned account found for this email");const T=b.lastAppealAt?Date.parse(b.lastAppealAt):null;if(T&&Number.isFinite(T)&&Date.now()<T+Jn){const R=new Date(T+Jn).toISOString(),L=new Error("You can send another appeal after the cooldown period");throw L.code="APPEAL_COOLDOWN",L.nextAllowedAt=R,L}const A=new Date,N={id:ge("appeal"),userId:b.id,username:b.username,email:b.email,message:j,submittedAt:A.toISOString(),status:"pending"},P=[N,...Kl()].slice(0,300);return om(P),b.lastAppealAt=N.submittedAt,S[b.username]=b,st(S),{nextAllowedAt:new Date(A.getTime()+Jn).toISOString()}},getBanAppeals:()=>[...Kl()].sort((h,p)=>Date.parse(p.submittedAt||"")-Date.parse(h.submittedAt||"")),resolveBanAppeal:(h,p,y)=>{if(!(t!=null&&t.isDev))return;const j=Kl(),S=j.findIndex(N=>N.id===h);if(S===-1)return;const b=j[S];if(b.status!=="pending")return;const T=p==="approve"?"approved":"rejected",A=new Date().toISOString();if(j[S]={...b,status:T,resolvedAt:A,resolvedBy:t.username,resolutionNote:(y==null?void 0:y.trim())||void 0},om(j),p==="approve"){const N=rt(),P=Object.values(N).find(E=>E.id===b.userId);P&&(P.banned=!1,P.banReason=void 0,P.bannedAt=void 0,N[P.username]=P,st(N))}},toggleSubscription:h=>{if(!t||!h||h===t.id)return;const p=rt(),y=p[t.username];if(!y)return;const j=y.subscriptions??[],S=j.includes(h)?j.filter(T=>T!==h):[...j,h];y.subscriptions=S,p[t.username]=y,st(p);const b={...t,subscriptions:S};n(b),Vt(b)},warnUser:(h,p)=>{if(!p.trim())return;const y=rt(),j=y[h];if(!j)return;const S={id:ge("warn"),message:p.trim(),createdAt:new Date().toISOString()};if(j.warnings=[...j.warnings??[],S],y[h]=j,st(y),t&&t.username===h){const b={...t,warnings:j.warnings};n(b),Vt(b)}}};return o.jsx(W0.Provider,{value:C,children:e})}function Te(){const e=g.useContext(W0);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e}function oA(){const e=$n(),{signup:t}=Te(),[n,r]=g.useState({displayName:"",email:"",password:""}),[s,i]=g.useState(null),[a,l]=g.useState(!1),c=async u=>{if(u.preventDefault(),i(null),!n.displayName.trim()){i("Please enter a display name");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n.email)){i("Enter a valid email address");return}if(n.password.length<8){i("Password must be at least 8 characters");return}if(z0(n.email)){i("This email is banned");return}if($0(n.password)){i("This password is not allowed");return}try{l(!0),await t(n),e("/studio",{replace:!0})}catch(d){const f=d instanceof Error?d.message:"Something went wrong";i(f)}finally{l(!1)}};return o.jsx("div",{className:"auth-shell",children:o.jsxs(F.section,{className:"auth-card",initial:{opacity:0,y:26},animate:{opacity:1,y:0},transition:{duration:.45},children:[o.jsx("h1",{children:"Create your account"}),o.jsx("p",{children:"Build a free profile to personalize prompts, save drafts, and sync your API keys."}),o.jsxs("form",{className:"auth-form",onSubmit:c,children:[o.jsxs("label",{children:[o.jsx("span",{children:"Display name"}),o.jsx("input",{type:"text",value:n.displayName,onChange:u=>r(d=>({...d,displayName:u.target.value})),placeholder:"Aria the Author",required:!0})]}),o.jsxs("label",{children:[o.jsx("span",{children:"Email"}),o.jsx("input",{type:"email",value:n.email,onChange:u=>r(d=>({...d,email:u.target.value})),placeholder:"you@example.com",required:!0})]}),o.jsxs("label",{children:[o.jsx("span",{children:"Password"}),o.jsx("input",{type:"password",value:n.password,onChange:u=>r(d=>({...d,password:u.target.value})),placeholder:"Create a password",required:!0,minLength:8}),o.jsx("small",{children:"Use at least 8 characters with a mix of letters and numbers."})]}),s&&o.jsx("div",{className:"auth-form__error",children:s}),o.jsx("button",{type:"submit",className:"primary-button auth-form__submit",disabled:a,children:a?"Creating account":"Sign up"})]}),o.jsxs("footer",{children:["Already have an account? ",o.jsx(Ue,{to:"/login",children:"Log in"})]})]})})}function aA(){const e=$n(),t=It(),{login:n,submitBanAppeal:r}=Te(),[s,i]=g.useState({email:"",password:""}),[a,l]=g.useState(null),[c,u]=g.useState(null),[d,f]=g.useState(""),[m,x]=g.useState(null),[k,v]=g.useState(!1),[C,h]=g.useState(!1),p=async S=>{var b;S.preventDefault(),l(null),u(null),f(""),x(null);try{h(!0),await n(s);const T=t.state;e(((b=T==null?void 0:T.from)==null?void 0:b.pathname)??"/studio",{replace:!0})}catch(T){const A=T instanceof Error?T.message:"Unable to sign in";if(T instanceof Error&&T.code==="BANNED"){const N=T.ban??{};u({reason:(N==null?void 0:N.reason)??null,bannedAt:(N==null?void 0:N.bannedAt)??null,lastAppealAt:(N==null?void 0:N.lastAppealAt)??null,nextAppealAt:(N==null?void 0:N.nextAppealAt)??null,canAppeal:!!(N!=null&&N.canAppeal)})}l(A)}finally{h(!1)}},y=async()=>{if(c!=null&&c.canAppeal){if(!d.trim()){x({type:"error",text:"Please include details so the dev team can review your appeal."});return}try{v(!0),x(null);const S=r({email:s.email,message:d});x({type:"success",text:"Appeal submitted. A developer will review it soon."}),f(""),u(b=>b&&{...b,canAppeal:!1,lastAppealAt:new Date().toISOString(),nextAppealAt:S.nextAllowedAt})}catch(S){if(S instanceof Error){if(S.code==="APPEAL_COOLDOWN"){const T=S.nextAllowedAt??null;u(A=>A?{...A,canAppeal:!1,nextAppealAt:T??A.nextAppealAt}:{reason:null,bannedAt:null,lastAppealAt:null,nextAppealAt:T,canAppeal:!1})}x({type:"error",text:S.message})}else x({type:"error",text:"Unable to submit appeal right now"})}finally{v(!1)}}},j=S=>{if(!S)return null;try{return new Date(S).toLocaleString()}catch{return null}};return o.jsx("div",{className:"auth-shell",children:o.jsxs(F.section,{className:"auth-card",initial:{opacity:0,y:26},animate:{opacity:1,y:0},transition:{duration:.45},children:[o.jsx("h1",{children:"Welcome back"}),o.jsx("p",{children:"Continue the stories you started, or spin up a fresh narrative."}),o.jsxs("form",{className:"auth-form",onSubmit:p,children:[o.jsxs("label",{children:[o.jsx("span",{children:"Email"}),o.jsx("input",{type:"email",value:s.email,onChange:S=>i(b=>({...b,email:S.target.value})),placeholder:"you@example.com",required:!0})]}),o.jsxs("label",{children:[o.jsx("span",{children:"Password"}),o.jsx("input",{type:"password",value:s.password,onChange:S=>i(b=>({...b,password:S.target.value})),placeholder:"Your password",required:!0})]}),a&&o.jsx("div",{className:"auth-form__error",children:a}),o.jsx("button",{type:"submit",className:"primary-button auth-form__submit",disabled:C,children:C?"Signing in...":"Log in"})]}),c&&o.jsxs("div",{className:"auth-appeal",children:[o.jsx("h2",{children:"Request a review"}),o.jsxs("p",{children:["Your account is currently banned",c.reason?` for "${c.reason}"`:"",".",c.bannedAt&&o.jsxs(o.Fragment,{children:[" ","This action was recorded on ",o.jsx("strong",{children:j(c.bannedAt)}),"."]})]}),c.canAppeal?o.jsxs(o.Fragment,{children:[o.jsx("p",{className:"notice--muted",children:"You may submit one appeal every six months. Share context so a developer knows what changed."}),o.jsxs("label",{className:"auth-appeal__input",children:[o.jsx("span",{children:"Appeal message"}),o.jsx("textarea",{rows:3,value:d,onChange:S=>f(S.target.value),placeholder:"Explain what happened and why the ban should be reconsidered."})]}),o.jsx("div",{className:"auth-appeal__actions",children:o.jsx("button",{type:"button",className:"ghost-button",onClick:y,disabled:k,children:k?"Submitting...":"Submit appeal"})})]}):o.jsxs("p",{className:"notice--muted",children:["You recently submitted an appeal. You can try again after "," ",o.jsx("strong",{children:j(c.nextAppealAt)}),"."]}),m&&o.jsx("div",{className:`notice notice--${m.type==="error"?"error":"success"}`,children:m.text})]}),o.jsxs("footer",{children:["New to Dreamscribe? ",o.jsx(Ue,{to:"/signup",children:"Create an account"})]})]})})}const lm={short:"Short (flash, about 800 words)",medium:"Medium (about 2k words)",long:"Long (3k+ words)"};function lA({metadata:e,onChange:t}){const n=l=>{const{name:c,value:u}=l.target;t({...e,[c]:u})},r=l=>t({...e,targetLength:l}),s=["Witty","Eerie","Lyrical","Moody","Optimistic"],i=l=>{const c=e.tone.split(",").map(u=>u.trim()).filter(Boolean);if(!c.includes(l)){const u=c.length?`${e.tone.trim()}, ${l}`:l;t({...e,tone:u})}},a=l=>l==="short"?"~900":l==="medium"?"~1500":"~2200";return o.jsxs("div",{className:"studio-panel",children:[o.jsx("header",{className:"studio-panel__header",children:o.jsxs("div",{children:[o.jsx("h3",{children:"Story profile"}),o.jsx("p",{children:"Shape the vibe, perspective, and pacing before you generate."})]})}),o.jsxs("div",{className:"studio-form-grid",children:[o.jsxs("label",{children:[o.jsx("span",{children:"Title"}),o.jsx("input",{name:"title",value:e.title,onChange:n,placeholder:"The Clockwork Garden"}),o.jsx("small",{children:"Give your draft a memorable working title."})]}),o.jsxs("label",{children:[o.jsx("span",{children:"Genre"}),o.jsx("input",{name:"genre",value:e.genre,onChange:n,placeholder:"Solarpunk mystery"}),o.jsx("small",{children:"e.g., Cozy fantasy, Near-future sci-fi, Gothic romance"})]}),o.jsxs("label",{children:[o.jsx("span",{children:"Tone"}),o.jsx("input",{name:"tone",value:e.tone,onChange:n,placeholder:"Warm, hopeful, poetic"}),o.jsx("div",{className:"chip-group",style:{marginTop:6},children:s.map(l=>o.jsx("button",{type:"button",className:"chip",onClick:()=>i(l),children:l},l))})]}),o.jsxs("label",{children:[o.jsx("span",{children:"Perspective"}),o.jsx("input",{name:"perspective",value:e.perspective,onChange:n,placeholder:"First person"}),o.jsx("small",{children:"Examples: First person, Close third, Omniscient"})]}),o.jsxs("div",{children:[o.jsx("span",{children:"Target length"}),o.jsx("div",{className:"chip-group",style:{marginTop:6},children:Object.keys(lm).map(l=>o.jsx("button",{type:"button",className:e.targetLength===l?"chip chip--active":"chip",onClick:()=>r(l),children:lm[l].split(" (")[0]},l))}),o.jsxs("div",{style:{display:"grid",gap:6,marginTop:8},children:[o.jsxs("label",{children:[o.jsx("span",{children:"Custom tokens (optional)"}),o.jsx("input",{type:"number",min:1,step:1,name:"targetTokens",value:Number.isFinite(e.targetTokens)?String(e.targetTokens):"",onChange:l=>{const c=l.target.value,u=c===""?void 0:Math.max(1,Math.floor(Number(c))||0);t({...e,targetTokens:u})},placeholder:"e.g. 5000"})]}),o.jsx("small",{children:e.targetTokens&&e.targetTokens>0?`Using custom budget: ${e.targetTokens} tokens`:`Token budget hint: ${a(e.targetLength)} tokens`})]})]})]})]})}function cA(e){return e.split(",").map(t=>t.trim()).filter(Boolean).map(t=>t.startsWith("#")?t:`#${t.replace(/^#+/,"")}`)}function uA({currentPrompt:e,metadata:t,selectedModel:n,recipes:r,onSaveRecipe:s,onApplyRecipe:i,onRemixRecipe:a,onDeleteRecipe:l,onShareRecipe:c}){const[u,d]=g.useState(""),[f,m]=g.useState(t.tone),[x,k]=g.useState(()=>{switch(t.targetLength){case"short":return"Keep momentum punchy and end on a strong image.";case"medium":return"Balance rising tension with reflective beats.";case"long":return"Layer subplots and allow quieter character moments.";default:return""}}),[v,C]=g.useState(n??""),[h,p]=g.useState(""),[y,j]=g.useState(null),[S,b]=g.useState("muted"),T=e.trim().length===0,A=T||!u.trim(),N=g.useMemo(()=>[...r].sort((E,R)=>new Date(R.updatedAt).getTime()-new Date(E.updatedAt).getTime()),[r]),P=E=>{if(E.preventDefault(),T){b("error"),j("Write or paste a prompt before saving it to the palette.");return}const R=u.trim();if(!R){b("error"),j("Name your recipe so you can find it again later.");return}const L={title:R,prompt:e,toneNotes:f.trim()||void 0,pacingNotes:x.trim()||void 0,bestModel:v.trim()||void 0,tags:cA(h)};s(L),d(""),m(t.tone),k(""),C(n??""),p(""),b("muted"),j(`Saved "${R}" to your palette.`)};return o.jsxs("div",{className:"studio-panel",children:[o.jsx("header",{className:"studio-panel__header",children:o.jsxs("div",{children:[o.jsx("h3",{children:"Prompt palette"}),o.jsx("p",{children:"Save, remix, and resurface your strongest setups."})]})}),o.jsxs("form",{className:"prompt-palette__form",onSubmit:P,children:[o.jsxs("label",{children:[o.jsx("span",{children:"Recipe name"}),o.jsx("input",{value:u,placeholder:"Oceanic heist inciting prompt",onChange:E=>d(E.target.value)})]}),o.jsxs("label",{children:[o.jsx("span",{children:"Tone notes"}),o.jsx("input",{value:f,placeholder:"Gritty, neon-lit, but hopeful underneath",onChange:E=>m(E.target.value)})]}),o.jsxs("label",{children:[o.jsx("span",{children:"Pacing notes"}),o.jsx("textarea",{rows:2,value:x,placeholder:"Open with a sharp hook, escalate in two beats, breathe before the midpoint twist.",onChange:E=>k(E.target.value)})]}),o.jsxs("div",{className:"prompt-palette__meta",children:[o.jsxs("label",{children:[o.jsx("span",{children:"Best-fit model"}),o.jsx("input",{value:v,placeholder:"e.g. gpt-4o-mini",onChange:E=>C(E.target.value)})]}),o.jsxs("label",{children:[o.jsx("span",{children:"Signals / tags"}),o.jsx("input",{value:h,placeholder:"#noir, #character-driven",onChange:E=>p(E.target.value)})]})]}),y&&o.jsx("div",{className:`notice ${S==="error"?"notice--error":"notice--muted"}`,children:y}),o.jsxs("button",{type:"submit",className:"primary-button",disabled:A,children:[o.jsx(xN,{size:16})," Save recipe"]})]}),o.jsx("hr",{className:"prompt-palette__divider"}),o.jsx("div",{className:"prompt-palette__list",children:N.length===0?o.jsx("p",{className:"studio-output__placeholder",children:"Save your current prompt to build a reusable palette of openers and tonal guides."}):N.map(E=>{var R;return o.jsxs("article",{className:"prompt-recipe-card",children:[o.jsxs("header",{children:[o.jsxs("div",{children:[o.jsx("h4",{children:E.title}),o.jsxs("div",{className:"prompt-recipe-card__meta",children:[E.bestModel&&o.jsxs("span",{children:["Model: ",E.bestModel]}),(R=E.tags)!=null&&R.length?o.jsx("span",{children:E.tags.join(" ")}):null]})]}),o.jsx("time",{children:new Date(E.updatedAt).toLocaleDateString()})]}),o.jsxs("p",{className:"prompt-recipe-card__notes",children:[E.toneNotes&&o.jsxs("span",{children:[o.jsx("strong",{children:"Tone:"})," ",E.toneNotes]}),E.pacingNotes&&o.jsxs("span",{children:[o.jsx("strong",{children:"Pacing:"})," ",E.pacingNotes]})]}),o.jsx("pre",{className:"prompt-recipe-card__prompt",children:E.prompt}),o.jsxs("div",{className:"prompt-recipe-card__actions",children:[o.jsxs("button",{type:"button",className:"ghost-button",onClick:()=>{i(E),b("muted"),j(`Loaded "${E.title}" into the editor.`)},children:[o.jsx(Zr,{size:16})," Use"]}),o.jsxs("button",{type:"button",className:"ghost-button",onClick:()=>{a(E),b("muted"),j(`Remixed a fresh variant of "${E.title}".`)},children:[o.jsx(LN,{size:16})," Remix"]}),o.jsxs("button",{type:"button",className:"ghost-button",onClick:async()=>{try{await c(E),b("muted"),j("Copied a sharable prompt bundle to your clipboard.")}catch(L){console.error(L),b("error"),j("Unable to copy the recipe. Check clipboard permissions and try again.")}},children:[o.jsx(fu,{size:16})," Share"]}),o.jsxs("button",{type:"button",className:"ghost-button ghost-button--danger",onClick:()=>{l(E.id),b("muted"),j(`Removed "${E.title}" from your palette.`)},children:[o.jsx(Vi,{size:16})," Delete"]})]})]},E.id)})})]})}const go=3;function vu(e){return e?e.split(new RegExp("(?<=[.!?])\\s+")).map(t=>t.trim()).filter(Boolean):[]}function dA(e,t){const n=vu(e),r=vu(t);if(!n.length||!r.length)return{uniqueSentences:r.slice(0,3),overlapScore:0};const s=new Set(n.map(l=>l.toLowerCase())),i=r.filter(l=>!s.has(l.toLowerCase())),a=1-i.length/Math.max(r.length,1);return{uniqueSentences:i.slice(0,3),overlapScore:a}}function hA({metadata:e,providers:t,modelSelections:n,apiKeys:r,selectedProviderId:s,selectedModel:i,experiments:a,workingExperiment:l,onRun:c,onMarkWinner:u,onAdopt:d,error:f,isRunning:m}){const[x,k]=g.useState(()=>[{providerId:s,model:i}]),[v,C]=g.useState(null),h=g.useMemo(()=>new Map(t.map(N=>[N.id,N])),[t]),p=g.useMemo(()=>{if(e.targetTokens&&e.targetTokens>0)return e.targetTokens;switch(e.targetLength){case"short":return 900;case"medium":return 1500;case"long":return 2200;default:return 1400}},[e]);g.useEffect(()=>{k(N=>N.find(E=>E.providerId===s)?N.map(E=>E.providerId===s?{providerId:s,model:i}:E):[{providerId:s,model:i},...N].slice(0,go))},[s,i]);const y=g.useMemo(()=>[{id:"openai-anthropic",label:"OpenAI vs Anthropic",providers:["openai","anthropic"]},{id:"openai-gemini",label:"OpenAI vs Gemini",providers:["openai","gemini"]},{id:"openai-deepseek",label:"OpenAI vs DeepSeek",providers:["openai","deepseek"]},{id:"anthropic-gemini",label:"Anthropic vs Gemini",providers:["anthropic","gemini"]}].filter(P=>P.providers.every(E=>h.has(E))),[h]),j=N=>{C(null),k(N.slice(0,go).map(P=>{const E=h.get(P),R=n[P]??(E==null?void 0:E.defaultModel)??"";return{providerId:P,model:R}}))},S=N=>{k(P=>{if(P.find(z=>z.providerId===N))return P.filter(z=>z.providerId!==N);if(P.length>=go)return C(`Pick up to ${go} providers at once.`),P;const R=t.find(z=>z.id===N),L=n[N]??(R==null?void 0:R.defaultModel)??"";return[...P,{providerId:N,model:L}]})},b=(N,P)=>{k(E=>E.map(R=>R.providerId===N?{providerId:N,model:P}:R))},T=async N=>{if(N.preventDefault(),C(null),x.length<2){C("Select at least two providers to compare.");return}await c(x)},A=g.useMemo(()=>l?[l,...a]:a,[l,a]);return o.jsxs("div",{className:"studio-panel",children:[o.jsx("header",{className:"studio-panel__header",children:o.jsxs("div",{children:[o.jsx("h3",{children:"Model A/B explorer"}),o.jsx("p",{children:"Stack providers side by side, then vote on the strongest draft."})]})}),o.jsxs("form",{className:"ab-explorer__form",onSubmit:T,children:[o.jsxs("fieldset",{children:[o.jsx("legend",{children:"Pick competitors"}),o.jsx("div",{className:"ab-explorer__provider-grid",children:t.map(N=>{const P=x.some(R=>R.providerId===N.id),E=!!r[N.id];return o.jsxs("label",{className:P?"ab-provider ab-provider--active":"ab-provider",children:[o.jsx("input",{type:"checkbox",checked:P,onChange:()=>S(N.id)}),o.jsxs("div",{children:[o.jsx("strong",{children:N.label}),o.jsx("small",{children:E?"Key ready":"Missing key"})]})]},N.id)})}),o.jsxs("p",{className:"ab-explorer__hint",children:["Token budget target  ",p]})]}),y.length>0&&o.jsxs("div",{className:"ab-explorer__quick",children:[o.jsx("span",{children:"Quick compare:"}),o.jsx("div",{children:y.map(N=>o.jsx("button",{type:"button",className:"text-button",onClick:()=>j(N.providers),children:N.label},N.id))})]}),o.jsx("div",{className:"ab-explorer__models",children:x.map(N=>{const P=t.find(E=>E.id===N.providerId);return P?o.jsxs("label",{children:[o.jsxs("span",{children:[P.label," model"]}),o.jsx("select",{value:N.model,onChange:E=>b(P.id,E.target.value),children:P.models.map(E=>o.jsx("option",{value:E,children:E},E))})]},P.id):null})}),(v||f)&&o.jsx("div",{className:"notice notice--error",children:v||f}),o.jsx("button",{type:"submit",className:"primary-button",disabled:m,children:m?o.jsxs(o.Fragment,{children:[o.jsx(va,{className:"spin",size:16})," Comparing"]}):o.jsxs(o.Fragment,{children:[o.jsx(DN,{size:16})," Run comparison"]})})]}),A.length===0?o.jsx("div",{className:"ab-explorer__empty",children:o.jsx("p",{children:"Pick at least two providers and run a comparison to see side-by-side drafts and cost estimates."})}):o.jsx("div",{className:"ab-explorer__experiments",children:A.map(N=>{const P=N.variants.find(L=>L.status==="success"),E=N.winnerId?N.variants.find(L=>L.id===N.winnerId):null,R=(l==null?void 0:l.id)===N.id&&m;return o.jsxs("section",{className:"ab-experiment",children:[o.jsxs("header",{children:[o.jsxs("div",{children:[o.jsxs("h4",{children:["Comparison run  ",new Date(N.createdAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]}),o.jsx("small",{children:vu(N.prompt).slice(0,1).join(" ")||"Prompt snapshot"})]}),E&&o.jsxs("span",{className:"ab-experiment__winner",children:["Winner: ",E.providerLabel]})]}),o.jsx("div",{className:"ab-experiment__variants",children:N.variants.map(L=>{const z=dA(P==null?void 0:P.content,L.content),Ye=N.winnerId===L.id;return o.jsxs("article",{className:Ye?"ab-variant-card ab-variant-card--winner":"ab-variant-card",children:[o.jsxs("header",{children:[o.jsxs("div",{children:[o.jsxs("strong",{children:[L.providerLabel,"  ",L.model]}),o.jsxs("span",{className:`ab-variant-status ab-variant-status--${L.status}`,children:[L.status==="pending"&&o.jsxs(o.Fragment,{children:[o.jsx(va,{className:"spin",size:14})," Pending"]}),L.status==="success"&&o.jsxs(o.Fragment,{children:[o.jsx(Zf,{size:14})," Ready"]}),L.status==="error"&&o.jsxs(o.Fragment,{children:[o.jsx(UN,{size:14})," Failed"]})]})]}),o.jsxs("dl",{children:[o.jsxs("div",{children:[o.jsx("dt",{children:"Cost est."}),o.jsxs("dd",{children:["$",L.costEstimate.toFixed(3)]})]}),o.jsxs("div",{children:[o.jsx("dt",{children:"Tokens"}),o.jsx("dd",{children:L.tokensUsed??L.estimatedTokens})]}),typeof L.durationMs=="number"&&o.jsxs("div",{children:[o.jsx("dt",{children:"Latency"}),o.jsxs("dd",{children:[Math.round(L.durationMs)," ms"]})]})]})]}),L.status==="error"?o.jsx("p",{className:"ab-variant-error",children:L.error??"Generation failed."}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"ab-variant-diff",children:[o.jsxs("h5",{children:[o.jsx(jN,{size:14})," Standout beats (",Math.round(z.overlapScore*100),"% overlap)"]}),z.uniqueSentences.length?o.jsx("ul",{children:z.uniqueSentences.map((Se,q)=>o.jsx("li",{children:Se},q))}):o.jsx("p",{children:"No major deviations from baseline."})]}),o.jsx("pre",{className:"ab-variant-snippet",children:(L.content??"").slice(0,600)||"Awaiting generation output"})]}),o.jsxs("div",{className:"ab-variant-actions",children:[o.jsxs("button",{type:"button",className:"ghost-button",disabled:L.status!=="success"||R,onClick:()=>u(N.id,L.id),children:[o.jsx(BN,{size:16})," Vote winner"]}),o.jsxs("button",{type:"button",className:"ghost-button",disabled:L.status!=="success",onClick:()=>d(N.id,L.id),children:[o.jsx(Zf,{size:16})," Adopt draft"]})]})]},L.id)})})]},N.id)})})]})}const pA={character:"Character",plot:"Plot thread",world:"World fact"};function fA(e){return e.join(", ")}function cm(e){return e.split(",").map(t=>t.trim()).filter(Boolean)}function mA({entries:e,warnings:t,onCreate:n,onUpdate:r,onDelete:s,onQuickAdd:i}){const[a,l]=g.useState("character"),[c,u]=g.useState(""),[d,f]=g.useState(""),[m,x]=g.useState(""),[k,v]=g.useState(null),[C,h]=g.useState(""),[p,y]=g.useState(""),[j,S]=g.useState(""),b=g.useMemo(()=>e.reduce((E,R)=>(E[R.type]=E[R.type]?[...E[R.type],R]:[R],E),{character:[],plot:[],world:[]}),[e]),T=E=>{E.preventDefault(),c.trim()&&(n({type:a,label:c.trim(),summary:d.trim(),traits:cm(m)}),u(""),f(""),x(""))},A=E=>{v(E.id),h(E.label),y(E.summary),S(fA(E.traits))},N=E=>{k&&(r(E.id,{type:E.type,label:C.trim()||E.label,summary:p.trim(),traits:cm(j)}),v(null),h(""),y(""),S(""))},P=()=>{v(null),h(""),y(""),S("")};return o.jsxs("div",{className:"studio-panel continuity-panel",children:[o.jsx("header",{className:"studio-panel__header",children:o.jsxs("div",{children:[o.jsx("h3",{children:"Continuity coach"}),o.jsx("p",{children:"Track characters, threads, and world details as you draft."})]})}),o.jsxs("form",{className:"continuity-form",onSubmit:T,children:[o.jsxs("label",{children:[o.jsx("span",{children:"Entry type"}),o.jsxs("select",{value:a,onChange:E=>l(E.target.value),children:[o.jsx("option",{value:"character",children:"Character"}),o.jsx("option",{value:"plot",children:"Plot thread"}),o.jsx("option",{value:"world",children:"World fact"})]})]}),o.jsxs("label",{children:[o.jsx("span",{children:"Name / label"}),o.jsx("input",{value:c,onChange:E=>u(E.target.value),placeholder:"e.g. Captain Mara Ives"})]}),o.jsxs("label",{children:[o.jsx("span",{children:"Summary"}),o.jsx("textarea",{rows:3,value:d,onChange:E=>f(E.target.value),placeholder:"Role, motivations, key beats, or world rules."})]}),o.jsxs("label",{children:[o.jsx("span",{children:"Key traits (comma separated)"}),o.jsx("input",{value:m,onChange:E=>x(E.target.value),placeholder:"green eyes, veteran pilot, secret agenda"})]}),o.jsxs("button",{type:"submit",className:"ghost-button",children:[o.jsx(bN,{size:16})," Add to continuity"]})]}),t.length>0&&o.jsx("div",{className:"continuity-warnings",children:t.map(E=>o.jsxs("article",{className:`continuity-warning continuity-warning--${E.severity}`,children:[o.jsx("span",{className:"continuity-warning__icon",children:E.severity==="error"?o.jsx(vN,{size:14}):E.severity==="warn"?o.jsx(em,{size:14}):o.jsx(em,{size:14})}),o.jsxs("div",{children:[o.jsx("p",{children:E.message}),E.suggestion&&o.jsx("small",{children:E.suggestion}),E.candidate&&o.jsxs("button",{type:"button",className:"ghost-button",onClick:()=>i(E.candidate),children:["Track ",E.candidate.label]})]})]},E.id))}),o.jsx("div",{className:"continuity-groups",children:Object.keys(b).map(E=>o.jsxs("section",{className:"continuity-group",children:[o.jsxs("header",{children:[o.jsx("h4",{children:pA[E]}),o.jsx("span",{children:b[E].length})]}),b[E].length===0?o.jsx("p",{className:"continuity-empty",children:"Nothing tracked yet."}):o.jsx("ul",{children:b[E].map(R=>{const L=k===R.id;return o.jsxs("li",{className:"continuity-entry",children:[o.jsxs("div",{className:"continuity-entry__header",children:[o.jsx("strong",{children:L?o.jsx("input",{value:C,onChange:z=>h(z.target.value)}):R.label}),o.jsx("div",{className:"continuity-entry__actions",children:L?o.jsxs(o.Fragment,{children:[o.jsx("button",{type:"button",className:"ghost-button",onClick:()=>N(R),children:"Save"}),o.jsx("button",{type:"button",className:"ghost-button",onClick:P,children:"Cancel"})]}):o.jsxs(o.Fragment,{children:[o.jsxs("button",{type:"button",className:"ghost-button",onClick:()=>A(R),children:[o.jsx(MN,{size:14})," Edit"]}),o.jsxs("button",{type:"button",className:"ghost-button ghost-button--danger",onClick:()=>s(R.id),children:[o.jsx(Vi,{size:14})," Remove"]})]})})]}),o.jsxs("div",{className:"continuity-entry__body",children:[L?o.jsx("textarea",{rows:3,value:p,onChange:z=>y(z.target.value)}):o.jsx("p",{children:R.summary||"No summary yet."}),o.jsxs("div",{className:"continuity-entry__traits",children:[o.jsx("span",{children:"Traits"}),L?o.jsx("input",{value:j,onChange:z=>S(z.target.value),placeholder:"comma separated traits"}):R.traits.length?o.jsx("ul",{children:R.traits.map(z=>o.jsx("li",{children:z},z))}):o.jsx("small",{children:"None listed."})]})]})]},R.id)})})]},E))})]})}const G0=g.createContext(void 0),Y0="sf:collaboration-invites";function yA(){const e=localStorage.getItem(Y0);if(!e)return{invites:[]};try{return{invites:JSON.parse(e)}}catch(t){return console.error("Failed to parse collaboration invites",t),{invites:[]}}}function vo(e){localStorage.setItem(Y0,JSON.stringify(e.invites))}function gA(e,t){switch(t.type){case"send":{const r={invites:[t.invite,...e.invites]};return vo(r),r}case"accept":{const r={invites:e.invites.map(s=>s.id===t.inviteId?{...s,status:"accepted",respondedAt:new Date().toISOString()}:s)};return vo(r),r}case"reject":{const r={invites:e.invites.map(s=>s.id===t.inviteId?{...s,status:"rejected",respondedAt:new Date().toISOString()}:s)};return vo(r),r}case"cancel":{const r={invites:e.invites.filter(s=>s.id!==t.inviteId)};return vo(r),r}default:return e}}function vA({children:e}){const[t,n]=g.useReducer(gA,void 0,yA),{user:r}=Te(),s=g.useCallback(m=>{if(!r)throw new Error("Must be logged in to send invitations");if(t.invites.find(v=>v.storyId===m.storyId&&v.toUserId===m.toUserId&&v.status==="pending"))throw new Error("An invitation is already pending for this user");const k={id:ge("invite"),storyId:m.storyId,storyTitle:m.storyTitle,fromUserId:r.id,fromUsername:r.username,toUserId:m.toUserId,toUsername:m.toUsername,role:m.role,status:"pending",createdAt:new Date().toISOString()};return n({type:"send",invite:k}),k},[r,t.invites]),i=g.useCallback(m=>{n({type:"accept",inviteId:m})},[]),a=g.useCallback(m=>{n({type:"reject",inviteId:m})},[]),l=g.useCallback(m=>{n({type:"cancel",inviteId:m})},[]),c=g.useCallback(m=>t.invites.filter(x=>x.toUserId===m),[t.invites]),u=g.useCallback(m=>t.invites.filter(x=>x.storyId===m),[t.invites]),d=g.useCallback(m=>t.invites.filter(x=>x.toUserId===m&&x.status==="pending").length,[t.invites]),f=g.useMemo(()=>({invites:t.invites,sendInvite:s,acceptInvite:i,rejectInvite:a,cancelInvite:l,getInvitesForUser:c,getInvitesForStory:u,getPendingInvitesCount:d}),[t.invites,s,i,a,l,c,u,d]);return o.jsx(G0.Provider,{value:f,children:e})}function xA(){const e=g.useContext(G0);if(!e)throw new Error("useCollaboration must be used within CollaborationProvider");return e}const Q0="sf:workspace";function xu(e){var t,n,r,s;return{...e,title:((t=e.title)==null?void 0:t.trim())||"Untitled recipe",prompt:e.prompt,toneNotes:((n=e.toneNotes)==null?void 0:n.trim())||void 0,pacingNotes:((r=e.pacingNotes)==null?void 0:r.trim())||void 0,bestModel:((s=e.bestModel)==null?void 0:s.trim())||void 0,tags:Array.isArray(e.tags)?e.tags.filter(Boolean):[],createdAt:e.createdAt??new Date().toISOString(),updatedAt:e.updatedAt??new Date().toISOString()}}function wA(e){return{...e,createdAt:e.createdAt??new Date().toISOString(),prompt:e.prompt??"",summary:e.summary??"",winnerId:e.winnerId??null,variants:(e.variants||[]).map(t=>({...t,status:t.status||"success",costEstimate:Number.isFinite(t.costEstimate)?t.costEstimate:0,estimatedTokens:Number.isFinite(t.estimatedTokens)?t.estimatedTokens:0,createdAt:t.createdAt??e.createdAt??new Date().toISOString()}))}}function wu(e){var t,n;return{...e,label:((t=e.label)==null?void 0:t.trim())||"Untitled",summary:((n=e.summary)==null?void 0:n.trim())||"",traits:Array.isArray(e.traits)?e.traits.filter(Boolean):[],createdAt:e.createdAt??new Date().toISOString(),updatedAt:e.updatedAt??new Date().toISOString()}}function J0(e){return{...e,kind:e.kind??"sensory",response:e.response??"",createdAt:e.createdAt??new Date().toISOString()}}function jA(){var t;const e=localStorage.getItem(Q0);if(!e)return{drafts:[],activeDraftId:null,promptRecipes:[]};try{const n=JSON.parse(e),r=(n.drafts||[]).map(i=>{var a;return{...i,summary:i.summary??"",updatedAt:i.updatedAt??i.generatedAt??new Date().toISOString(),feedbackThreads:i.feedbackThreads??[],abExperiments:(i.abExperiments||[]).map(wA),continuity:{entries:(a=i.continuity)!=null&&a.entries?i.continuity.entries.map(wu):[]},sensoryPasses:(i.sensoryPasses||[]).map(J0)}}),s=(n.promptRecipes||[]).map(xu);return{drafts:r,activeDraftId:n.activeDraftId??((t=r[0])==null?void 0:t.id)??null,promptRecipes:s}}catch(n){return console.error("Failed to parse workspace",n),{drafts:[],activeDraftId:null,promptRecipes:[]}}}function gt(e){localStorage.setItem(Q0,JSON.stringify(e))}const X0=g.createContext(void 0);function SA(e,t){switch(t.type){case"create":{const n=[t.draft,...e.drafts],r={...e,drafts:n,activeDraftId:t.draft.id};return gt(r),r}case"update":{const n=e.drafts.map(s=>s.id===t.draftId?{...s,...t.patch,updatedAt:new Date().toISOString()}:s),r={...e,drafts:n};return gt(r),r}case"append":{const n=e.drafts.map(s=>s.id===t.draftId?{...s,content:s.content+t.content,generatedAt:t.timestamp??new Date().toISOString(),updatedAt:new Date().toISOString()}:s),r={...e,drafts:n};return gt(r),r}case"feedback":{const n=e.drafts.map(s=>s.id===t.draftId?{...s,feedbackThreads:[t.feedback,...s.feedbackThreads],updatedAt:new Date().toISOString()}:s),r={...e,drafts:n};return gt(r),r}case"select":{const n={...e,activeDraftId:t.draftId};return gt(n),n}case"reset":{const n={...e,drafts:[],activeDraftId:null};return gt(n),n}case"prompt_upsert":{const r=e.promptRecipes.find(i=>i.id===t.recipe.id)?e.promptRecipes.map(i=>i.id===t.recipe.id?t.recipe:i):[t.recipe,...e.promptRecipes],s={...e,promptRecipes:r};return gt(s),s}case"prompt_delete":{const n=e.promptRecipes.filter(s=>s.id!==t.recipeId),r={...e,promptRecipes:n};return gt(r),r}case"continuity_add":{const n=e.drafts.map(s=>{var i;return s.id===t.draftId?{...s,continuity:{entries:[t.entry,...((i=s.continuity)==null?void 0:i.entries)??[]]},updatedAt:new Date().toISOString()}:s}),r={...e,drafts:n};return gt(r),r}case"continuity_update":{const n=e.drafts.map(s=>{var i;return s.id===t.draftId?{...s,continuity:{entries:(((i=s.continuity)==null?void 0:i.entries)??[]).map(a=>a.id===t.entry.id?t.entry:a)},updatedAt:new Date().toISOString()}:s}),r={...e,drafts:n};return gt(r),r}case"continuity_delete":{const n=e.drafts.map(s=>{var i;return s.id===t.draftId?{...s,continuity:{entries:(((i=s.continuity)==null?void 0:i.entries)??[]).filter(a=>a.id!==t.entryId)},updatedAt:new Date().toISOString()}:s}),r={...e,drafts:n};return gt(r),r}case"sensory_pass_add":{const n=e.drafts.map(s=>s.id===t.draftId?{...s,sensoryPasses:[t.pass,...s.sensoryPasses??[]],updatedAt:new Date().toISOString()}:s),r={...e,drafts:n};return gt(r),r}default:return e}}function kA({children:e}){const[t,n]=g.useReducer(SA,void 0,jA),r=g.useCallback(({metadata:h,prompt:p,summary:y})=>{const j={id:ge("draft"),metadata:h,prompt:p,summary:y??"",content:"",feedbackThreads:[],abExperiments:[],continuity:{entries:[]},sensoryPasses:[],generatedAt:void 0,updatedAt:new Date().toISOString()};return n({type:"create",draft:j}),j},[]),s=g.useCallback((h,p)=>{n({type:"update",draftId:h,patch:p})},[]),i=g.useCallback((h,p,y)=>{n({type:"append",draftId:h,content:p,timestamp:y})},[]),a=g.useCallback((h,p)=>{const y={id:ge("fbk"),createdAt:new Date().toISOString(),...p};return n({type:"feedback",draftId:h,feedback:y}),y},[]),l=g.useCallback(h=>{n({type:"select",draftId:h})},[]),c=g.useCallback(()=>{n({type:"reset"})},[]),u=g.useCallback(h=>{const p=new Date().toISOString(),y=xu({id:ge("prompt"),createdAt:p,updatedAt:p,title:h.title,prompt:h.prompt,toneNotes:h.toneNotes,pacingNotes:h.pacingNotes,bestModel:h.bestModel,tags:h.tags});return n({type:"prompt_upsert",recipe:y}),y},[]),d=g.useCallback((h,p)=>{const y=t.promptRecipes.find(b=>b.id===h);if(!y){console.warn(`Attempted to update missing recipe ${h}`);return}const j=new Date().toISOString(),S=xu({...y,title:p.title??y.title,prompt:p.prompt??y.prompt,toneNotes:p.toneNotes??y.toneNotes,pacingNotes:p.pacingNotes??y.pacingNotes,bestModel:p.bestModel??y.bestModel,tags:p.tags??y.tags,createdAt:y.createdAt,updatedAt:j});n({type:"prompt_upsert",recipe:S})},[t.promptRecipes]),f=g.useCallback(h=>{n({type:"prompt_delete",recipeId:h})},[]),m=g.useCallback((h,p)=>{const y=wu({id:ge("continuity"),type:p.type,label:p.label,summary:p.summary,traits:p.traits??[],createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()});return n({type:"continuity_add",draftId:h,entry:y}),y},[]),x=g.useCallback((h,p,y)=>{var T;const j=t.drafts.find(A=>A.id===h);if(!j){console.warn(`Attempted to update continuity on missing draft ${h}`);return}const S=(T=j.continuity)==null?void 0:T.entries.find(A=>A.id===p);if(!S){console.warn(`Attempted to update missing continuity entry ${p}`);return}const b=wu({...S,type:y.type??S.type,label:y.label??S.label,summary:y.summary??S.summary,traits:y.traits??S.traits,createdAt:S.createdAt,updatedAt:new Date().toISOString()});n({type:"continuity_update",draftId:h,entry:b})},[t.drafts]),k=g.useCallback((h,p)=>{n({type:"continuity_delete",draftId:h,entryId:p})},[]),v=g.useCallback((h,p)=>{const y=J0(p);n({type:"sensory_pass_add",draftId:h,pass:y})},[]),C=g.useMemo(()=>{const h=t.activeDraftId?t.drafts.find(p=>p.id===t.activeDraftId)??null:t.drafts[0]??null;return{drafts:t.drafts,activeDraft:h,createDraft:r,updateDraft:s,appendContent:i,addFeedback:a,selectDraft:l,resetWorkspace:c,promptRecipes:t.promptRecipes,createPromptRecipe:u,updatePromptRecipe:d,deletePromptRecipe:f,addContinuityEntry:m,updateContinuityEntry:x,deleteContinuityEntry:k,addSensoryPass:v}},[t,r,s,i,a,l,c,u,d,f,m,x,k,v]);return o.jsx(X0.Provider,{value:C,children:e})}function q0(){const e=g.useContext(X0);if(!e)throw new Error("useWorkspace must be used within WorkspaceProvider");return e}function bA({draftId:e}){const{user:t}=Te(),{sendInvite:n,getInvitesForStory:r,cancelInvite:s}=xA(),{activeDraft:i,updateDraft:a}=q0(),[l,c]=g.useState(!1),[u,d]=g.useState(""),[f,m]=g.useState("viewer"),[x,k]=g.useState(null);if(!t||!i)return null;const v=i.collaboration,C=(v==null?void 0:v.ownerId)===t.id,h=r(e).filter(b=>b.status==="pending"),p=()=>{a(e,{collaboration:{ownerId:t.id,collaborators:[],isPublic:!1,allowComments:!0}})},y=async()=>{k(null);try{const b=`user_${u.toLowerCase()}`;n({storyId:e,storyTitle:i.metadata.title||"Untitled Story",toUserId:b,toUsername:u,role:f}),d(""),c(!1)}catch(b){k(b instanceof Error?b.message:"Failed to send invite")}},j=b=>{v&&a(e,{collaboration:{...v,collaborators:v.collaborators.filter(T=>T.userId!==b)}})},S=()=>{v&&a(e,{collaboration:{...v,isPublic:!v.isPublic}})};return v?o.jsxs("div",{className:"studio-panel",children:[o.jsxs("header",{className:"studio-panel__header",children:[o.jsxs("div",{children:[o.jsx("h3",{children:"Collaboration"}),o.jsx("p",{children:"Manage who can access this story"})]}),C&&o.jsx("button",{onClick:()=>c(!l),className:"ghost-button",type:"button",children:l?"Cancel":"Invite"})]}),o.jsxs("div",{style:{padding:"16px"},children:[x&&o.jsx("div",{className:"notice notice--error",style:{marginBottom:"16px"},children:x}),l&&o.jsxs("div",{style:{marginBottom:"24px",display:"grid",gap:"12px"},children:[o.jsx("input",{type:"text",placeholder:"Username",value:u,onChange:b=>d(b.target.value),style:{padding:"8px",borderRadius:"4px",border:"1px solid #333"}}),o.jsxs("select",{value:f,onChange:b=>m(b.target.value),style:{padding:"8px",borderRadius:"4px",border:"1px solid #333"},children:[o.jsx("option",{value:"viewer",children:"Viewer (read only)"}),o.jsx("option",{value:"commenter",children:"Commenter (view + comment)"}),o.jsx("option",{value:"editor",children:"Editor (full access)"})]}),o.jsx("button",{onClick:y,className:"primary-button",type:"button",children:"Send Invite"})]}),C&&o.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"16px"},children:[o.jsx("input",{type:"checkbox",checked:v.isPublic,onChange:S}),o.jsx("span",{children:"Public collaboration (anyone can view)"})]}),o.jsxs("div",{style:{marginBottom:"16px"},children:[o.jsxs("h4",{style:{marginBottom:"8px"},children:["Collaborators (",v.collaborators.length,")"]}),v.collaborators.length===0?o.jsx("p",{style:{color:"#888",fontSize:"14px"},children:"No collaborators yet"}):o.jsx("ul",{style:{listStyle:"none",padding:0,margin:0},children:v.collaborators.map(b=>o.jsxs("li",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"8px",borderBottom:"1px solid #222"},children:[o.jsxs("div",{children:[o.jsx("div",{style:{fontWeight:"bold"},children:b.username}),o.jsx("div",{style:{fontSize:"12px",color:"#888"},children:b.role})]}),C&&o.jsx("button",{onClick:()=>j(b.userId),className:"ghost-button",type:"button",style:{fontSize:"12px",padding:"4px 8px"},children:"Remove"})]},b.userId))})]}),C&&h.length>0&&o.jsxs("div",{children:[o.jsxs("h4",{style:{marginBottom:"8px"},children:["Pending Invites (",h.length,")"]}),o.jsx("ul",{style:{listStyle:"none",padding:0,margin:0},children:h.map(b=>o.jsxs("li",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"8px",borderBottom:"1px solid #222"},children:[o.jsxs("div",{children:[o.jsx("div",{children:b.toUsername}),o.jsx("div",{style:{fontSize:"12px",color:"#888"},children:b.role})]}),o.jsx("button",{onClick:()=>s(b.id),className:"ghost-button",type:"button",style:{fontSize:"12px",padding:"4px 8px"},children:"Cancel"})]},b.id))})]})]})]}):o.jsxs("div",{className:"studio-panel",children:[o.jsx("header",{className:"studio-panel__header",children:o.jsxs("div",{children:[o.jsx("h3",{children:"Collaboration"}),o.jsx("p",{children:"Invite others to work on this story with you"})]})}),o.jsxs("div",{style:{padding:"16px",textAlign:"center"},children:[o.jsx("p",{style:{marginBottom:"16px",color:"#888"},children:"Enable collaboration to invite others to work on this story with you."}),o.jsx("button",{onClick:p,className:"primary-button",type:"button",children:"Enable Collaboration"})]})]})}function CA({lines:e=6,lineWidth:t="100%"}){const n=Array.from({length:e});return o.jsx("div",{className:"skeleton-lines",children:n.map((r,s)=>o.jsx(g.Fragment,{children:o.jsx("div",{className:"skeleton skeleton-line",style:{width:s===e-1?t:"100%"}})},s))})}const Z0=g.createContext(void 0),um="sf:provider-keys",dm="sf:provider-selected",hm="sf:provider-custom",pm="sf:provider-models",fm=[{id:"openai",label:"OpenAI",docsUrl:"https://platform.openai.com/docs",models:["gpt-4o-mini","gpt-4o"],defaultModel:"gpt-4o-mini",type:"chat"},{id:"anthropic",label:"Anthropic Claude",docsUrl:"https://docs.anthropic.com",models:["claude-3-5-haiku-latest","claude-3-5-sonnet","claude-3-5-opus","claude-3-opus","claude-3-haiku"],defaultModel:"claude-3-5-haiku-latest",type:"chat"},{id:"gemini",label:"Google Gemini",docsUrl:"https://ai.google.dev/gemini-api/docs",models:["gemini-1.5-flash-001","gemini-1.5-flash","gemini-1.5-flash-8b","gemini-1.5-flash-8b-001","gemini-1.5-pro-001","gemini-1.5-pro","gemini-1.5-pro-exp"],defaultModel:"gemini-1.5-flash-001",type:"chat"},{id:"deepseek",label:"DeepSeek",docsUrl:"https://api-docs.deepseek.com/",models:["deepseek-chat","deepseek-reasoner","deepseek-coder","deepseek-math"],defaultModel:"deepseek-chat",type:"chat"}];function xo(e,t){const n=localStorage.getItem(e);if(!n)return t;try{return JSON.parse(n)}catch(r){return console.error(`Failed to parse ${e}`,r),t}}function NA({children:e}){const[t,n]=g.useState(()=>xo(um,{})),[r,s]=g.useState(()=>xo(hm,[])),[i,a]=g.useState(()=>xo(dm,fm[0].id)),[l,c]=g.useState(()=>xo(pm,{})),u=g.useMemo(()=>[...fm,...r],[r]),d=g.useMemo(()=>u.find(p=>p.id===i)??u[0],[u,i]),f=g.useMemo(()=>{const h=l[d.id];return h&&d.models.includes(h)?h:d.defaultModel},[l,d]),m=g.useCallback((h,p)=>{const y=p.trim();n(j=>{const S={...j};return y?S[h]=y:delete S[h],localStorage.setItem(um,JSON.stringify(S)),S})},[]),x=g.useCallback(h=>{a(h),localStorage.setItem(dm,JSON.stringify(h))},[]),k=g.useCallback((h,p)=>{c(y=>{const j={...y,[h]:p};return localStorage.setItem(pm,JSON.stringify(j)),j})},[]),v=g.useCallback(h=>{var y;const p={id:`custom:${ge("prov")}`,label:h.label,models:h.models??["text-generation"],docsUrl:h.docsUrl??"",defaultModel:((y=h.models)==null?void 0:y[0])??"text-generation",type:"chat"};return s(j=>{const S=[...j,p];return localStorage.setItem(hm,JSON.stringify(S)),S}),k(p.id,p.defaultModel),p},[k]),C=g.useMemo(()=>({providers:u,selectedProvider:d,selectedModel:f,apiKeys:t,modelSelections:l,setApiKey:m,selectProvider:x,setModel:k,registerCustomProvider:v}),[u,d,f,t,l,m,x,k,v]);return o.jsx(Z0.Provider,{value:C,children:e})}function ex(){const e=g.useContext(Z0);if(!e)throw new Error("useProviderRegistry must be used within ProviderRegistryProvider");return e}const tx=g.createContext(void 0);function AA(e,t){switch(t.type){case"append":return{entries:[t.entry,...e.entries].slice(0,200)};case"clear":return{entries:[]};default:return e}}function PA({children:e}){const[t,n]=g.useReducer(AA,{entries:[]}),[r,s]=g.useState(!1),i=g.useCallback(u=>{n({type:"append",entry:{id:ge("log"),timestamp:new Date().toISOString(),...u}})},[]),a=g.useCallback(()=>n({type:"clear"}),[]),l=g.useCallback(()=>s(u=>!u),[]);g.useEffect(()=>{const u=d=>{d.altKey&&d.key.toLowerCase()==="d"&&(d.preventDefault(),s(f=>!f))};return window.addEventListener("keydown",u),()=>window.removeEventListener("keydown",u)},[]);const c=g.useMemo(()=>({logs:t.entries,append:i,clear:a,isConsoleOpen:r,toggleConsole:l}),[t.entries,i,a,r,l]);return o.jsx(tx.Provider,{value:c,children:e})}function Bi(){const e=g.useContext(tx);if(!e)throw new Error("useDebug must be used within a DebugProvider");return e}class se extends Error{constructor(t,n,r){super(t),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"payload",{enumerable:!0,configurable:!0,writable:!0,value:r}),this.name="AIClientError"}}function EA(e,t=6e4){let n;const r=new Promise((s,i)=>{n=setTimeout(()=>i(new se("Request timed out")),t)});return Promise.race([e,r]).finally(()=>clearTimeout(n))}async function Ui(e,t,n){try{return await EA(fetch(e,t))}catch(r){throw r instanceof TypeError?new se(`${n} request failed before reaching the API. If you're running locally, ensure the dev proxy is active (npm run dev) or configure a VITE_${n.replace(/\s+/g,"_").toUpperCase()}_BASE_URL override.`,void 0,{cause:String(r)}):r}}function Qa(e){return["You are Dreamscribe, an AI co-author who crafts immersive fiction while respecting the author's voice.","Write with cinematic detail, grounded emotions, and coherent pacing.",`Tone guidance: ${e.tone}`,`Genre: ${e.genre}`,`Narrative perspective: ${e.perspective}`,"Structure scenes with clear beats, rising tension, and satisfying payoff."].join(" ")}function Ja(e,t){return[`Title: ${e.title||"Untitled"}`,`Target length: ${TA(e.targetLength)}`,"Author instructions:",t.trim()].join(`

`)}function Xa(e,t,n){return["You are a developmental editor critiquing a work in progress.",`Story title: ${e.title}`,`Genre: ${e.genre}`,`Tone: ${e.tone}`,"First provide a concise summary of your feedback, then bullet actionable revisions. Quote lines where useful.","Draft:",t,"Feedback focus:",n].join(`

`)}function TA(e){switch(e){case"short":return"Flash (500-1,000 words)";case"medium":return"Short story (1,000-3,000 words)";case"long":return"Long form (3,000+ words)";default:return"Moderate"}}const _A="https://api.openai.com/v1/responses",RA="https://api.openai.com/v1/models";async function MA(e,t){var r,s;const n=await Ui(_A,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify(t)},"OpenAI");if(!n.ok){const i=await n.json().catch(()=>{}),a=((s=(r=i==null?void 0:i.error)==null?void 0:r.message)==null?void 0:s.trim())??"",l=a?`OpenAI error (${n.status}): ${a}`:`OpenAI error (${n.status})`;throw new se(l,n.status,i)}return n.json()}function mm(e,t){const n=[e??t,t,"gpt-4o-mini","gpt-4o","gpt-4o-mini-2024-07-18","gpt-4o-2024-08-06"];return Array.from(new Set(n.filter(Boolean)))}function ym(e){if(Array.isArray(e.output_text)&&e.output_text.length)return e.output_text.join(`
`).trim();if(Array.isArray(e.output)&&e.output.length){const t=e.output.map(n=>"text"in n&&typeof n.text=="string"?n.text:"").filter(Boolean).join(`
`).trim();if(t)return t}if(Array.isArray(e.response)&&e.response.length){const t=e.response.flatMap(n=>n.content??[]).map(n=>typeof n.text=="string"?n.text:"").filter(Boolean).join(`
`).trim();if(t)return t}return""}async function gm(e,t,n,r){let s;const i=await LA(e,t);if(i.length===0)throw new se("OpenAI models unavailable. This API key does not have access to gpt-4o or gpt-4o-mini.",404);for(const a of i)try{const l=await MA(e,n(a));return r(l)}catch(l){const c=l;if(c instanceof se&&c.status===404){s=c;continue}throw l}throw s instanceof Error?s:new se("OpenAI returned 404 for all fallback models")}const Gl=new Map,IA=60*60*1e3;async function LA(e,t){const n=Gl.get(e),r=Date.now();if(n&&r-n.timestamp<IA)return t.filter(i=>n.models.has(i));const s=new Set;return await Promise.all(t.map(async i=>{if(i)try{(await Ui(`${RA}/${encodeURIComponent(i)}`,{method:"GET",headers:{Authorization:`Bearer ${e}`}},"OpenAI")).ok&&s.add(i)}catch{}})),s.size===0?(Gl.set(e,{timestamp:r,models:new Set}),[]):(Gl.set(e,{timestamp:r,models:s}),t.filter(i=>s.has(i)))}const DA={async generateStory(e){const t=Qa(e.metadata),n=Ja(e.metadata,e.prompt),r=mm(e.model,e.provider.defaultModel);return await gm(e.apiKey,r,s=>({model:s,max_output_tokens:e.maxTokens??1400,temperature:e.temperature??.7,input:[{role:"system",content:[{type:"input_text",text:t}]},{role:"user",content:[{type:"input_text",text:n}]}]}),s=>{var a,l;const i=ym(s);if(!i)throw new se("OpenAI returned an empty response",void 0,s);return{content:i,tokensUsed:((a=s.usage)==null?void 0:a.total_tokens)??((l=s.usage)==null?void 0:l.output_tokens),raw:s}})},async requestFeedback(e){const t=Xa(e.metadata,e.draft,e.instruction),n=mm(e.model,e.provider.defaultModel);return await gm(e.apiKey,n,r=>({model:r,max_output_tokens:900,temperature:.4,input:[{role:"system",content:[{type:"input_text",text:"You are a world-class fiction editor offering constructive critiques."}]},{role:"user",content:[{type:"input_text",text:t}]}]}),r=>{var i,a;const s=ym(r);if(!s)throw new se("OpenAI returned an empty feedback response",void 0,r);return{content:s,tokensUsed:((i=r.usage)==null?void 0:i.total_tokens)??((a=r.usage)==null?void 0:a.output_tokens),raw:r}})}},OA="https://api.anthropic.com/v1/messages",FA="2023-06-01";async function vm(e,t){var r,s;const n=await Ui(OA,{method:"POST",headers:{"Content-Type":"application/json","x-api-key":e,"anthropic-version":FA},body:JSON.stringify(t)},"Anthropic");if(!n.ok){const i=await n.json().catch(()=>{}),a=((s=(r=i==null?void 0:i.error)==null?void 0:r.message)==null?void 0:s.trim())??"",l=a?`Anthropic error (${n.status}): ${a}`:`Anthropic error (${n.status})`;throw new se(l,n.status,i)}return n.json()}const VA={async generateStory(e){var s,i,a,l;const t={model:e.model??e.provider.defaultModel,max_tokens:e.maxTokens??1500,temperature:e.temperature??.7,system:Qa(e.metadata),messages:[{role:"user",content:[{type:"text",text:Ja(e.metadata,e.prompt)}]}]},n=await vm(e.apiKey,t),r=(a=(i=(s=n.content)==null?void 0:s[0])==null?void 0:i.text)==null?void 0:a.trim();if(!r)throw new se("Anthropic returned an empty response",void 0,n);return{content:r,tokensUsed:(l=n.usage)==null?void 0:l.output_tokens,raw:n}},async requestFeedback(e){var s,i,a,l;const t={model:e.model??e.provider.defaultModel,max_tokens:900,temperature:.3,system:"You are a precise, encouraging fiction editor.",messages:[{role:"user",content:[{type:"text",text:Xa(e.metadata,e.draft,e.instruction)}]}]},n=await vm(e.apiKey,t),r=(a=(i=(s=n.content)==null?void 0:s[0])==null?void 0:i.text)==null?void 0:a.trim();if(!r)throw new se("Anthropic returned an empty feedback response",void 0,n);return{content:r,tokensUsed:(l=n.usage)==null?void 0:l.output_tokens,raw:n}}},Yl="https://generativelanguage.googleapis.com";function xm(e,t){return`${Yl.endsWith("/")?Yl.slice(0,-1):Yl}/v1/models/${e}:generateContent?key=${encodeURIComponent(t)}`}async function wm(e,t){var r,s;const n=await Ui(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)},"Gemini");if(!n.ok){const i=await n.json().catch(()=>{}),a=((s=(r=i==null?void 0:i.error)==null?void 0:r.message)==null?void 0:s.trim())??"",l=a?`Gemini error (${n.status}): ${a}`:`Gemini error (${n.status})`;throw new se(l,n.status,i)}return n.json()}function jm(e){var n;const t=(n=e==null?void 0:e.content)==null?void 0:n.parts;if(Array.isArray(t))return t.map(r=>r==null?void 0:r.text).filter(Boolean).join(`
`).trim()}function Sm(e){const t=[e];return/^gemini-1\.5-flash$/.test(e)&&t.push("gemini-1.5-flash-001"),/^gemini-1\.5-flash-8b$/.test(e)&&t.push("gemini-1.5-flash-8b-001"),/^gemini-1\.5-pro$/.test(e)&&t.push("gemini-1.5-pro-001"),/^gemini-pro$/.test(e)&&t.push("gemini-1.5-pro","gemini-1.5-pro-001"),Array.from(new Set(t))}const BA={async generateStory(e){var i;const t=e.model??e.provider.defaultModel,n={contents:[{role:"user",parts:[{text:Qa(e.metadata)+`

`+Ja(e.metadata,e.prompt)}]}],generationConfig:{temperature:e.temperature??.75,maxOutputTokens:e.maxTokens??1400}},r=Sm(t);let s;for(const a of r)try{const l=xm(a,e.apiKey),c=await wm(l,n),u=(i=c.candidates)==null?void 0:i[0],d=jm(u);if(!d)throw new se("Gemini returned an empty response",void 0,c);return{content:d,raw:c}}catch(l){const c=l,u=String(c&&(c.message||c.payload)||"").toLowerCase();if(!(c&&c.status===404||u.includes("not found"))||a===r[r.length-1]){s=l;break}s=l}throw s},async requestFeedback(e){var i;const t=e.model??e.provider.defaultModel,n={contents:[{role:"user",parts:[{text:`You are an expert fiction editor offering constructive feedback.

`+Xa(e.metadata,e.draft,e.instruction)}]}],generationConfig:{temperature:.35,maxOutputTokens:900}},r=Sm(t);let s;for(const a of r)try{const l=xm(a,e.apiKey),c=await wm(l,n),u=(i=c.candidates)==null?void 0:i[0],d=jm(u);if(!d)throw new se("Gemini returned an empty feedback response",void 0,c);return{content:d,raw:c}}catch(l){const c=l,u=String(c&&(c.message||c.payload)||"").toLowerCase();if(!(c&&c.status===404||u.includes("not found"))||a===r[r.length-1]){s=l;break}s=l}throw s}},UA="https://api.deepseek.com/chat/completions";async function km(e,t){var r,s;const n=await Ui(UA,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify(t)},"DeepSeek");if(!n.ok){const i=await n.json().catch(()=>{}),a=((s=(r=i==null?void 0:i.error)==null?void 0:r.message)==null?void 0:s.trim())??"",l=a?`DeepSeek error (${n.status}): ${a}`:`DeepSeek error (${n.status})`;throw new se(l,n.status,i)}return n.json()}const zA={async generateStory(e){var s,i,a,l,c;const t={model:e.model??e.provider.defaultModel,temperature:e.temperature??.65,max_tokens:e.maxTokens??1400,messages:[{role:"system",content:Qa(e.metadata)},{role:"user",content:Ja(e.metadata,e.prompt)}]},n=await km(e.apiKey,t),r=(l=(a=(i=(s=n.choices)==null?void 0:s[0])==null?void 0:i.message)==null?void 0:a.content)==null?void 0:l.trim();if(!r)throw new se("DeepSeek returned an empty response",void 0,n);return{content:r,tokensUsed:(c=n.usage)==null?void 0:c.total_tokens,raw:n}},async requestFeedback(e){var s,i,a,l,c;const t={model:e.model??e.provider.defaultModel,temperature:.4,max_tokens:900,messages:[{role:"system",content:"You are a careful fiction editor."},{role:"user",content:Xa(e.metadata,e.draft,e.instruction)}]},n=await km(e.apiKey,t),r=(l=(a=(i=(s=n.choices)==null?void 0:s[0])==null?void 0:i.message)==null?void 0:a.content)==null?void 0:l.trim();if(!r)throw new se("DeepSeek returned an empty feedback response",void 0,n);return{content:r,tokensUsed:(c=n.usage)==null?void 0:c.total_tokens,raw:n}}},$A={openai:DA,anthropic:VA,gemini:BA,deepseek:zA};function nx(e){if(e.id.startsWith("custom:"))throw new se("Custom providers require a user-supplied connector.");return $A[e.id]}async function bm(e){const t=nx(e.provider);try{return await t.generateStory(e)}catch(n){const r=n,s=r instanceof se&&r.payload?JSON.stringify(r.payload).toLowerCase():"",i=r instanceof se&&(r.status===404||r.message.toLowerCase().includes("model")||s.includes("model")||r.message.toLowerCase().includes("does not exist")),a=e.provider.defaultModel;if(i&&e.model!==a)return await t.generateStory({...e,model:a});throw n}}async function Cm(e){const t=nx(e.provider);try{return await t.requestFeedback(e)}catch(n){const r=n,s=r instanceof se&&r.payload?JSON.stringify(r.payload).toLowerCase():"",i=r instanceof se&&(r.status===404||r.message.toLowerCase().includes("model")||s.includes("model")||r.message.toLowerCase().includes("does not exist")),a=e.provider.defaultModel;if(i&&e.model!==a)return await t.requestFeedback({...e,model:a});throw n}}const rx="sf:blocked-words",sx="sf:moderation-logs",xa=["nigger","retard","rape","kill yourself","kys"];function WA(){try{const e=localStorage.getItem(rx),t=e?JSON.parse(e):[];return Array.from(new Set([...xa,...t])).map(r=>r.toLowerCase())}catch{return xa}}function HA(){try{const e=localStorage.getItem(sx);return e?JSON.parse(e):[]}catch{return[]}}function Ql(e){const t=e.filter(n=>!xa.includes(n));localStorage.setItem(rx,JSON.stringify(t))}function KA(e){localStorage.setItem(sx,JSON.stringify(e))}function GA(e,t){switch(t.type){case"add":{const n=Array.from(new Set([...e.blockedWords,t.word.toLowerCase()]));return Ql(n),{...e,blockedWords:n}}case"remove":{const n=e.blockedWords.filter(r=>r!==t.word.toLowerCase());return Ql(n),{...e,blockedWords:n}}case"clear_words":return Ql([]),{...e,blockedWords:xa};case"log":{const n=[t.entry,...e.logs].slice(0,500);return KA(n),{...e,logs:n}}default:return e}}const ix=g.createContext(void 0);function YA({children:e}){const[t,n]=g.useReducer(GA,void 0,()=>({blockedWords:WA(),logs:HA()})),r=g.useCallback(u=>{const d=u.trim().toLowerCase();d&&n({type:"add",word:d})},[]),s=g.useCallback(u=>{n({type:"remove",word:u.trim().toLowerCase()})},[]),i=g.useCallback(()=>n({type:"clear_words"}),[]),a=g.useCallback(u=>{n({type:"log",entry:{id:ge("mod"),timestamp:new Date().toISOString(),...u}})},[]),l=g.useCallback(u=>{const d=(u||"").toLowerCase();for(const f of t.blockedWords){const m=d.indexOf(f);if(m>=0)return{ok:!1,word:f,index:m}}return{ok:!0}},[t.blockedWords]),c=g.useMemo(()=>({blockedWords:t.blockedWords,addBlockedWord:r,removeBlockedWord:s,clearBlockedWords:i,logs:t.logs,recordLog:a,validateText:l}),[t.blockedWords,t.logs,r,s,i,a,l]);return o.jsx(ix.Provider,{value:c,children:e})}function nh(){const e=g.useContext(ix);if(!e)throw new Error("useModeration must be used within a ModerationProvider");return e}const ox=g.createContext(void 0),ax="sf:published-stories";function QA(){const e=localStorage.getItem(ax);if(!e)return{stories:[]};try{return{stories:JSON.parse(e).map(({ttsConfig:r,reviews:s,...i})=>({...i,reviews:s??[],coverGallery:i.coverGallery??(i.coverImage?[i.coverImage]:[]),likeUserIds:i.likeUserIds??[]}))}}catch(t){return console.error("Failed to parse published stories",t),{stories:[]}}}function Ls(e){localStorage.setItem(ax,JSON.stringify(e.stories))}function JA(e,t){switch(t.type){case"publish":{const r={stories:[t.story,...e.stories]};return Ls(r),r}case"review":{const r={stories:e.stories.map(s=>s.id===t.storyId?{...s,reviews:[t.review,...s.reviews]}:s)};return Ls(r),r}case"delete":{const r={stories:e.stories.filter(s=>s.id!==t.storyId)};return Ls(r),r}case"review_delete":{const r={stories:e.stories.map(s=>({...s,reviews:s.reviews.filter(i=>i.id!==t.reviewId)}))};return Ls(r),r}case"toggle_like":{const r={stories:e.stories.map(s=>{if(s.id!==t.storyId)return s;const i=new Set(s.likeUserIds??[]);return i.has(t.userId)?i.delete(t.userId):i.add(t.userId),{...s,likeUserIds:Array.from(i)}})};return Ls(r),r}default:return e}}function XA({children:e}){const[t,n]=g.useReducer(JA,void 0,QA),{validateText:r,recordLog:s}=nh(),{user:i}=Te(),a=!!(i!=null&&i.isDev||(i==null?void 0:i.roleId)==="mod"||(i==null?void 0:i.roleId)==="staff"),l=g.useCallback(v=>{if(!a){const h=[v.content,v.summary,v.metadata.title,v.tags.join(" ")];for(const p of h){const y=r(p);if(!y.ok)throw s({type:"blocked_content",details:`publish blocked on word: ${y.word}`}),new Error("Story contains blocked terms. Please edit and try again.")}}const C={id:ge("story"),authorId:v.authorId,authorName:v.authorName,metadata:v.metadata,content:v.content,summary:v.summary,tags:v.tags,publishedAt:new Date().toISOString(),reviews:[],coverImage:v.coverImage,coverGallery:v.coverGallery??(v.coverImage?[v.coverImage]:[]),coverStyle:v.coverStyle,likeUserIds:[]};return n({type:"publish",story:C}),C},[s,r,a]),c=g.useCallback(v=>{if(!a){const h=r(v.comment);if(!h.ok)throw s({type:"blocked_content",details:`review blocked on word: ${h.word}`,targetResourceId:v.storyId}),new Error("Review contains blocked terms.")}const C={id:ge("rev"),storyId:v.storyId,reviewerName:v.reviewerName,rating:v.rating,comment:v.comment,createdAt:new Date().toISOString()};return n({type:"review",storyId:v.storyId,review:C}),C},[s,r,a]),u=g.useCallback(v=>t.stories.find(C=>C.id===v),[t.stories]),d=g.useCallback(v=>{n({type:"delete",storyId:v})},[]),f=g.useCallback(v=>{n({type:"review_delete",reviewId:v})},[]),m=g.useCallback((v,C)=>{var y;const h=t.stories.find(j=>j.id===v);if(!h)return!1;const p=((y=h.likeUserIds)==null?void 0:y.includes(C))??!1;return n({type:"toggle_like",storyId:v,userId:C}),!p},[t.stories]),x=g.useCallback(v=>{const C=v?t.stories.filter(p=>p.id!==v):t.stories;if(C.length===0)return;const h=Math.floor(Math.random()*C.length);return C[h]},[t.stories]),k=g.useMemo(()=>({stories:t.stories,publishStory:l,addReview:c,getStoryById:u,deleteStory:d,deleteReview:f,toggleStoryLike:m,getRandomStory:x}),[t.stories,l,c,u,d,f,m,x]);return o.jsx(ox.Provider,{value:k,children:e})}function ws(){const e=g.useContext(ox);if(!e)throw new Error("useLibrary must be used within a LibraryProvider");return e}const lx=g.createContext(void 0),cx="sf:achievements",ux={publishedStoryIds:[],publishedGenres:[],reviewsWritten:0,reviewsReceived:0},qA=[{id:"story-starter",title:"Story Starter",description:"Publish your first story.",check:(e,t)=>e.publishedStoryIds.length>=1},{id:"prolific-author",title:"Prolific Author",description:"Publish five stories.",check:(e,t)=>e.publishedStoryIds.length>=5},{id:"genre-explorer",title:"Genre Explorer",description:"Publish stories across three different genres.",check:(e,t)=>[...new Set(e.publishedGenres)].length>=3},{id:"thoughtful-critic",title:"Thoughtful Critic",description:"Leave your first review.",check:(e,t)=>e.reviewsWritten>=1},{id:"community-favorite",title:"Community Favorite",description:"Receive five reviews across your stories.",check:(e,t)=>e.reviewsReceived>=5},{id:"curator",title:"Curator",description:"Create your first collection.",check:(e,t)=>t.length>=1}];function ZA(){const e=localStorage.getItem(cx);if(!e)return{};try{return JSON.parse(e)}catch(t){return console.error("Failed to parse achievements store",t),{}}}function Nm(e){localStorage.setItem(cx,JSON.stringify(e))}function Jl(e){var t,n,r,s;return e?{achievements:e.achievements??[],collections:e.collections??[],stats:{publishedStoryIds:((t=e.stats)==null?void 0:t.publishedStoryIds)??[],publishedGenres:((n=e.stats)==null?void 0:n.publishedGenres)??[],reviewsWritten:((r=e.stats)==null?void 0:r.reviewsWritten)??0,reviewsReceived:((s=e.stats)==null?void 0:s.reviewsReceived)??0}}:{achievements:[],collections:[],stats:{...ux}}}function eP({children:e}){const{user:t}=Te(),[n,r]=g.useState(()=>ZA()),s=g.useMemo(()=>Jl(t?n[t.id]:void 0),[n,t]),i=g.useCallback(v=>{t&&r(C=>{const h={...C},p=Jl(C[t.id]);return h[t.id]=v(p),Nm(h),h})},[t]),a=g.useCallback(v=>{const C=new Set(v.achievements.map(p=>p.id)),h=[];return qA.forEach(p=>{if(C.has(p.id))return;p.check(v.stats,v.collections)&&h.push({id:p.id,title:p.title,description:p.description,unlockedAt:new Date().toISOString()})}),h.length===0?v:{...v,achievements:[...v.achievements,...h]}},[]),l=g.useCallback(v=>{i(C=>{const h={...C.stats,publishedStoryIds:Array.from(new Set([...C.stats.publishedStoryIds,v.id])),publishedGenres:Array.from(new Set([...C.stats.publishedGenres,v.metadata.genre]))};return{...a({...C,stats:h}),stats:h}})},[i,a]),c=g.useCallback(v=>{i(C=>{const h={...C.stats,reviewsWritten:C.stats.reviewsWritten+1};return{...a({...C,stats:h}),stats:h}})},[i,a]),u=g.useCallback(v=>{i(C=>{const h={...C.stats,reviewsReceived:C.stats.reviewsReceived+1};return{...a({...C,stats:h}),stats:h}})},[i,a]),d=g.useCallback(v=>{if(!v.trim())return null;let C=null;return i(h=>{const p={id:ge("col"),name:v.trim(),createdAt:new Date().toISOString(),stories:[]};return C=p,{...a({...h,collections:[p,...h.collections]})}}),C},[i,a]),f=g.useCallback(v=>{i(C=>({...C,collections:C.collections.filter(h=>h.id!==v)}))},[i]),m=g.useCallback((v,C)=>{i(h=>{const p=h.collections.map(y=>y.id!==v||y.stories.some(S=>S.id===C.id)?y:{...y,stories:[{...C},...y.stories].slice(0,50)});return{...h,collections:p}})},[i]),x=g.useCallback((v,C)=>{i(h=>{const p=h.collections.map(y=>y.id===v?{...y,stories:y.stories.filter(j=>j.id!==C)}:y);return{...h,collections:p}})},[i]);g.useEffect(()=>{Nm(n)},[n]);const k=g.useMemo(()=>({achievements:t?s.achievements:[],collections:t?s.collections:[],stats:t?s.stats:{...ux},createCollection:d,removeCollection:f,addStoryToCollection:m,removeStoryFromCollection:x,recordStoryPublished:l,recordReviewWritten:c,recordReviewReceived:u}),[s,t,d,f,m,x,l,c,u]);return o.jsx(lx.Provider,{value:k,children:e})}function rh(){const e=g.useContext(lx);if(!e)throw new Error("useAchievements must be used within an AchievementsProvider");return e}const nr=[{id:"neon-noir",label:"Neon Noir",background:"#080820",accentA:"rgba(124,77,255,0.85)",accentB:"rgba(244,143,177,0.85)",overlay:"rgba(10,10,30,0.72)"},{id:"sunrise-parchment",label:"Sunrise Parchment",background:"#1a130a",accentA:"rgba(245,210,140,0.9)",accentB:"rgba(255,120,92,0.85)",overlay:"rgba(28,20,10,0.78)"},{id:"cosmic-aether",label:"Cosmic Aether",background:"#050b1d",accentA:"rgba(94,211,255,0.85)",accentB:"rgba(167,139,255,0.8)",overlay:"rgba(6,12,30,0.78)"}];function Am(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}function tP(e){return`data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(e)))}`}function Pm(e,t=nr[0]){const n=Am(e.title||"Untitled"),r=Am(`${e.genre}  ${e.tone}`),s=`<?xml version="1.0" encoding="UTF-8"?>
  <svg xmlns='http://www.w3.org/2000/svg' width='1200' height='630' viewBox='0 0 1200 630'>
    <defs>
      <linearGradient id='g' x1='0' y1='0' x2='1' y2='1'>
        <stop offset='0%' stop-color='${t.accentA}'/>
        <stop offset='100%' stop-color='${t.accentB}'/>
      </linearGradient>
      <filter id='blur'>
        <feGaussianBlur stdDeviation='70'/>
      </filter>
    </defs>
    <rect width='1200' height='630' fill='${t.background}'/>
    <g opacity='0.6' filter='url(#blur)'>
      <circle cx='240' cy='160' r='240' fill='url(#g)'/>
      <circle cx='960' cy='500' r='280' fill='url(#g)'/>
    </g>
    <rect x='40' y='40' width='1120' height='550' rx='28' fill='${t.overlay??"rgba(8,8,20,0.72)"}' stroke='rgba(255,255,255,0.12)'/>
    <text x='80' y='280' font-family='Inter, system-ui, -apple-system, "Segoe UI"' font-size='64' fill='white' font-weight='700'>${n}</text>
    <text x='80' y='340' font-family='Inter, system-ui, -apple-system, "Segoe UI"' font-size='24' fill='rgba(230,232,255,0.92)' font-weight='500'>${r}</text>
  </svg>`;return tP(s)}const Em={title:"Untitled Tale",genre:"Speculative fiction",tone:"Evocative and character-driven",perspective:"Close third person",targetLength:"medium"},Tm="You are a collaborative storytelling assistant. Craft an engaging story that follows the author's intent. Focus on vivid sensory details, grounded character motivations, and strong pacing.",Xl="A new story ready for its first sparks of inspiration.";function Ar(e){if(e.targetTokens&&Number.isFinite(e.targetTokens)&&e.targetTokens>0)return Math.floor(e.targetTokens);switch(e.targetLength){case"short":return 900;case"medium":return 1500;case"long":return 2200;default:return 1400}}const _m={openai:{input:15e-5,output:6e-4},anthropic:{input:8e-4,output:.003},gemini:{input:125e-6,output:375e-6},deepseek:{input:2e-4,output:4e-4},default:{input:2e-4,output:6e-4}};function Rm(e,t){const n=e.startsWith("custom")?"default":e,r=_m[n]??_m.default,s=t/1e3*(r.input+r.output);return Number(s.toFixed(3))}const nP=new Set(["The","They","Their","Them","That","This","With","From","Into","And","But","She","Her","He","His","Its","For","When","Where","While","Once","Upon"]),Xn={sensory:{label:"Sensory detail",description:"Layer richer sense impressions into the current draft.",instruction:"Enhance the provided excerpt by weaving in vivid sensory details across sight, sound, smell, taste, and touch. Preserve plot, character voice, and approximate length. Return the rewritten passage only."},dialogue:{label:"Dialogue polish",description:"Sharpen voices, subtext, and conversational rhythm.",instruction:"Review the excerpt and return a refined version that tightens dialogue, strengthens subtext, and keeps character voices consistent. Maintain story beats and format."},pacing:{label:"Pacing tighten",description:"Speed up slack moments without losing clarity.",instruction:"Identify sluggish portions of the excerpt and rewrite them for brisker pacing while preserving essential information. Respond with the adjusted prose and brief inline notes for major cuts."}};function wo(e,t){var n,r,s,i;if(e instanceof se){const a=e.payload,l=((n=a==null?void 0:a.error)==null?void 0:n.message)||((r=a==null?void 0:a.error)==null?void 0:r.detail)||((s=a==null?void 0:a.error)==null?void 0:s.type)||((i=a==null?void 0:a.error)==null?void 0:i.code);return l?`${e.message}: ${l}`:e.message}return e instanceof Error?`${t}: ${e.message}`:t}function rP(e){return e.split(",").map(t=>t.trim()).filter(Boolean).map(t=>t.startsWith("#")?t:`#${t.replace(/^#+/,"")}`)}function sP(){var fh,mh,yh;const e=$n(),{publishStory:t}=ws(),{user:n}=Te(),{recordStoryPublished:r}=rh(),{drafts:s,activeDraft:i,createDraft:a,updateDraft:l,selectDraft:c,addFeedback:u,promptRecipes:d,createPromptRecipe:f,deletePromptRecipe:m,addContinuityEntry:x,updateContinuityEntry:k,deleteContinuityEntry:v,addSensoryPass:C}=q0(),{providers:h,selectedProvider:p,selectedModel:y,selectProvider:j,apiKeys:S,setApiKey:b,setModel:T,modelSelections:A}=ex(),{append:N}=Bi(),[P,E]=g.useState((i==null?void 0:i.metadata)??Em),[R,L]=g.useState((i==null?void 0:i.prompt)??Tm),[z,Ye]=g.useState((i==null?void 0:i.summary)??Xl),[Se,q]=g.useState("#Dreamscribe"),[O,$]=g.useState(!1),[W,te]=g.useState(null),[J,Qe]=g.useState("grammar"),[ke,Ct]=g.useState(""),[Le,$e]=g.useState(null),[Lt,vr]=g.useState(null),[dn,pt]=g.useState(null),[xr,wr]=g.useState(!1),[De,hn]=g.useState([]),[jr,pn]=g.useState(null),[M,H]=g.useState(null),[V,K]=g.useState(null),[Je,fn]=g.useState(""),[Hn,ih]=g.useState(null),[zi,qa]=g.useState(""),Za=g.useRef(""),[Dt,$i]=g.useState(null),[Sx,Wi]=g.useState(null),Z=(i==null?void 0:i.id)??null;g.useEffect(()=>{if(!i){const w=a({metadata:Em,prompt:Tm,summary:Xl});E(w.metadata),L(w.prompt),Ye(w.summary);return}E(i.metadata),L(i.prompt),Ye(i.summary??Xl)},[i,a]),g.useEffect(()=>{Z&&l(Z,{metadata:P})},[P,Z,l]),g.useEffect(()=>{hn([]),K(null)},[Z]),g.useEffect(()=>{Z&&l(Z,{prompt:R})},[R,Z,l]),g.useEffect(()=>{Z&&l(Z,{summary:z})},[z,Z,l]),g.useEffect(()=>{if(!Hn||!Z||Hn!==Z)return;const w=Za.current??"",_=zi?`${w}

${zi}`:w;(i==null?void 0:i.content)!==_&&l(Z,{content:_})},[zi,Hn,Z,i,l]);const mn=(i==null?void 0:i.content)??"",js=S[p.id]??"",Kn=(i==null?void 0:i.abExperiments)??[],kx=Dt?[Dt,...Kn]:Kn,bx=!!Dt,nt=(i==null?void 0:i.continuity.entries)??[],Sr=(i==null?void 0:i.sensoryPasses)??[],el=[...d].sort((w,_)=>new Date(_.updatedAt).getTime()-new Date(w.updatedAt).getTime());g.useMemo(()=>new Map(h.map(w=>[w.id,w])),[h]);const oh=Kn.length,ah=Kn.filter(w=>w.winnerId).length,Hi=mn?mn.split(/\s+/).map(w=>w.trim()).filter(Boolean).length:0,Ss=i!=null&&i.generatedAt?new Date(i.generatedAt):null,Gn=((fh=i==null?void 0:i.feedbackThreads)==null?void 0:fh[0])??null,Yn=Sr[0]??null,tl=kx[0]??null,yn=w=>{if(!w)return"";const _=Date.now()-w.getTime(),I=Math.floor(_/6e4);if(I<1)return"just now";if(I<60)return`${I}m ago`;const U=Math.floor(I/60);return U<24?`${U}h ago`:`${Math.floor(U/24)}d ago`},Cx=g.useMemo(()=>[{id:"title",label:"Title set",detail:P.title.trim().length?P.title:"Add a working title to stay organised",done:!!P.title.trim().length},{id:"summary",label:"Summary ready",detail:z.trim().length?z.slice(0,100)+(z.length>100?"":""):"Write a quick hook for the publish card",done:!!z.trim().length},{id:"feedback",label:"Feedback pass",detail:Gn?`${Gn.focus}  ${yn(new Date(Gn.createdAt))}`:"Request a feedback pass",done:!!Gn},{id:"sensory",label:"Sensory polish",detail:Yn?`${Xn[Yn.kind].label}  ${yn(new Date(Yn.createdAt))}`:"Run a sensory pass to enrich detail",done:!!Yn},{id:"cover",label:"Cover ready",detail:De.length?`${De.length} variants generated`:"Generate or upload cover art",done:!!De.length},{id:"tags",label:"Tags added",detail:Se.trim().length?Se:"Add discovery tags",done:!!Se.trim().length}],[P.title,z,Gn,Yn,De,Se]),Nx=g.useMemo(()=>{const w=[],_=P.tone.split(",").map(I=>I.trim()).filter(Boolean)[0]||"the current vibe";return w.push({id:"character",title:"Character beat",body:`Write a single paragraph that shows how your protagonist reacts when the tone turns ${_.toLowerCase()}.`}),w.push({id:"setting",title:"Setting detail",body:"Describe the setting using a sense you've ignored so far (sound, smell, or touch)."}),w.push({id:"stakes",title:"Raise the stakes",body:"Add one line that clarifies what your protagonist loses if they fail in this scene."}),nt.length===0?w.push({id:"continuity",title:"Continuity seed",body:"Capture a quick note in the Continuity Coach for the most important character in this draft."}):w.push({id:"callback",title:"Continuity callback",body:`Reference ${nt[0].label} to keep your continuity thread alive.`}),w},[P.tone,nt]),kr=g.useMemo(()=>{const w=new Map;return d.forEach(_=>{(_.tags??[]).forEach(I=>w.set(I,(w.get(I)??0)+1))}),Array.from(w.entries()).sort((_,I)=>I[1]-_[1]).slice(0,6)},[d]),nl=g.useMemo(()=>{const w={character:0,plot:0,world:0};return nt.forEach(_=>{w[_.type]=(w[_.type]??0)+1}),w},[nt]),rl=g.useMemo(()=>{const w=`${R}
${z}
${mn}`,_=w.toLowerCase(),I=Array.from(w.matchAll(/\b[A-Z][a-z]+(?:\s+[A-Z][a-z]+)?\b/g)).map(ne=>ne[0]),U=Array.from(new Set(I.map(ne=>ne.trim()))),ee=new Set(nt.map(ne=>ne.label.toLowerCase())),ft=[];U.filter(ne=>ne.length>2).filter(ne=>{const Gt=ne.split(" ")[0];return!nP.has(Gt)}).forEach(ne=>{ee.has(ne.toLowerCase())||ft.push({id:`untracked-${ne}`,severity:"warn",message:`Untracked entity "${ne}" detected in your draft.`,suggestion:"Add it to keep names, roles, and traits consistent.",candidate:{label:ne,type:"character"}})});const br=nt.reduce((ne,Gt)=>{const Ki=Gt.label.toLowerCase();return ne[Ki]=(ne[Ki]??0)+1,ne},{});return Object.entries(br).forEach(([ne,Gt])=>{Gt>1&&ft.push({id:`duplicate-${ne}`,severity:"error",message:`Multiple continuity entries found for "${ne}". Consider merging them.`})}),nt.forEach(ne=>{_.includes(ne.label.toLowerCase())||ft.push({id:`dormant-${ne.id}`,severity:"info",message:`"${ne.label}" hasn't appeared in this draft yet.`})}),ft.slice(0,8)},[nt,R,z,mn]),lh=g.useMemo(()=>{var _;const w=[];return Ss&&w.push({id:`gen-${Z??"draft"}`,title:"Story generated",detail:`Model ${p.label}  ${y}`,timestamp:Ss,type:"generation"}),Kn.forEach(I=>{w.push({id:`exp-${I.id}`,title:I.winnerId?"Comparison winner picked":"A/B comparison run",detail:`${I.variants.length} variants  ${I.winnerId?"Winner selected":"Awaiting vote"}`,timestamp:new Date(I.createdAt),type:"experiment"})}),(_=i==null?void 0:i.feedbackThreads)==null||_.forEach(I=>{w.push({id:`fb-${I.id}`,title:`Feedback: ${I.focus}`,detail:I.provider,timestamp:new Date(I.createdAt),type:"feedback"})}),Sr.forEach(I=>{const U=Xn[I.kind];w.push({id:`sensory-${I.id}`,title:`${U.label} pass`,detail:U.description,timestamp:new Date(I.createdAt),type:"sensory"})}),w.sort((I,U)=>U.timestamp.getTime()-I.timestamp.getTime()).slice(0,12)},[Kn,i==null?void 0:i.feedbackThreads,Sr,Ss,p.label,y,Z]),ch=g.useMemo(()=>{const w=Je.trim().toLowerCase();return w?s.filter(_=>_.metadata.title.toLowerCase().includes(w)).slice(0,5):[]},[Je,s]),Ax=J==="custom",uh=g.useMemo(()=>{switch(J){case"grammar":return"Provide grammar, spelling, and clarity adjustments. Highlight concrete edits.";case"dialogue":return"Evaluate dialogue authenticity, subtext, and pacing. Suggest specific line edits.";case"flow":return"Analyze story structure, pacing, and transitions. Recommend improvements.";case"custom":return ke||"Offer targeted feedback based on the author's note.";default:return""}},[J,ke]),Px=()=>{if(!(i!=null&&i.content))return;const w=document.createElement("a"),_=new Blob([i.content],{type:"text/plain"});w.href=URL.createObjectURL(_),w.download=`${i.metadata.title||"story"}.txt`,w.click(),URL.revokeObjectURL(w.href)},Ex=async()=>{i!=null&&i.content&&await navigator.clipboard.writeText(i.content)},sl=(w,_)=>{const I={id:ge("cover"),src:w,styleId:_};hn(U=>{const ft=[...U.filter(br=>br.src!==w),I];return K(I.id),ft})},Tx=w=>{try{const _=w?nr.find(U=>U.id===w)??nr[0]:nr[0],I=Pm(P,_);sl(I,_.id)}catch(_){console.error(_),alert("Unable to generate a cover image.")}},_x=()=>{nr.forEach(w=>{try{const _=Pm(P,w);sl(_,w.id)}catch(_){console.error(_)}})},Rx=w=>{const _=new FileReader;_.onload=()=>{typeof _.result=="string"&&sl(_.result,"upload")},_.readAsDataURL(w)},Mx=w=>{hn(_=>{const I=_.filter(U=>U.id!==w);return I.length===0?K(null):I.some(U=>U.id===V)||K(I[I.length-1].id),I})},dh=w=>{if(!w.bestModel)return;const _=w.bestModel.trim();if(!_)return;const I=h.find(U=>U.models.includes(_));I?(j(I.id),T(I.id,_)):T(p.id,_)},Ix=w=>{const _=f(w);N({level:"info",summary:`Saved prompt recipe "${_.title}"`,payload:{recipeId:_.id,tags:_.tags}})},Lx=w=>{L(w.prompt),w.toneNotes&&E(_=>({..._,tone:w.toneNotes??_.tone})),dh(w),N({level:"request",summary:`Applied prompt recipe "${w.title}"`,payload:{recipeId:w.id}})},Dx=w=>{const _=[w.toneNotes?`Dial the tone toward ${w.toneNotes}.`:null,w.pacingNotes?`Respect pacing guidance: ${w.pacingNotes}.`:null,"Offer two variant hooks and commit to the strongest before drafting."].filter(Boolean).map(U=>`- ${U}`).join(`
`),I=`${w.prompt.trim()}

Remix directives:
${_}`;L(I),w.toneNotes&&E(U=>({...U,tone:w.toneNotes||U.tone})),dh(w),N({level:"info",summary:`Remixed prompt recipe "${w.title}"`,payload:{recipeId:w.id}})},Ox=w=>{m(w),N({level:"info",summary:"Deleted prompt recipe",payload:{recipeId:w}})},Fx=async w=>{const _={schema:"dreamscribe/prompt-recipe@1",exportedAt:new Date().toISOString(),recipe:{title:w.title,prompt:w.prompt,toneNotes:w.toneNotes,pacingNotes:w.pacingNotes,bestModel:w.bestModel,tags:w.tags,updatedAt:w.updatedAt},context:{storyTitle:P.title,genre:P.genre,perspective:P.perspective,targetLength:P.targetLength}};if(!navigator.clipboard||typeof navigator.clipboard.writeText!="function")throw new Error("Clipboard access is not available in this environment.");await navigator.clipboard.writeText(JSON.stringify(_,null,2)),N({level:"response",summary:`Copied prompt recipe "${w.title}" bundle`,payload:{recipeId:w.id}})},Vx=w=>{if(!Z)return;const _=x(Z,w);N({level:"info",summary:"Continuity entry added",payload:{entryId:_.id,type:_.type}})},Bx=(w,_)=>{var I;Z&&(k(Z,w,_),N({level:"info",summary:"Continuity entry updated",payload:{entryId:w,type:_.type??((I=nt.find(U=>U.id===w))==null?void 0:I.type)}}))},Ux=w=>{Z&&(v(Z,w),N({level:"info",summary:"Continuity entry removed",payload:{entryId:w}}))},zx=w=>{if(!Z)return;const _=x(Z,{type:w.type,label:w.label,summary:"",traits:[]});N({level:"info",summary:"Continuity entry quick-added",payload:{entryId:_.id,label:w.label}})},$x=async w=>{if(!i||!il())return;if(!i.content.trim()){H("Generate story content before running a stylistic pass.");return}const _=Xn[w];H(null),pn(w);const I={provider:p,apiKey:js,metadata:P,draft:i.content,focus:"custom",instruction:_.instruction,model:y};N({level:"request",summary:`${_.label} pass`,payload:{provider:p.id,model:y,kind:w}});try{const U=await Cm(I),ee={id:ge("pass"),kind:w,createdAt:new Date().toISOString(),response:U.content};C(i.id,ee),N({level:"response",summary:`${_.label} pass ready`,payload:{passId:ee.id,kind:w}})}catch(U){const ee=wo(U,`${_.label} pass failed`);H(ee);const ft=U instanceof se?{status:U.status,payload:U.payload}:{error:String(U)};N({level:"error",summary:ee,payload:{provider:p.id,kind:w,...ft}})}finally{pn(null)}},Wx=async w=>{await navigator.clipboard.writeText(w.response)},Hx=w=>{if(!Z||!i)return;const I=`

[${Xn[w.kind].label} pass]
${w.response.trim()}`;l(Z,{content:`${i.content}${I}`}),N({level:"info",summary:"Sensory pass appended to draft",payload:{passId:w.id,kind:w.kind}})},Kx=async w=>{if(!i){Wi("Create or select a draft before running a comparison.");return}const _=w.map(we=>{const mt=h.find(Cr=>Cr.id===we.providerId);if(!mt)return null;const Ot=mt.models.includes(we.model)?we.model:mt.defaultModel;return{provider:mt,model:Ot}}).filter(Boolean);if(_.length<2){Wi("Select at least two supported providers to compare.");return}const I=_.find(({provider:we})=>{var mt;return!((mt=S[we.id])!=null&&mt.trim())});if(I){Wi(`Add an API key for ${I.provider.label} before running the comparison.`);return}const U=Ar(P),ee=new Date().toISOString(),ft=ge("ab"),br=_.map(({provider:we,model:mt})=>({id:ge("variant"),providerId:we.id,providerLabel:we.label,model:mt,status:"pending",costEstimate:Rm(we.id,U),estimatedTokens:U,createdAt:ee})),ne={id:ft,createdAt:ee,prompt:R,summary:z,variants:br,winnerId:null};Wi(null),$i(ne);const Gt=br.map(we=>({...we}));await Promise.all(Gt.map(async we=>{const mt=_.find(({provider:_e})=>_e.id===we.providerId);if(!mt)return;const{provider:Ot,model:Cr}=mt,t1=S[Ot.id]??"",n1={provider:Ot,apiKey:t1,metadata:P,prompt:R,temperature:.72,maxTokens:U,model:Cr},r1=performance.now();N({level:"request",summary:`A/B request - ${Ot.label}`,payload:{provider:Ot.id,model:Cr,tokensEstimate:U}});try{const _e=await bm(n1);Object.assign(we,{status:"success",content:_e.content,tokensUsed:_e.tokensUsed,durationMs:performance.now()-r1}),N({level:"response",summary:`A/B result - ${Ot.label}`,payload:{provider:Ot.id,model:Cr,tokensUsed:_e.tokensUsed}})}catch(_e){const ks=wo(_e,`Failed to generate with ${Ot.label}`);Object.assign(we,{status:"error",error:ks});const s1=_e instanceof se?{status:_e.status,payload:_e.payload}:{error:String(_e)};N({level:"error",summary:ks,payload:{provider:Ot.id,model:Cr,...s1}})}finally{$i(_e=>_e&&_e.id===ft?{..._e,variants:_e.variants.map(ks=>ks.id===we.id?{...we}:ks)}:_e)}}));const Ki={...ne,variants:Gt,winnerId:ne.winnerId??null};$i(null);const e1=i.abExperiments??[];l(i.id,{abExperiments:[Ki,...e1]}),N({level:"info",summary:"Completed model comparison",payload:{experimentId:ft,variants:Gt.map(we=>({provider:we.providerId,status:we.status}))}})},Gx=(w,_)=>{if(Dt&&Dt.id===w){$i({...Dt,winnerId:_});return}if(!Z)return;const U=((i==null?void 0:i.abExperiments)??[]).map(ee=>ee.id===w?{...ee,winnerId:_}:ee);l(Z,{abExperiments:U}),N({level:"info",summary:"Marked A/B winner",payload:{experimentId:w,variantId:_}})},Yx=(w,_)=>{const I=Dt&&Dt.id===w?Dt:((i==null?void 0:i.abExperiments)??[]).find(ee=>ee.id===w)??null,U=I==null?void 0:I.variants.find(ee=>ee.id===_);!U||U.status!=="success"||!U.content||!Z||(l(Z,{content:U.content,generatedAt:new Date().toISOString()}),N({level:"info",summary:"Adopted A/B variant output",payload:{experimentId:w,variantId:_,provider:U.providerId}}))},il=()=>js?!0:(N({level:"error",summary:"Missing API key",payload:{provider:p.id}}),alert("Please enter an API key for the selected provider before continuing."),!1),Qx=w=>{const _=s.find(I=>I.id===w);_&&(ih(w),Za.current=_.content,qa(""),c(w))},Jx=()=>{ih(null),qa(""),Za.current=""},Xx=async w=>{if(w.preventDefault(),!i||!il())return;te(null),$(!0);const _={provider:p,apiKey:js,metadata:P,prompt:R,temperature:.72,maxTokens:Ar(P),model:y};N({level:"request",summary:`Story request - ${p.label}`,payload:{provider:p.id,model:y,temperature:_.temperature,maxTokens:_.maxTokens,promptLength:R.length}});try{const I=await bm(_);l(i.id,{content:I.content,generatedAt:new Date().toISOString()}),N({level:"response",summary:"Story generated",payload:{provider:p.id,model:y,tokensUsed:I.tokensUsed}})}catch(I){const U=wo(I,"Failed to generate story");te(U);const ee=I instanceof se?{status:I.status,payload:I.payload}:{error:String(I)};N({level:"error",summary:U,payload:{provider:p.id,...ee}})}finally{$(!1)}},qx=async()=>{if(!i){pt("Create or select a draft before publishing.");return}if(!i.content.trim()){pt("Generate or enter story content first.");return}if(!z.trim()){pt("Add a short summary so readers know what to expect.");return}if(!n){e("/login",{replace:!0,state:{from:{pathname:"/studio"}}});return}try{wr(!0),pt(null);const w=rP(Se),_=De.map(ee=>ee.src),I=De.find(ee=>ee.id===V)??De[0],U=t({authorId:n.id,authorName:n.displayName,metadata:P,content:i.content,summary:z.trim(),tags:w,coverImage:I==null?void 0:I.src,coverGallery:_,coverStyle:I==null?void 0:I.styleId});r(U),N({level:"info",summary:"Story published",payload:{storyId:U.id,hasCover:!!(I!=null&&I.src)}}),e(`/stories/${U.id}`)}catch(w){const _=w instanceof Error?w.message:"Unable to publish";pt(_)}finally{wr(!1)}},hh=async w=>{if(!i||!il())return;if(!i.content){$e("Generate a story before requesting feedback.");return}$e(null),vr(w.loadingKey);const _={provider:p,apiKey:js,metadata:P,draft:i.content,focus:w.focus,instruction:w.instruction,model:y};N({level:"request",summary:`Feedback request (${w.focus})`,payload:{provider:p.id,model:y,focus:w.focus,instructionLength:w.instruction.length}});try{const I=await Cm(_),U=u(i.id,{provider:`${p.label} - ${y}`,focus:w.focus,request:w.instruction,response:I.content});N({level:"response",summary:`Feedback received (${w.focus})`,payload:{provider:p.id,model:y,feedbackId:U.id}})}catch(I){const U=wo(I,"Feedback request failed");$e(U);const ee=I instanceof se?{status:I.status,payload:I.payload}:{error:String(I)};N({level:"error",summary:U,payload:{provider:p.id,...ee}})}finally{vr(null)}},ph=()=>{hh({focus:J,instruction:uh,loadingKey:"general"})},Zx=()=>{hh({focus:"dialogue",instruction:"Review the draft's dialogue. Tighten pacing, infuse subtext, and ensure each character's voice is distinct. Provide revised line suggestions.",loadingKey:"dialogue"})};return o.jsxs("form",{className:"studio-shell",onSubmit:Xx,children:[o.jsxs("section",{className:"studio-sidebar",children:[o.jsxs("div",{className:"studio-panel",children:[o.jsx("header",{className:"studio-panel__header",children:o.jsxs("div",{children:[o.jsx("h3",{children:"AI provider"}),o.jsx("p",{children:"Select which model will lead your next draft."})]})}),o.jsx("div",{className:"studio-provider-list",children:h.map(w=>o.jsxs("button",{type:"button",onClick:()=>j(w.id),className:w.id===p.id?"provider-option provider-option--active":"provider-option",children:[o.jsx("span",{children:w.label}),o.jsx("small",{children:w.defaultModel})]},w.id))}),o.jsxs("div",{className:"studio-provider-credentials",children:[o.jsxs("label",{className:"studio-provider-key",children:[o.jsx("span",{children:"API key"}),o.jsx("input",{type:"password",value:js,onChange:w=>b(p.id,w.target.value),placeholder:"Paste your secret key"}),o.jsxs("small",{children:["Keys stay in your browser. Read provider docs"," ",p.docsUrl&&o.jsx("a",{href:p.docsUrl,target:"_blank",rel:"noreferrer","aria-label":"Open provider documentation",children:o.jsx(PN,{size:14,"aria-hidden":"true"})})]})]}),p.models.length>0&&o.jsxs("label",{className:"studio-provider-model",children:[o.jsx("span",{children:"Model"}),o.jsx("select",{value:y,onChange:w=>T(p.id,w.target.value),children:p.models.map(w=>o.jsx("option",{value:w,children:w},w))}),o.jsx("small",{children:"Switch models if your account lacks access to the default."})]})]})]}),o.jsx(lA,{metadata:P,onChange:E}),o.jsx(uA,{currentPrompt:R,metadata:P,selectedModel:y,recipes:d,onSaveRecipe:Ix,onApplyRecipe:Lx,onRemixRecipe:Dx,onDeleteRecipe:Ox,onShareRecipe:Fx}),o.jsx(mA,{entries:nt,warnings:rl,onCreate:Vx,onUpdate:Bx,onDelete:Ux,onQuickAdd:zx}),i&&o.jsx(bA,{draftId:i.id}),o.jsxs("div",{className:"studio-panel",children:[o.jsx("header",{className:"studio-panel__header",children:o.jsxs("div",{children:[o.jsx("h3",{children:"Draft analytics"}),o.jsx("p",{children:"Monitor generation costs and word counts at a glance."})]})}),o.jsxs("div",{className:"insight-grid",children:[o.jsxs("article",{children:[o.jsx("span",{className:"insight-label",children:"Current tokens"}),o.jsx("strong",{children:Ar(P)}),o.jsx("small",{children:"Target budget based on story length"})]}),o.jsxs("article",{children:[o.jsx("span",{className:"insight-label",children:"Word count"}),o.jsx("strong",{children:Hi.toLocaleString()}),o.jsx("small",{children:Hi>0?`${Math.round(Hi/Math.max(Ar(P)/4,1)*100)}% of plan`:"Draft not generated yet"})]}),o.jsxs("article",{children:[o.jsx("span",{className:"insight-label",children:"Experiments"}),o.jsx("strong",{children:oh}),o.jsxs("small",{children:[ah," recorded winners"]})]})]}),o.jsxs("div",{className:"cost-table",children:[o.jsxs("header",{children:[o.jsx("span",{children:"Provider"}),o.jsx("span",{children:"Model"}),o.jsx("span",{children:"Est. cost"})]}),h.map(w=>{const _=A[w.id]??w.defaultModel,I=Rm(w.id,Ar(P));return o.jsxs("div",{children:[o.jsx("span",{children:w.label}),o.jsx("span",{children:_}),o.jsxs("span",{children:["$",I.toFixed(3)]})]},w.id)})]})]}),o.jsxs("div",{className:"studio-panel",children:[o.jsx("header",{className:"studio-panel__header",children:o.jsxs("div",{children:[o.jsx("h3",{children:"Provider health check"}),o.jsx("p",{children:"Ensure your keys and models are ready before you generate."})]})}),o.jsx("ul",{className:"panel-list",children:h.map(w=>{const _=!!S[w.id],I=A[w.id]??w.defaultModel,U=w.models.includes(I)?"Model available":"Model not in preset list";return o.jsxs("li",{children:[o.jsxs("div",{children:[o.jsx("strong",{children:w.label}),o.jsx("small",{children:_?"Key stored":"Key missing"})]}),o.jsx("p",{children:U})]},w.id)})})]}),o.jsxs("div",{className:"studio-panel",children:[o.jsx("header",{className:"studio-panel__header",children:o.jsxs("div",{children:[o.jsx("h3",{children:"Draft checkpoints"}),o.jsx("p",{children:"Upcoming steps to keep your workflow moving forward."})]})}),o.jsxs("ul",{className:"panel-list",children:[o.jsxs("li",{children:[o.jsx("strong",{children:"Run a fresh comparison"}),o.jsx("p",{children:"Pick a new pair of models to see how they adapt to your latest edits."})]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Request feedback"}),o.jsx("p",{children:"Pull a flow or dialogue pass to stress-test pacing and voice."})]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Update prompt palette"}),o.jsx("p",{children:"Add the current setup to your palette so you can reuse it on future chapters."})]})]})]}),o.jsxs("div",{className:"studio-panel",children:[o.jsx("header",{className:"studio-panel__header",children:o.jsxs("div",{children:[o.jsx("h3",{children:"Collaboration notes"}),o.jsx("p",{children:"Jot reminders for co-authors or future edits."})]})}),o.jsx("textarea",{className:"studio-textarea",rows:6,placeholder:"Future edit ideas, co-author notes, open questions",value:(i==null?void 0:i.summary)??"",onChange:w=>Ye(w.target.value)}),o.jsx("p",{className:"studio-output__placeholder",children:"Notes save with your draft so you can revisit them later."})]})]}),o.jsxs("section",{className:"studio-main",children:[o.jsx(F.div,{initial:{opacity:0,y:18},animate:{opacity:1,y:0},transition:{delay:.04},children:o.jsx(hA,{metadata:P,providers:h,modelSelections:A,apiKeys:S,selectedProviderId:p.id,selectedModel:y,experiments:Kn,workingExperiment:Dt,onRun:Kx,onMarkWinner:Gx,onAdopt:Yx,error:Sx,isRunning:bx})}),o.jsxs(F.div,{className:"studio-panel",initial:{opacity:0,y:18},animate:{opacity:1,y:0},children:[o.jsxs("header",{className:"studio-panel__header",children:[o.jsxs("div",{children:[o.jsx("h3",{children:"Story prompt"}),o.jsx("p",{children:"Explain the scene, stakes, and stylistic anchors for the AI writers."})]}),o.jsxs("button",{type:"submit",className:"primary-button",disabled:O,children:[o.jsx(yu,{size:18})," ",O?"Working...":"Generate story"]})]}),o.jsx("textarea",{className:"studio-textarea",value:R,onChange:w=>L(w.target.value),placeholder:"Describe the story you want to tell...",rows:10}),W&&o.jsx("div",{className:"notice notice--error",children:W})]}),o.jsxs(F.div,{className:"studio-panel",initial:{opacity:0,y:18},animate:{opacity:1,y:0},transition:{delay:.08},children:[o.jsx("header",{className:"studio-panel__header",children:o.jsxs("div",{children:[o.jsx("h3",{children:"Feedback passes"}),o.jsx("p",{children:"Invite a model to critique and refine the current draft."})]})}),o.jsxs("div",{className:"studio-feedback-controls",children:[o.jsx("div",{className:"chip-group",children:["grammar","dialogue","flow","custom"].map(w=>o.jsx("button",{type:"button",className:J===w?"chip chip--active":"chip",onClick:()=>Qe(w),children:w==="custom"?"Custom":w.charAt(0).toUpperCase()+w.slice(1)},w))}),Ax&&o.jsx("textarea",{className:"studio-textarea",rows:3,value:ke,onChange:w=>Ct(w.target.value),placeholder:"Describe the feedback you want (e.g., tighten the ending, amplify tension)."}),o.jsxs("div",{className:"studio-feedback-actions",children:[o.jsxs("button",{type:"button",className:"ghost-button",disabled:Lt!==null,onClick:ph,children:[o.jsx(tm,{size:16}),Lt==="general"?"Analysing...":"Request feedback"]}),o.jsxs("button",{type:"button",className:"ghost-button",disabled:Lt!==null,onClick:Zx,children:[o.jsx(gN,{size:16}),Lt==="dialogue"?"Polishing...":"Improve dialogue"]})]}),o.jsxs("p",{className:"studio-feedback-note",children:["Focus: ",uh]}),Le&&o.jsx("div",{className:"notice notice--error",children:Le})]})]}),o.jsxs(F.div,{className:"studio-panel studio-panel--tall",initial:{opacity:0,y:18},animate:{opacity:1,y:0},transition:{delay:.16},children:[o.jsxs("header",{className:"studio-panel__header",children:[o.jsxs("div",{children:[o.jsx("h3",{children:"Story output"}),o.jsx("p",{children:"See generations and apply revisions inline."})]}),o.jsxs("div",{className:"studio-output-actions",children:[o.jsxs("button",{type:"button",className:"ghost-button",onClick:Ex,disabled:!mn,children:[o.jsx(fu,{size:16})," Copy"]}),o.jsxs("button",{type:"button",className:"ghost-button",onClick:Px,disabled:!mn,children:[o.jsx(AN,{size:16})," Download"]})]})]}),o.jsx("div",{className:"studio-output",children:O?o.jsx(CA,{lines:10}):mn?o.jsxs("article",{children:[o.jsx("h2",{children:i==null?void 0:i.metadata.title}),o.jsx("pre",{children:mn})]}):o.jsx("p",{className:"studio-output__placeholder",children:"Your story will appear here once you generate a draft."})})]}),o.jsxs(F.div,{className:"studio-panel",initial:{opacity:0,y:18},animate:{opacity:1,y:0},transition:{delay:.22},children:[o.jsx("header",{className:"studio-panel__header",children:o.jsxs("div",{children:[o.jsx("h3",{children:"Feedback threads"}),o.jsx("p",{children:"Track critiques and revision suggestions from your AI editors."})]})}),(mh=i==null?void 0:i.feedbackThreads)!=null&&mh.length?o.jsx("div",{className:"feedback-thread-list",children:i.feedbackThreads.map(w=>o.jsxs("article",{className:"feedback-thread",children:[o.jsxs("header",{children:[o.jsxs("span",{className:"feedback-thread__provider",children:[o.jsx(Zr,{size:14})," ",w.provider]}),o.jsx("time",{children:new Date(w.createdAt).toLocaleTimeString()})]}),o.jsxs("p",{className:"feedback-thread__focus",children:["Focus: ",w.focus.charAt(0).toUpperCase()+w.focus.slice(1)]}),o.jsx("pre",{children:w.response})]},w.id))}):o.jsx("p",{className:"studio-output__placeholder",children:"Request feedback to see critiques and action items here."})]}),o.jsxs(F.div,{className:"studio-panel",initial:{opacity:0,y:18},animate:{opacity:1,y:0},transition:{delay:.28},children:[o.jsxs("header",{className:"studio-panel__header",children:[o.jsxs("div",{children:[o.jsx("h3",{children:"Sensory passes"}),o.jsx("p",{children:"One-click style passes that keep your original draft intact."})]}),jr&&o.jsx(va,{className:"spin",size:16})]}),o.jsx("div",{className:"sensory-pass-actions",children:Object.keys(Xn).map(w=>{const _=Xn[w],I=jr===w;return o.jsxs("button",{type:"button",className:"ghost-button",disabled:I||O,onClick:()=>$x(w),children:[I?o.jsx(va,{className:"spin",size:14}):o.jsx(Zr,{size:14})," ",_.label]},w)})}),o.jsx("p",{className:"sensory-pass-hint",children:"Pick a pass to inject focused improvements without overwriting the existing prose."}),M&&o.jsx("div",{className:"notice notice--error",children:M}),o.jsx("div",{className:"sensory-pass-list",children:Sr.length===0?o.jsx("p",{className:"studio-output__placeholder",children:"Run a pass to see targeted revisions here."}):Sr.map(w=>{const _=Xn[w.kind];return o.jsxs("article",{className:"sensory-pass-card",children:[o.jsxs("header",{children:[o.jsxs("div",{children:[o.jsx("strong",{children:_.label}),o.jsx("small",{children:_.description})]}),o.jsx("time",{children:new Date(w.createdAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),o.jsx("pre",{className:"sensory-pass-card__body",children:w.response}),o.jsxs("div",{className:"sensory-pass-card__actions",children:[o.jsxs("button",{type:"button",className:"ghost-button",onClick:()=>Wx(w),children:[o.jsx(fu,{size:14})," Copy"]}),o.jsxs("button",{type:"button",className:"ghost-button",onClick:()=>Hx(w),children:[o.jsx(Zr,{size:14})," Append"]})]})]},w.id)})})]}),o.jsxs(F.div,{className:"studio-panel",initial:{opacity:0,y:18},animate:{opacity:1,y:0},transition:{delay:.34},children:[o.jsx("header",{className:"studio-panel__header",children:o.jsxs("div",{children:[o.jsx("h3",{children:"Studio insights"}),o.jsx("p",{children:"Snapshot of this draft's momentum and recent activity."})]})}),o.jsxs("div",{className:"insight-grid",children:[o.jsxs("article",{children:[o.jsx("span",{className:"insight-label",children:"Words in draft"}),o.jsx("strong",{children:Hi.toLocaleString()})]}),o.jsxs("article",{children:[o.jsx("span",{className:"insight-label",children:"Experiments"}),o.jsx("strong",{children:oh}),o.jsxs("small",{children:[ah," marked as winners"]})]}),o.jsxs("article",{children:[o.jsx("span",{className:"insight-label",children:"Feedback threads"}),o.jsx("strong",{children:((yh=i==null?void 0:i.feedbackThreads)==null?void 0:yh.length)??0}),o.jsx("small",{children:Gn?yn(new Date(Gn.createdAt)):"No feedback yet"})]}),o.jsxs("article",{children:[o.jsx("span",{className:"insight-label",children:"Sensory passes"}),o.jsx("strong",{children:Sr.length}),o.jsx("small",{children:Yn?yn(new Date(Yn.createdAt)):"No passes run"})]}),o.jsxs("article",{children:[o.jsx("span",{className:"insight-label",children:"Last generation"}),o.jsx("strong",{children:Ss?yn(Ss):"Not yet generated"}),o.jsxs("small",{children:["Token budget  ",Ar(P)]})]})]}),tl&&o.jsxs("section",{className:"insight-detail",children:[o.jsxs("header",{children:[o.jsx("h4",{children:"Latest comparison"}),o.jsx("span",{children:yn(new Date(tl.createdAt))})]}),o.jsx("ul",{children:tl.variants.map(w=>o.jsxs("li",{children:[o.jsx("strong",{children:w.providerLabel}),"  ",w.model,o.jsx("small",{children:w.status==="success"?`${w.tokensUsed??w.estimatedTokens} tokens`:w.status==="error"?w.error??"Failed":"Pending"})]},w.id))})]})]}),o.jsxs(F.div,{className:"studio-panel",initial:{opacity:0,y:18},animate:{opacity:1,y:0},transition:{delay:.4},children:[o.jsx("header",{className:"studio-panel__header",children:o.jsxs("div",{children:[o.jsx("h3",{children:"Activity timeline"}),o.jsx("p",{children:"Track the latest comparisons, feedback, and sensory tweaks."})]})}),o.jsx("div",{className:"timeline-list",children:lh.length===0?o.jsx("p",{className:"studio-output__placeholder",children:"Run a comparison, request feedback, or trigger a sensory pass to see activity here."}):lh.map(w=>o.jsxs("article",{className:`timeline-item timeline-item--${w.type}`,children:[o.jsxs("div",{className:"timeline-item__meta",children:[o.jsx("span",{className:"timeline-item__title",children:w.title}),o.jsx("time",{children:yn(w.timestamp)})]}),o.jsx("p",{children:w.detail})]},w.id))})]}),o.jsxs(F.div,{className:"studio-panel",initial:{opacity:0,y:18},animate:{opacity:1,y:0},transition:{delay:.46},children:[o.jsx("header",{className:"studio-panel__header",children:o.jsxs("div",{children:[o.jsx("h3",{children:"Prompt palette overview"}),o.jsx("p",{children:"Resurface your favourite recipes and see trending tags."})]})}),el.length===0?o.jsx("p",{className:"studio-output__placeholder",children:"Save a prompt to start building your palette."}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"insight-grid",children:[o.jsxs("article",{children:[o.jsx("span",{className:"insight-label",children:"Recipes saved"}),o.jsx("strong",{children:el.length})]}),o.jsxs("article",{children:[o.jsx("span",{className:"insight-label",children:"Top tag"}),kr.length?o.jsx("strong",{children:kr[0][0]}):o.jsx("strong",{children:""}),o.jsx("small",{children:kr.length?`${kr[0][1]} uses`:"Tag recipes to keep them organised"})]})]}),kr.length>0&&o.jsx("div",{className:"tag-cloud",children:kr.map(([w,_])=>o.jsxs("span",{className:"tag-chip",children:[w,"  ",_]},w))}),o.jsx("ul",{className:"panel-list",children:el.slice(0,4).map(w=>o.jsxs("li",{children:[o.jsxs("div",{children:[o.jsx("strong",{children:w.title}),o.jsx("small",{children:yn(new Date(w.updatedAt))})]}),o.jsxs("p",{children:[w.toneNotes||w.prompt.slice(0,120),w.prompt.length>120?"":""]})]},w.id))})]})]}),o.jsxs(F.div,{className:"studio-panel",initial:{opacity:0,y:18},animate:{opacity:1,y:0},transition:{delay:.52},children:[o.jsx("header",{className:"studio-panel__header",children:o.jsxs("div",{children:[o.jsx("h3",{children:"Continuity snapshot"}),o.jsx("p",{children:"Keep track of characters, plot threads, and world rules."})]})}),o.jsxs("div",{className:"insight-grid",children:[o.jsxs("article",{children:[o.jsx("span",{className:"insight-label",children:"Characters"}),o.jsx("strong",{children:nl.character})]}),o.jsxs("article",{children:[o.jsx("span",{className:"insight-label",children:"Plot threads"}),o.jsx("strong",{children:nl.plot})]}),o.jsxs("article",{children:[o.jsx("span",{className:"insight-label",children:"World facts"}),o.jsx("strong",{children:nl.world})]}),o.jsxs("article",{children:[o.jsx("span",{className:"insight-label",children:"Warnings"}),o.jsx("strong",{children:rl.length}),o.jsx("small",{children:rl.length?"Resolve continuity gaps":"All clear"})]})]}),o.jsxs("ul",{className:"panel-list",children:[nt.slice(0,4).map(w=>o.jsxs("li",{children:[o.jsxs("div",{children:[o.jsx("strong",{children:w.label}),o.jsx("small",{children:w.type})]}),o.jsx("p",{children:w.summary||"No summary yet."})]},w.id)),nt.length===0&&o.jsx("li",{children:o.jsx("p",{className:"studio-output__placeholder",children:"Capture key characters and world notes in the Continuity Coach sidebar."})})]})]}),o.jsxs(F.div,{className:"studio-panel",initial:{opacity:0,y:18},animate:{opacity:1,y:0},transition:{delay:.58},children:[o.jsx("header",{className:"studio-panel__header",children:o.jsxs("div",{children:[o.jsx("h3",{children:"Generation playbook"}),o.jsx("p",{children:"Quick reminders to keep drafts sharp and consistent."})]})}),o.jsxs("ul",{className:"panel-list",children:[o.jsxs("li",{children:[o.jsx("strong",{children:"Cross-check POV"}),o.jsx("p",{children:"Ensure the prompt, continuity notes, and latest generation share the same perspective to avoid voice drift."})]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Compare models after major edits"}),o.jsx("p",{children:"Run an A/B pass on the current paragraph to see which provider keeps tone and pacing closest to your intent."})]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Layer sensory passes sparingly"}),o.jsx("p",{children:"Append the suggested rewrite, then blend it with your draft instead of replacing everything wholesale."})]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Refresh prompt palette tags"}),o.jsx("p",{children:"Group related recipes with matching tags so you can stack experiments quickly for each genre."})]})]})]}),o.jsxs(F.div,{className:"studio-panel",initial:{opacity:0,y:18},animate:{opacity:1,y:0},transition:{delay:.64},children:[o.jsx("header",{className:"studio-panel__header",children:o.jsxs("div",{children:[o.jsx("h3",{children:"Workspace shortcuts"}),o.jsx("p",{children:"Speed through the studio with these handy keys."})]})}),o.jsxs("ul",{className:"shortcut-list",children:[o.jsxs("li",{children:[o.jsx("kbd",{children:"Alt"})," + ",o.jsx("kbd",{children:"D"}),"  Toggle debug console"]}),o.jsxs("li",{children:[o.jsx("kbd",{children:"Ctrl"})," + ",o.jsx("kbd",{children:"Enter"}),"  Run story generation"]}),o.jsxs("li",{children:[o.jsx("kbd",{children:"Shift"})," + ",o.jsx("kbd",{children:"Enter"}),"  Request feedback"]}),o.jsxs("li",{children:[o.jsx("kbd",{children:"Ctrl"})," + ",o.jsx("kbd",{children:"S"}),"  Save prompt recipe"]}),o.jsxs("li",{children:[o.jsx("kbd",{children:"Ctrl"})," + ",o.jsx("kbd",{children:"L"}),"  Focus story library search"]})]}),o.jsx("p",{className:"studio-output__placeholder",children:"Customize shortcuts in Settings  Keyboard if you need a different layout."})]}),o.jsxs(F.div,{className:"studio-panel memory-panel",initial:{opacity:0,y:18},animate:{opacity:1,y:0},transition:{delay:.7},children:[o.jsx("header",{className:"studio-panel__header",children:o.jsxs("div",{children:[o.jsx("h3",{children:"Story memory"}),o.jsx("p",{children:"Search earlier drafts and continue them in real time."})]})}),o.jsxs("label",{children:[o.jsx("span",{children:"Search by title"}),o.jsx("input",{type:"text",value:Je,onChange:w=>fn(w.target.value),placeholder:"e.g., Bob's Job"})]}),Je.trim()?ch.length?o.jsx("ul",{className:"memory-result-list",children:ch.map(w=>o.jsxs("li",{children:[o.jsxs("div",{children:[o.jsx("strong",{children:w.metadata.title}),o.jsx("span",{children:w.summary?w.summary:w.metadata.genre})]}),o.jsx("button",{type:"button",className:"ghost-button",onClick:()=>Qx(w.id),children:"Continue"})]},w.id))}):o.jsx("p",{className:"memory-hint",children:"No drafts matched that title."}):o.jsx("p",{className:"memory-hint",children:"Type a title to locate earlier drafts."}),Hn&&Z===Hn&&o.jsxs("div",{className:"memory-editor",children:[o.jsxs("header",{children:[o.jsxs("h4",{children:['Continuing "',i==null?void 0:i.metadata.title,'"']}),o.jsx("button",{type:"button",className:"ghost-button",onClick:Jx,children:"Done"})]}),o.jsx("textarea",{value:zi,onChange:w=>qa(w.target.value),rows:4,placeholder:"Add new beats or revisions  updates apply live."})]})]}),o.jsxs(F.div,{className:"studio-panel publish-panel",initial:{opacity:0,y:18},animate:{opacity:1,y:0},transition:{delay:.76},children:[o.jsx("header",{className:"studio-panel__header",children:o.jsxs("div",{children:[o.jsx("h3",{children:"Publish & share"}),o.jsx("p",{children:"Summarize your story, tag it, and make it discoverable."})]})}),o.jsxs("div",{className:"cover-builder",children:[o.jsxs("div",{className:"cover-builder__header",children:[o.jsx("span",{children:"Cover gallery (optional)"}),o.jsx("button",{type:"button",className:"ghost-button",onClick:_x,children:"Generate set"})]}),o.jsx("div",{className:"cover-style-chip-row",children:nr.map(w=>o.jsx("button",{type:"button",className:"cover-style-chip",onClick:()=>Tx(w.id),children:w.label},w.id))}),De.length?o.jsx("div",{className:"cover-variant-grid",children:De.map(w=>{const _=nr.find(ee=>ee.id===w.styleId),I=(_==null?void 0:_.label)??"Uploaded",U=V?w.id===V:De[De.length-1].id===w.id;return o.jsxs("figure",{className:U?"cover-thumb cover-thumb--active":"cover-thumb",children:[o.jsx("button",{type:"button",onClick:()=>K(w.id),children:o.jsx("img",{src:w.src,alt:I})}),o.jsxs("figcaption",{children:[o.jsx("span",{children:I}),o.jsx("button",{type:"button",onClick:()=>Mx(w.id),children:"Remove"})]})]},w.id)})}):o.jsx("p",{className:"cover-empty",children:"No cover yet. Generate a preset or upload your own art."}),o.jsxs("div",{className:"cover-upload-row",children:[o.jsxs("label",{className:"ghost-button cover-upload",children:["Upload image",o.jsx("input",{type:"file",accept:"image/*",onChange:w=>{var I;const _=(I=w.target.files)==null?void 0:I[0];_&&Rx(_)}})]}),De.length>0&&o.jsx("button",{type:"button",className:"ghost-button",onClick:()=>{hn([]),K(null)},children:"Clear all"})]})]}),o.jsxs("label",{children:[o.jsx("span",{children:"Short description"}),o.jsx("textarea",{rows:3,value:z,onChange:w=>Ye(w.target.value),placeholder:"Give readers a hook before they dive in."})]}),o.jsxs("label",{children:[o.jsx("span",{children:"Tags (comma separated)"}),o.jsx("input",{type:"text",value:Se,onChange:w=>q(w.target.value),placeholder:"#fantasy, #foundfamily"})]}),dn&&o.jsx("div",{className:"notice notice--error",children:dn}),o.jsxs("button",{type:"button",className:"primary-button",onClick:qx,disabled:xr,children:[o.jsx(zN,{size:16})," ",xr?"Publishing...":"Publish story"]})]}),o.jsxs(F.div,{className:"studio-panel",initial:{opacity:0,y:18},animate:{opacity:1,y:0},transition:{delay:.82},children:[o.jsx("header",{className:"studio-panel__header",children:o.jsxs("div",{children:[o.jsx("h3",{children:"Recent drafts"}),o.jsx("p",{children:"Jump back to iterate on earlier branches."})]})}),o.jsx("div",{className:"studio-draft-list",children:s.slice(0,6).map(w=>o.jsxs("button",{type:"button",className:w.id===(i==null?void 0:i.id)?"draft-card draft-card--active":"draft-card",onClick:()=>c(w.id),children:[o.jsx("strong",{children:w.metadata.title}),o.jsx("span",{children:new Date(w.updatedAt??w.generatedAt??Date.now()).toLocaleString()})]},w.id))})]}),o.jsxs(F.div,{className:"studio-panel",initial:{opacity:0,y:18},animate:{opacity:1,y:0},transition:{delay:.88},children:[o.jsx("header",{className:"studio-panel__header",children:o.jsxs("div",{children:[o.jsx("h3",{children:"Scene checklist"}),o.jsx("p",{children:"Quickly see which publishing tasks are already covered."})]})}),o.jsx("ul",{className:"panel-list",children:Cx.map(w=>o.jsxs("li",{children:[o.jsxs("div",{children:[o.jsx("strong",{children:w.label}),o.jsx("span",{className:w.done?"status-pill status-pill--done":"status-pill status-pill--todo",children:w.done?"Done":"To do"})]}),o.jsx("p",{children:w.detail})]},w.id))})]}),o.jsxs(F.div,{className:"studio-panel",initial:{opacity:0,y:18},animate:{opacity:1,y:0},transition:{delay:.94},children:[o.jsx("header",{className:"studio-panel__header",children:o.jsxs("div",{children:[o.jsx("h3",{children:"Creative spark"}),o.jsx("p",{children:"Use these mini prompts to punch up the current scene."})]})}),o.jsx("ul",{className:"panel-list",children:Nx.map(w=>o.jsxs("li",{children:[o.jsx("div",{children:o.jsx("strong",{children:w.title})}),o.jsx("p",{children:w.body})]},w.id))})]})]}),o.jsxs("div",{className:"studio-sticky-bar",children:[o.jsxs("button",{type:"submit",className:"primary-button",disabled:O,children:[o.jsx(yu,{size:16})," ",O?"Working...":"Generate"]}),o.jsxs("button",{type:"button",className:"ghost-button",disabled:Lt!==null||!(i!=null&&i.content),onClick:ph,children:[o.jsx(tm,{size:16})," ",Lt?"Processing...":"Feedback"]})]})]})}function iP({story:e,averageRating:t}){var k,v,C;const{user:n,toggleSubscription:r}=Te(),{deleteStory:s,toggleStoryLike:i}=ws(),a=e.reviews.length,l=((k=e.likeUserIds)==null?void 0:k.length)??0,c=n?((v=e.likeUserIds)==null?void 0:v.includes(n.id))??!1:!1,u=!!n&&n.id!==e.authorId,d=!!((C=n==null?void 0:n.subscriptions)!=null&&C.includes(e.authorId)),f=()=>{if(!(n!=null&&n.isDev))return;window.confirm("Delete this story? This cannot be undone.")&&s(e.id)},m=()=>{if(!n){window.alert("Log in or create an account to like stories and lift them to the top.");return}i(e.id,n.id)},x=()=>{if(!n){window.alert("Create an account to follow your favourite storytellers.");return}r(e.authorId)};return o.jsxs(F.article,{className:"glass-card published-story-card",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:.4},transition:{duration:.4},children:[o.jsxs("header",{children:[o.jsx("h3",{children:e.metadata.title}),o.jsx("p",{children:e.summary})]}),o.jsxs("ul",{className:"story-tag-list",children:[[e.metadata.genre,e.metadata.tone,e.metadata.perspective].filter(Boolean).slice(0,3).map(h=>o.jsx("li",{children:h},h)),e.tags.map(h=>o.jsx("li",{children:h},h))]}),o.jsxs("footer",{children:[o.jsxs("div",{className:"story-card-insights",children:[o.jsxs("div",{className:"story-card-meta",children:[o.jsx("span",{children:new Date(e.publishedAt).toLocaleDateString()}),o.jsxs("span",{className:"story-rating",children:[o.jsx(F0,{size:14})," ",t.toFixed(1)," (",a,")"]})]}),o.jsxs("button",{type:"button",className:`ghost-button story-like-button${c?" is-liked":""}`,onClick:m,"aria-pressed":c,title:c?"Unlike this story":"Like this story",children:[o.jsx(Ga,{size:14}),o.jsx("span",{children:l})]})]}),o.jsxs("div",{className:"story-card-actions",children:[u&&o.jsxs("button",{type:"button",className:`ghost-button story-subscribe-button${d?" is-subscribed":""}`,onClick:x,"aria-pressed":d,title:d?"Unfollow author":"Follow this author",children:[d?o.jsx(V0,{size:14}):o.jsx(B0,{size:14}),o.jsx("span",{children:d?"Following":"Follow author"})]}),o.jsxs(Ue,{to:`/stories/${e.id}`,className:"ghost-button",children:["Read story ",o.jsx(ga,{size:14})]}),(n==null?void 0:n.isDev)&&o.jsxs("button",{type:"button",className:"ghost-button",onClick:f,title:"Delete story",children:[o.jsx(Vi,{size:14})," Delete"]})]})]})]})}const Mm=["linear-gradient(135deg, #1d976c, #93f9b9)","linear-gradient(135deg, #654ea3, #eaafc8)","linear-gradient(135deg, #ff512f, #dd2476)","linear-gradient(135deg, #3a7bd5, #3a6073)"];function oP({stories:e}){return e.length?o.jsx("div",{className:"featured-gallery",children:e.map((t,n)=>{var c,u,d;const r=((c=t.coverGallery)==null?void 0:c[0])??t.coverImage,s=((u=t.likeUserIds)==null?void 0:u.length)??0,i=((d=t.summary)==null?void 0:d.trim())||t.content.split(/\n+/).find(Boolean)||"",a=i?`${i.slice(0,160)}${i.length>160?"":""}`:"",l=r?`linear-gradient(135deg, rgba(10, 8, 30, 0.12), rgba(10, 8, 30, 0.68)), url("${r}")`:Mm[n%Mm.length];return o.jsx(F.article,{className:"featured-gallery__card",style:{backgroundImage:l},initial:{opacity:0,y:24},whileInView:{opacity:1,y:0},whileHover:{y:-6,scale:1.01},transition:{duration:.45},viewport:{once:!0,amount:.3},children:o.jsxs("div",{className:"featured-gallery__overlay",children:[o.jsxs("span",{className:"featured-gallery__eyebrow",children:["#",n+1," spotlight"]}),o.jsx("h3",{children:t.metadata.title}),a&&o.jsx("p",{children:a}),o.jsxs("div",{className:"featured-gallery__meta",children:[o.jsxs("span",{children:["By ",t.authorName]}),o.jsxs("span",{children:[o.jsx(Ga,{size:14})," ",s]})]}),o.jsxs("ul",{className:"featured-gallery__tags",children:[[t.metadata.genre,t.metadata.tone].filter(Boolean).slice(0,2).map(f=>o.jsx("li",{children:f},f)),t.tags.slice(0,2).map(f=>o.jsx("li",{children:f},f))]}),o.jsxs(Ue,{to:`/stories/${t.id}`,className:"ghost-button featured-gallery__cta",children:["Read now ",o.jsx(ga,{size:14})]})]})},t.id)})}):null}function aP(e,t){return t===0?e:e/t}function lP(){const{stories:e,getRandomStory:t}=ws(),{achievements:n,collections:r,createCollection:s,stats:i}=rh(),{user:a}=Te(),l=$n(),[c,u]=g.useState(""),[d,f]=g.useState(null),m=g.useMemo(()=>e.slice().sort((h,p)=>{var j,S;const y=(((j=p.likeUserIds)==null?void 0:j.length)??0)-(((S=h.likeUserIds)==null?void 0:S.length)??0);return y!==0?y:new Date(p.publishedAt).getTime()-new Date(h.publishedAt).getTime()}),[e]),x=g.useMemo(()=>m.slice(0,4),[m]),k=g.useMemo(()=>m.map(h=>{const p=h.reviews.reduce((j,S)=>(j.total+=S.rating,j),{total:0}),y=h.reviews.length?aP(p.total,h.reviews.length):0;return{story:h,avg:y}}),[m]),v=()=>{if(f(null),!a){f("Log in to create collections.");return}if(!c.trim()){f("Choose a name before creating a collection.");return}const h=s(c.trim());h&&(u(""),f(`Collection "${h.name}" is ready for stories.`))},C=()=>{const h=t();if(!h){window.alert("No published stories yet. Be the first to contribute!");return}l(`/stories/${h.id}`)};return o.jsxs("div",{className:"library-page",children:[o.jsxs("section",{className:"library-hero",children:[o.jsxs(F.div,{className:"library-hero__content",initial:{opacity:0,y:36},animate:{opacity:1,y:0},transition:{duration:.6},children:[o.jsx("span",{className:"library-hero__eyebrow",children:"Community bookshelf"}),o.jsx("h1",{children:"Published stories from Dreamscribe writers"}),o.jsx("p",{children:"Explore narratives crafted with multi-model collaboration. Rate your favorites, leave thoughtful feedback, and follow the creative process from prompt to polish."}),o.jsxs("div",{className:"library-hero__cta",children:[o.jsx(Ue,{to:"/studio",className:"primary-button",children:"Publish your own"}),o.jsx("a",{className:"ghost-button",href:"#stories",children:"Browse collection"}),o.jsxs("button",{type:"button",className:"ghost-button",onClick:C,disabled:!e.length,children:[o.jsx(mu,{size:16})," Surprise me"]})]})]}),o.jsx(F.div,{className:"library-hero__glow",initial:{opacity:0},animate:{opacity:1},transition:{delay:.2,duration:.8}})]}),x.length>0&&o.jsxs("section",{className:"section-shell library-featured",id:"spotlight",children:[o.jsxs("header",{className:"library-section__header",children:[o.jsxs("div",{children:[o.jsx("h2",{children:"Spotlight stories"}),o.jsx("p",{children:'The most loved tales rise here ?" powered by reader likes.'})]}),o.jsxs("button",{type:"button",className:"ghost-button",onClick:C,children:[o.jsx(mu,{size:16})," Random story"]})]}),o.jsx(oP,{stories:x})]}),a&&o.jsxs("section",{className:"section-shell library-dashboard",children:[o.jsxs("div",{className:"library-dashboard__column",children:[o.jsx("h2",{children:"Your achievements"}),o.jsxs("p",{className:"library-dashboard__meta",children:["Published ",i.publishedStoryIds.length," story",i.publishedStoryIds.length===1?"":"ies",", received ",i.reviewsReceived," review",i.reviewsReceived===1?"":"s",", wrote ",i.reviewsWritten," review",i.reviewsWritten===1?"":"s","."]}),n.length?o.jsx("ul",{className:"achievement-list",children:n.slice().sort((h,p)=>h.unlockedAt<p.unlockedAt?1:-1).map(h=>o.jsxs("li",{children:[o.jsx("strong",{children:h.title}),o.jsx("span",{children:h.description}),o.jsx("time",{children:new Date(h.unlockedAt).toLocaleDateString()})]},h.id))}):o.jsx("p",{className:"studio-output__placeholder",children:"Unlock your first badge by publishing a story or leaving a review."})]}),o.jsxs("div",{className:"library-dashboard__column",children:[o.jsx("h2",{children:"Your collections"}),o.jsxs("div",{className:"library-dashboard__actions",children:[o.jsx("input",{type:"text",value:c,onChange:h=>u(h.target.value),placeholder:"New collection name"}),o.jsx("button",{type:"button",className:"ghost-button",onClick:v,children:"Create"})]}),d&&o.jsx("div",{className:"notice notice--muted",children:d}),r.length?o.jsx("ul",{className:"collection-list",children:r.map(h=>o.jsxs("li",{children:[o.jsxs("div",{children:[o.jsx("strong",{children:h.name}),o.jsxs("span",{children:[h.stories.length," story",h.stories.length===1?"":"ies"]})]}),h.stories.length>0&&o.jsxs("div",{className:"collection-list__stories",children:[h.stories.slice(0,3).map(p=>o.jsx("span",{children:p.title},p.id)),h.stories.length>3&&o.jsxs("span",{children:["+",h.stories.length-3," more"]})]})]},h.id))}):o.jsx("p",{className:"studio-output__placeholder",children:"Organize your favourite reads by creating a collection."})]})]}),o.jsxs("section",{className:"section-shell",id:"stories",children:[o.jsxs("header",{className:"library-section__header",children:[o.jsx("h2",{children:"Trending now"}),o.jsx("p",{children:"Stories float to the top as likes pour in. Discover what the community is rallying behind."})]}),o.jsx("div",{className:"library-grid",children:k.length===0?o.jsx("p",{className:"studio-output__placeholder",children:"No stories have been published yet. Share yours from the studio once you are ready!"}):k.map(({story:h,avg:p})=>o.jsx(iP,{story:h,averageRating:p},h.id))})]})]})}function dx(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=dx(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function es(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=dx(e))&&(r&&(r+=" "),r+=t);return r}function ju({value:e,onChange:t,size:n=18,readOnly:r=!1}){const s=g.useMemo(()=>[1,2,3,4,5],[]);return o.jsx("div",{className:"rating-stars",children:s.map(i=>{const a=e>=i;return o.jsx("button",{type:"button",className:es("rating-star",a&&"rating-star--active",r&&"rating-star--readonly"),onClick:()=>!r&&(t==null?void 0:t(i)),"aria-label":r?void 0:`Select ${i} star${i>1?"s":""}`,disabled:r,children:o.jsx(F0,{size:n})},i)})})}function cP({reviews:e,canModerate:t=!1,onDelete:n}){return e.length===0?o.jsx("p",{className:"studio-output__placeholder",children:"No reviews yet. Be the first to respond."}):o.jsx("div",{className:"review-list",children:e.map(r=>o.jsxs("article",{className:"review-card",children:[o.jsxs("header",{children:[o.jsx("strong",{children:r.reviewerName}),o.jsx("span",{children:new Date(r.createdAt).toLocaleString()})]}),o.jsx(ju,{value:r.rating,size:16,readOnly:!0}),o.jsx("p",{children:r.comment}),t&&o.jsx("div",{children:o.jsx("button",{type:"button",className:"ghost-button",onClick:()=>n==null?void 0:n(r.id),children:"Delete"})})]},r.id))})}function uP(){var pn,M,H;const e=aS(),t=$n(),{getStoryById:n,addReview:r,deleteStory:s,deleteReview:i,toggleStoryLike:a,getRandomStory:l}=ws(),{recordLog:c}=nh(),u=e.storyId?n(e.storyId):void 0,{user:d,toggleSubscription:f}=Te(),{collections:m,createCollection:x,addStoryToCollection:k,removeStoryFromCollection:v,recordReviewWritten:C,recordReviewReceived:h}=rh(),[p,y]=g.useState(5),[j,S]=g.useState(""),[b,T]=g.useState(null),[A,N]=g.useState(""),[P,E]=g.useState(""),[R,L]=g.useState(null),[z,Ye]=g.useState(0),[Se,q]=g.useState(!1),O=g.useRef(null),$=((pn=u==null?void 0:u.likeUserIds)==null?void 0:pn.length)??0,W=u&&d?((M=u.likeUserIds)==null?void 0:M.includes(d.id))??!1:!1,te=!!(u&&d&&d.id!==u.authorId),J=!!(u&&((H=d==null?void 0:d.subscriptions)!=null&&H.includes(u.authorId))),Qe=g.useMemo(()=>!u||u.reviews.length===0?0:u.reviews.reduce((K,Je)=>K+Je.rating,0)/u.reviews.length,[u]),ke=g.useMemo(()=>{var K;return u?(K=u.summary)!=null&&K.trim()?u.summary.trim().slice(0,400):(u.content.split(/\n\n+/).find(Boolean)??u.content).slice(0,400):""},[u]);g.useEffect(()=>{if(!d){E("");return}if(m.length===0){E("");return}m.some(V=>V.id===P)||E(m[0].id)},[m,d,P]),g.useEffect(()=>{Ye(0),typeof window<"u"&&"speechSynthesis"in window&&window.speechSynthesis.cancel(),q(!1)},[u==null?void 0:u.id]),g.useEffect(()=>()=>{typeof window<"u"&&"speechSynthesis"in window&&window.speechSynthesis.cancel()},[]);const Ct=g.useMemo(()=>m.filter(V=>V.stories.some(K=>K.id===(u==null?void 0:u.id))),[m,u==null?void 0:u.id]);if(!u)return o.jsxs("div",{className:"section-shell",children:[o.jsxs("button",{type:"button",className:"ghost-button",onClick:()=>t(-1),children:[o.jsx(qf,{size:16})," Back"]}),o.jsx("p",{className:"studio-output__placeholder",children:"Story not found."})]});const Le=u.coverImage,$e=u.coverGallery??(Le?[Le]:[]),Lt=()=>{!(d!=null&&d.isDev)||!window.confirm("Delete this story? This cannot be undone.")||(s(u.id),t("/stories",{replace:!0}))},vr=V=>{if(V.preventDefault(),!j.trim()){T("Please share a few thoughts along with your rating.");return}r({storyId:u.id,reviewerName:(d==null?void 0:d.displayName)??"Guest Reader",rating:p,comment:j.trim()}),d&&(C(u.id),u.authorId===d.id&&h(u.id)),S(""),T(null)},dn=()=>{if(L(null),!d){L("Log in to create collections.");return}if(!A.trim()){L("Choose a name for your collection.");return}const V=x(A.trim());V&&(E(V.id),N(""),L(`Collection "${V.name}" created.`))},pt=()=>{if(u){if(!d){window.alert("Log in to like stories. The most-loved tales rise to the top.");return}a(u.id,d.id)}},xr=()=>{if(!u||!d){window.alert("Sign in to follow authors and get their new releases first.");return}f(u.authorId)},wr=()=>{if(!u)return;const V=l(u.id);if(!V){window.alert("No other published stories yet. Be the first to share one!");return}t(`/stories/${V.id}`)},De=()=>{if(L(null),!d){L("Log in to save stories to collections.");return}if(!P){L("Create or select a collection first.");return}k(P,{id:u.id,title:u.metadata.title,authorName:u.authorName}),L("Added to collection.")},hn=V=>{v(V,u.id)},jr=()=>{if(!ke)return;if(typeof window>"u"||!("speechSynthesis"in window)){alert("Text-to-speech is not supported in this browser.");return}const V=window.speechSynthesis;if(Se){V.cancel(),q(!1);return}const K=new SpeechSynthesisUtterance(ke);K.onend=()=>q(!1),K.onerror=()=>q(!1),K.rate=1,K.pitch=1,V.cancel(),V.speak(K),O.current=K,q(!0)};return o.jsxs("div",{className:"story-detail",children:[o.jsxs("section",{className:"section-shell story-detail__header",children:[o.jsxs("div",{className:"story-detail__header-actions",children:[o.jsxs("button",{type:"button",className:"ghost-button",onClick:()=>t(-1),children:[o.jsx(qf,{size:16})," Back"]}),(d==null?void 0:d.isDev)&&o.jsxs("button",{type:"button",className:"ghost-button",onClick:Lt,title:"Delete story",children:[o.jsx(Vi,{size:16})," Delete"]})]}),$e.length>0&&o.jsxs("div",{className:"story-cover-gallery",children:[o.jsx("img",{src:$e[z],alt:"Story cover"}),$e.length>1&&o.jsx("div",{className:"story-cover-gallery__thumbs",children:$e.map((V,K)=>o.jsx("button",{type:"button",className:K===z?"cover-thumb-button cover-thumb-button--active":"cover-thumb-button",onClick:()=>Ye(K),children:o.jsx("img",{src:V,alt:`Cover variant ${K+1}`})},K))})]}),o.jsxs(F.div,{initial:{opacity:0,y:24},animate:{opacity:1,y:0},transition:{duration:.45},children:[o.jsxs("span",{className:"story-detail__meta",children:["By ",u.authorName]}),o.jsx("h1",{children:u.metadata.title}),o.jsxs("div",{className:"story-detail__tags",children:[o.jsx("span",{children:u.metadata.genre}),o.jsx("span",{children:u.metadata.tone}),o.jsx("span",{children:u.metadata.targetLength})]}),o.jsxs("div",{className:"story-detail__ratings",children:[o.jsx(ju,{value:Math.round(Qe),readOnly:!0}),o.jsxs("span",{children:[Qe?Qe.toFixed(1):"No reviews yet"," | ",u.reviews.length," review",u.reviews.length===1?"":"s"]})]}),o.jsx("p",{className:"story-detail__summary",children:u.summary}),ke&&o.jsxs("div",{className:"story-detail__actions",children:[o.jsxs("button",{type:"button",className:"ghost-button",onClick:jr,children:[Se?o.jsx(FN,{size:16}):o.jsx($N,{size:16})," ",Se?"Stop preview":"Play preview"]}),o.jsxs("button",{type:"button",className:`ghost-button story-detail__like${W?" is-liked":""}`,onClick:pt,"aria-pressed":W,children:[o.jsx(Ga,{size:16})," ",$," like",$===1?"":"s"]}),te&&o.jsxs("button",{type:"button",className:`ghost-button story-detail__subscribe${J?" is-subscribed":""}`,onClick:xr,"aria-pressed":J,children:[J?o.jsx(V0,{size:16}):o.jsx(B0,{size:16})," ",J?"Following author":"Follow author"]}),o.jsxs("button",{type:"button",className:"ghost-button",onClick:wr,children:[o.jsx(mu,{size:16})," Surprise me"]})]})]})]}),o.jsxs("section",{className:"section-shell story-detail__content",children:[o.jsx(F.article,{initial:{opacity:0,y:24},animate:{opacity:1,y:0},transition:{duration:.45},children:o.jsx("pre",{children:u.content})}),o.jsxs("aside",{className:"story-detail__aside",children:[o.jsxs("div",{className:"story-detail__info",children:[o.jsx("h2",{children:"Story snapshot"}),o.jsx("p",{className:"story-detail__info-text",children:"Keep readers oriented with the essentials  genre, tone, perspective, and the tags you set when publishing."}),o.jsxs("ul",{className:"story-detail__info-list",children:[o.jsxs("li",{children:[o.jsx("span",{children:"Published"}),o.jsx("strong",{children:new Date(u.publishedAt).toLocaleString()})]}),o.jsxs("li",{children:[o.jsx("span",{children:"Perspective"}),o.jsx("strong",{children:u.metadata.perspective})]}),o.jsxs("li",{children:[o.jsx("span",{children:"Tags"}),o.jsx("div",{className:"story-detail__tag-chips",children:u.tags.length?u.tags.map(V=>o.jsx("span",{children:V},V)):o.jsx("span",{children:"#fiction"})})]})]})]}),o.jsxs("div",{className:"story-collections-card",children:[o.jsx("h2",{children:"Collections"}),o.jsxs("div",{className:"story-collections-actions",children:[o.jsx("input",{type:"text",value:A,onChange:V=>N(V.target.value),placeholder:"New collection name"}),o.jsx("button",{type:"button",className:"ghost-button",onClick:dn,children:"Create"})]}),o.jsxs("div",{className:"story-collections-actions",children:[o.jsx("select",{value:P,onChange:V=>E(V.target.value),disabled:!m.length,children:m.length===0?o.jsx("option",{value:"",children:"No collections yet"}):m.map(V=>o.jsx("option",{value:V.id,children:V.name},V.id))}),o.jsx("button",{type:"button",className:"ghost-button",onClick:De,children:"Save story"})]}),R&&o.jsx("div",{className:"notice notice--muted",children:R}),Ct.length>0?o.jsx("ul",{className:"story-collections-list",children:Ct.map(V=>o.jsxs("li",{children:[o.jsx("span",{children:V.name}),o.jsx("button",{type:"button",onClick:()=>hn(V.id),children:"Remove"})]},V.id))}):o.jsx("p",{className:"story-detail__info-text",children:"This story hasn't been saved to any of your collections yet."})]})]})]}),o.jsxs("section",{className:"section-shell story-detail__reviews",children:[o.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.45},children:[o.jsx("h2",{children:"Community reviews"}),o.jsx(cP,{reviews:u.reviews,canModerate:!!(d!=null&&d.isDev),onDelete:V=>{i(V),c({type:"delete_review",targetResourceId:V,details:`from story: ${u.id}`})}})]}),o.jsxs(F.form,{className:"review-form",onSubmit:vr,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1,duration:.45},children:[o.jsx("h3",{children:"Leave your feedback"}),o.jsx(ju,{value:p,onChange:y}),o.jsx("textarea",{value:j,onChange:V=>S(V.target.value),placeholder:"Share what resonated, scenes you loved, or ways to improve.",rows:4}),b&&o.jsx("div",{className:"notice notice--error",children:b}),o.jsx("button",{type:"submit",className:"primary-button",children:"Post review"})]})]})]})}function Su({size:e="sm",showIcon:t=!0,className:n=""}){const r={sm:10,md:12,lg:14},s={sm:"dev-badge--sm",md:"dev-badge--md",lg:"dev-badge--lg"};return o.jsxs("span",{className:`dev-badge ${s[e]} ${n}`,title:"Developer","aria-label":"Developer",children:[t&&o.jsx(ON,{size:r[e],"aria-hidden":!0}),o.jsx("span",{className:"dev-badge__label",children:"DEV"}),o.jsx("span",{className:"dev-badge__dot","aria-hidden":!0})]})}const ku="sf:theme",hx=g.createContext(void 0);function dP(){var e;if(typeof window>"u")return"radiant";try{const t=window.localStorage.getItem(ku);if(t==="radiant"||t==="dark")return t}catch{}return(e=window.matchMedia)!=null&&e.call(window,"(prefers-color-scheme: dark)").matches?"dark":"radiant"}function hP({children:e}){const[t,n]=g.useState(dP);g.useEffect(()=>{if(!(typeof document>"u")){document.documentElement.dataset.theme=t,document.body.dataset.theme=t;try{window.localStorage.setItem(ku,t)}catch{}}},[t]),g.useEffect(()=>{var u;if(typeof window>"u")return;const l=(u=window.matchMedia)==null?void 0:u.call(window,"(prefers-color-scheme: dark)");if(!l)return;const c=d=>{n(f=>{if(f!=="radiant"&&f!=="dark")return f;const m=window.localStorage.getItem(ku);return m==="radiant"||m==="dark"?f:d.matches?"dark":"radiant"})};return l.addEventListener("change",c),()=>l.removeEventListener("change",c)},[]);const r=l=>{n(l==="dark"?"dark":"radiant")},s=()=>{n(l=>l==="dark"?"radiant":"dark")},i=g.useMemo(()=>[{id:"radiant",label:"Radiant",description:"Signature Dreamscribe glow"},{id:"dark",label:"Dark Mode",description:"Low-light friendly contrast"}],[]),a=g.useMemo(()=>({theme:t,setTheme:r,toggleTheme:s,options:i}),[t,i]);return o.jsx(hx.Provider,{value:a,children:e})}function px(){const e=g.useContext(hx);if(!e)throw new Error("useTheme must be used within a ThemeProvider");return e}const fx="sf:roles",Im="sf:user-roles",ql=[{id:"paid",name:"paid",label:"PAID member",color:"#f59e0b",textColor:"#1a1306",emoji:""},{id:"free",name:"broke",label:"Broke",color:"rgba(255,255,255,0.14)",textColor:"#ffffff",emoji:""}];function pP(){try{const e=localStorage.getItem(fx);if(!e)return ql;const t=JSON.parse(e),n=new Map(ql.map(r=>[r.id,r]));for(const r of t)n.set(r.id,r);return Array.from(n.values())}catch{return ql}}function Zl(e){localStorage.setItem(fx,JSON.stringify(e))}const mx=g.createContext(void 0);function fP({children:e}){const[t,n]=g.useState(()=>pP()),[r,s]=g.useState(()=>{try{return JSON.parse(localStorage.getItem(Im)||"{}")}catch{return{}}}),i=g.useCallback(m=>t.find(x=>x.id===m),[t]),a=g.useCallback(m=>{const x={id:ge("role"),...m};return n(k=>{const v=[...k,x];return Zl(v),v}),x},[]),l=g.useCallback((m,x)=>{n(k=>{const v=k.map(C=>C.id===m?{...C,...x}:C);return Zl(v),v})},[]),c=g.useCallback(m=>{n(x=>{const k=x.filter(v=>v.id!==m);return Zl(k),k})},[]),u=g.useCallback((m,x)=>{const k=r[m];return k||(x!=null&&x.isDev?"paid":"free")},[r]),d=g.useCallback((m,x)=>{s(k=>{const v={...k};return x?v[m]=x:delete v[m],localStorage.setItem(Im,JSON.stringify(v)),v})},[]),f=g.useMemo(()=>({roles:t,getRole:i,createRole:a,updateRole:l,deleteRole:c,getUserRoleId:u,assignRole:d}),[t,i,a,l,c,u,d]);return o.jsx(mx.Provider,{value:f,children:e})}function sh(){const e=g.useContext(mx);if(!e)throw new Error("useRoles must be used within a RolesProvider");return e}function yx({role:e,size:t="sm"}){if(!e)return null;const n=t==="sm"?"2px 8px":"4px 10px",r=t==="sm"?11:12;return o.jsxs("span",{className:"role-badge",style:{display:"inline-flex",alignItems:"center",gap:6,borderRadius:999,padding:n,fontSize:r,fontWeight:700,color:e.textColor,background:e.color,border:"1px solid rgba(255,255,255,0.18)"},title:e.label,children:[e.emoji?o.jsx("span",{"aria-hidden":!0,children:e.emoji}):null,o.jsx("span",{children:e.label})]})}const mP=[{label:"Features",to:"/#features"},{label:"Stories",to:"/stories"},{label:"AI Studio",to:"/studio"},{label:"Pricing",to:"/#pricing"},{label:"FAQ",to:"/#faq"}];function yP(){var m,x;const{user:e,logout:t}=Te(),{getRole:n,getUserRoleId:r}=sh(),{toggleConsole:s}=Bi(),{theme:i,toggleTheme:a}=px(),[l,c]=g.useState(!1),u=It(),d=u.pathname==="/",f=()=>{c(!1)};return o.jsx("header",{className:es("site-header",u.pathname==="/"&&"site-header--glass"),children:o.jsxs("div",{className:"site-header__inner",children:[o.jsxs(Ue,{to:"/",className:"site-logo",onClick:f,children:[o.jsx("span",{className:"site-logo__mark","aria-hidden":!0,children:o.jsx("img",{src:"/brand-mark.svg",alt:""})}),o.jsx("span",{className:"site-logo__text",children:"Dreamscribe"})]}),o.jsx("nav",{className:es("site-nav",l&&"site-nav--open"),children:mP.map(k=>o.jsx(IS,{to:k.to,onClick:f,className:({isActive:v})=>es("site-nav__link",v&&"site-nav__link--active"),children:k.label},k.label))}),o.jsxs("div",{className:"site-header__cta",children:[d&&o.jsx("span",{className:"site-header__version","aria-label":"Site version",children:"v1.0  Public"}),o.jsx("button",{type:"button",className:"site-header__link",onClick:a,"aria-label":`Switch to ${i==="dark"?"light":"dark"} mode`,title:`Switch to ${i==="dark"?"light":"dark"} mode`,children:i==="dark"?o.jsx(VN,{size:18}):o.jsx(RN,{size:18})}),o.jsx("button",{type:"button",className:"site-header__link",onClick:s,children:"Debug"}),e&&o.jsxs(o.Fragment,{children:[o.jsx(Ue,{to:"/settings",className:"site-header__link",onClick:f,children:"Settings"}),(e.isDev||e.isAdmin)&&o.jsx(Ue,{to:"/dev",className:"site-header__link",onClick:f,children:"Dev tools"})]}),e?o.jsxs("div",{className:"site-header__user",children:[o.jsxs("div",{className:"site-header__user-main",children:[o.jsx("span",{className:"site-header__avatar",children:((x=(m=e.displayName)==null?void 0:m[0])==null?void 0:x.toUpperCase())??"U"}),o.jsxs("div",{className:"site-header__name-wrap",children:[o.jsx("span",{className:"site-header__username",children:e.displayName}),o.jsx("span",{className:"site-header__email",children:e.email})]})]}),o.jsxs("div",{className:"site-header__user-tags",children:[(()=>{const k=r(e.username,{isDev:e.isDev,isAdmin:e.isAdmin}),v=n(k);return o.jsx(yx,{role:v,size:"sm"})})(),e.isDev&&o.jsx(Su,{size:"sm"}),o.jsx("button",{type:"button",className:"logout-button",onClick:t,children:"Log out"})]})]}):o.jsxs("div",{className:"site-header__auth",children:[o.jsx(Ue,{to:"/login",className:"ghost-button",onClick:f,children:"Log in"}),o.jsx(Ue,{to:"/signup",className:"primary-button",onClick:f,children:"Sign up"})]})]}),o.jsx("button",{type:"button",className:"site-header__menu",onClick:()=>c(k=>!k),"aria-label":l?"Close navigation":"Open navigation",children:l?o.jsx(Ya,{size:20}):o.jsx(_N,{size:20})})]})})}function gP(){return o.jsxs("footer",{className:"site-footer",children:[o.jsxs("div",{className:"site-footer__content",children:[o.jsxs("div",{children:[o.jsx("span",{className:"site-footer__brand",children:"Dreamscribe"}),o.jsx("p",{className:"site-footer__tagline",children:"Craft immersive tales, revisit past drafts, and build the worlds you dream about."})]}),o.jsxs("div",{className:"site-footer__links",children:[o.jsx("a",{href:"#features",children:"Features"}),o.jsx("a",{href:"#pricing",children:"Pricing"}),o.jsx("a",{href:"#faq",children:"FAQ"}),o.jsx("a",{href:"mailto:support@dreamscribe.app",children:"Support"})]})]}),o.jsxs("div",{className:"site-footer__meta",children:[o.jsxs("span",{children:[" ",new Date().getFullYear()," Dreamscribe Labs"]}),o.jsxs("div",{className:"site-footer__meta-links",children:[o.jsx("a",{href:"#terms",children:"Terms"}),o.jsx("a",{href:"#privacy",children:"Privacy"})]})]})]})}const ec={info:"Info",request:"Request",response:"Response",error:"Error"};function vP(){const{logs:e,clear:t,isConsoleOpen:n,toggleConsole:r}=Bi(),[s,i]=g.useState("all"),a=g.useMemo(()=>s==="all"?e:e.filter(c=>c.level===s),[e,s]),l=c=>{navigator.clipboard.writeText(JSON.stringify(c,null,2)).catch(u=>{console.error("Failed to copy payload",u)})};return o.jsx(Sd,{children:n&&o.jsxs(F.div,{className:"debug-console",initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"spring",stiffness:180,damping:22},children:[o.jsxs("header",{className:"debug-console__header",children:[o.jsxs("div",{children:[o.jsx("span",{className:"debug-console__title",children:"Debug Console"}),o.jsx("span",{className:"debug-console__meta",children:"Inspect AI requests, responses, and errors"})]}),o.jsxs("div",{className:"debug-console__actions",children:[o.jsxs("button",{type:"button",className:"ghost-button",onClick:t,children:[o.jsx(Vi,{size:16})," Clear"]}),o.jsxs("button",{type:"button",className:"ghost-button",onClick:r,children:[o.jsx(Ya,{size:16})," Close"]})]})]}),o.jsxs("div",{className:"debug-console__filters",children:[o.jsxs("button",{type:"button",className:es("chip",s==="all"&&"chip--active"),onClick:()=>i("all"),children:["All (",e.length,")"]}),Object.keys(ec).map(c=>o.jsx("button",{type:"button",className:es("chip",s===c&&"chip--active"),onClick:()=>i(c),children:ec[c]},c))]}),o.jsx("div",{className:"debug-console__list",children:a.length===0?o.jsx("p",{className:"debug-console__empty",children:"No events captured yet. Trigger a generation or feedback request to populate logs."}):a.map(c=>o.jsxs("article",{className:`debug-entry debug-entry--${c.level}`,children:[o.jsxs("header",{className:"debug-entry__header",children:[o.jsx("span",{className:"debug-entry__level",children:ec[c.level]}),o.jsx("time",{children:new Date(c.timestamp).toLocaleTimeString()})]}),o.jsx("p",{className:"debug-entry__summary",children:c.summary}),c.payload!=null&&o.jsxs("pre",{className:"debug-entry__payload",children:[JSON.stringify(c.payload,null,2),o.jsx("button",{type:"button",onClick:()=>l(c.payload),"aria-label":"Copy payload",children:o.jsx(CN,{size:16})})]})]},c.id))})]})})}function xP({open:e,onClose:t,commands:n}){const[r,s]=g.useState(""),[i,a]=g.useState(0),l=g.useMemo(()=>{const c=r.trim().toLowerCase();return c?n.filter(u=>{var d;return u.label.toLowerCase().includes(c)||((d=u.description)==null?void 0:d.toLowerCase().includes(c))}):n},[r,n]);return g.useEffect(()=>{if(!e){s(""),a(0);return}const c=u=>{if(u.key==="Escape"&&t(),u.key==="ArrowDown"&&(u.preventDefault(),a(d=>Math.min(d+1,Math.max(l.length-1,0)))),u.key==="ArrowUp"&&(u.preventDefault(),a(d=>Math.max(d-1,0))),u.key==="Enter"){u.preventDefault();const d=l[i];d&&(t(),requestAnimationFrame(()=>d.onSelect()))}};return window.addEventListener("keydown",c),()=>window.removeEventListener("keydown",c)},[e,i,l,t]),g.useEffect(()=>{if(!e)return;const c=requestAnimationFrame(()=>{const u=document.querySelector(".command-palette__input");u==null||u.focus()});return()=>cancelAnimationFrame(c)},[e]),e?o.jsxs("div",{className:"command-palette",role:"dialog","aria-modal":!0,children:[o.jsx("div",{className:"command-palette__backdrop",onClick:t}),o.jsxs("div",{className:"command-palette__panel",children:[o.jsx("input",{className:"command-palette__input",placeholder:"Search commands",value:r,onChange:c=>{s(c.target.value),a(0)}}),o.jsx("ul",{className:"command-palette__list",children:l.length===0?o.jsx("li",{className:"command-palette__empty",children:'No matches. Try "studio" or "library".'}):l.map((c,u)=>o.jsx("li",{children:o.jsxs("button",{type:"button",className:u===i?"command-option command-option--active":"command-option",onClick:()=>{t(),c.onSelect()},children:[o.jsxs("div",{children:[o.jsx("span",{children:c.label}),c.description&&o.jsx("small",{children:c.description})]}),c.shortcut&&o.jsx("kbd",{children:c.shortcut})]})},c.id))})]})]}):null}const gx="sf:announcement",Ws={current:null,dismissedBy:{},heartedBy:{}};function wP(){if(typeof window>"u")return Ws;try{const e=window.localStorage.getItem(gx);if(!e)return Ws;const t=JSON.parse(e);return t&&typeof t=="object"?{current:t.current??null,dismissedBy:t.dismissedBy??{},heartedBy:t.heartedBy??{}}:Ws}catch{return Ws}}const vx=g.createContext(void 0);function jP({children:e}){const[t,n]=g.useState(()=>wP());g.useEffect(()=>{if(!(typeof window>"u"))try{window.localStorage.setItem(gx,JSON.stringify(t))}catch{}},[t]);const r=g.useCallback(c=>{const u=c.message.trim();if(!u)throw new Error("Announcement message cannot be empty");const d={id:ge("ann"),message:u,createdAt:new Date().toISOString(),allowHearts:!!c.allowHearts};return n({current:d,dismissedBy:{},heartedBy:{}}),d},[]),s=g.useCallback(()=>{n(Ws)},[]),i=g.useCallback(c=>{n(u=>!u.current||!c||u.dismissedBy[c]?u:{...u,dismissedBy:{...u.dismissedBy,[c]:new Date().toISOString()}})},[]),a=g.useCallback(c=>{n(u=>{if(!u.current||!u.current.allowHearts||!c)return u;const d={...u.heartedBy};return d[c]?delete d[c]:d[c]=new Date().toISOString(),{...u,heartedBy:d}})},[]),l=g.useMemo(()=>({announcement:t.current,dismissedBy:t.dismissedBy,heartedBy:t.heartedBy,publishAnnouncement:r,clearAnnouncement:s,dismissForUser:i,toggleHeart:a}),[t,r,s,i,a]);return o.jsx(vx.Provider,{value:l,children:e})}function xx(){const e=g.useContext(vx);if(!e)throw new Error("useAnnouncements must be used within an AnnouncementsProvider");return e}function SP(){const{user:e}=Te(),{announcement:t,dismissedBy:n,heartedBy:r,dismissForUser:s,toggleHeart:i}=xx(),a=e?!!n[e.id]:!1,l=!!(e&&t&&!a),c=t?Object.keys(r).length:0,u=e?!!r[e.id]:!1;return o.jsx(Sd,{children:l&&t&&e&&o.jsxs(F.aside,{className:"announcement-prompt",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:12},transition:{duration:.25},children:[o.jsx("button",{type:"button",className:"announcement-prompt__close",onClick:()=>s(e.id),"aria-label":"Dismiss announcement",children:o.jsx(Ya,{size:16})}),o.jsxs("div",{className:"announcement-prompt__body",children:[o.jsx("h3",{children:"Latest from the devs"}),o.jsx("p",{children:t.message})]}),o.jsxs("div",{className:"announcement-prompt__footer",children:[o.jsx("span",{children:new Date(t.createdAt).toLocaleString()}),t.allowHearts&&o.jsxs("button",{type:"button",className:`announcement-prompt__heart ${u?"is-active":""}`,onClick:()=>i(e.id),"aria-label":u?"Remove heart":"Send heart",children:[o.jsx(Ga,{size:16,fill:u?"currentColor":"none"}),o.jsx("span",{children:c})]})]})]},"global-announcement")})}const Pr=[{id:"welcome",title:"Welcome to Dreamscribe! ",description:"Your AI-powered creative writing studio. Let's get you started in just a few seconds.",icon:o.jsx(Zr,{size:32})},{id:"studio",title:"AI Studio",description:"Generate stories with AI, experiment with different models, and refine your drafts with feedback tools."},{id:"library",title:"Story Library",description:"Publish your finished stories to the library where others can read and discover your work."},{id:"features",title:"Powerful Features",description:"Use Continuity Coach to track characters, Sensory Passes to enrich details, and A/B testing to compare AI models."},{id:"starter",title:"Starter Prompt",description:'Try this prompt to create your first story: "Write a short story about a character who discovers an unexpected gift that changes their perspective on life. Focus on vivid sensory details and emotional depth."'}],kP=4e3;function bP(){const{user:e,completeOnboarding:t}=Te(),[n,r]=g.useState(0),[s,i]=g.useState(!1),[a,l]=g.useState(!1);g.useEffect(()=>{if(e&&!e.hasCompletedOnboarding){const v=setTimeout(()=>i(!0),500);return()=>clearTimeout(v)}},[e]),g.useEffect(()=>{if(!s||a)return;const v=setTimeout(()=>{n<Pr.length-1&&r(C=>C+1)},kP);return()=>clearTimeout(v)},[n,s,a]);const c=()=>{n<Pr.length-1?r(v=>v+1):d()},u=()=>{n>0&&r(v=>v-1)},d=()=>{i(!1),t()},f=()=>{i(!1),t()},m=async()=>{await navigator.clipboard.writeText("Write a short story about a character who discovers an unexpected gift that changes their perspective on life. Focus on vivid sensory details and emotional depth.")};if(!e||e.hasCompletedOnboarding)return null;const x=Pr[n],k=(n+1)/Pr.length*100;return o.jsx(Sd,{children:s&&o.jsxs(o.Fragment,{children:[o.jsx(F.div,{className:"onboarding-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:f}),o.jsxs(F.div,{className:"onboarding-tour",initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},transition:{duration:.3},onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),children:[o.jsx("button",{type:"button",className:"onboarding-tour__close",onClick:f,"aria-label":"Skip tour",children:o.jsx(Ya,{size:20})}),o.jsx("div",{className:"onboarding-tour__progress",children:o.jsx("div",{className:"onboarding-tour__progress-bar",style:{width:`${k}%`}})}),o.jsxs("div",{className:"onboarding-tour__content",children:[x.icon&&o.jsx("div",{className:"onboarding-tour__icon",children:x.icon}),o.jsx("h2",{className:"onboarding-tour__title",children:x.title}),o.jsx("p",{className:"onboarding-tour__description",children:x.description}),x.id==="starter"&&o.jsx("button",{type:"button",className:"ghost-button",onClick:m,style:{marginTop:12},children:"Copy starter prompt"})]}),o.jsxs("div",{className:"onboarding-tour__footer",children:[o.jsx("div",{className:"onboarding-tour__dots",children:Pr.map((v,C)=>o.jsx("button",{type:"button",className:`onboarding-tour__dot ${C===n?"onboarding-tour__dot--active":""}`,onClick:()=>r(C),"aria-label":`Go to step ${C+1}`},C))}),o.jsxs("div",{className:"onboarding-tour__actions",children:[o.jsxs("button",{type:"button",className:"ghost-button",onClick:u,disabled:n===0,style:{opacity:n===0?.5:1},children:[o.jsx(SN,{size:18}),"Previous"]}),o.jsx("button",{type:"button",className:"primary-button",onClick:c,children:n===Pr.length-1?"Get Started":o.jsxs(o.Fragment,{children:["Next",o.jsx(kN,{size:18})]})})]})]})]})]})})}function CP({children:e}){const[t,n]=g.useState(!1),r=$n(),s=It(),{user:i}=Te(),{toggleConsole:a}=Bi();g.useEffect(()=>{const c=u=>{const d=u.key.toLowerCase();(u.metaKey||u.ctrlKey)&&d==="k"&&(u.preventDefault(),n(f=>!f))};return window.addEventListener("keydown",c),()=>window.removeEventListener("keydown",c)},[]),g.useEffect(()=>{n(!1)},[s.pathname]);const l=g.useMemo(()=>{const c=[{id:"go-studio",label:"Go to Studio",description:"Open the writing workspace",shortcut:"G S",onSelect:()=>r("/studio")},{id:"go-library",label:"Browse Library",description:"Read and review published stories",shortcut:"G L",onSelect:()=>r("/stories")},{id:"go-home",label:"Back to landing",description:"Return to the hero page",onSelect:()=>r("/")},{id:"toggle-debug",label:"Toggle debug console",description:"Show or hide the request log",shortcut:"Alt + D",onSelect:a}];return i&&c.splice(1,0,{id:"go-settings",label:"Settings",description:"Update profile, security, and preferences",onSelect:()=>r("/settings")}),(i!=null&&i.isDev||i!=null&&i.isAdmin)&&c.push({id:"go-dev",label:"Developer tools",description:"Open the dev console and moderation boards",onSelect:()=>r("/dev")}),c},[r,a,i]);return o.jsxs("div",{className:"app-shell",children:[o.jsx(yP,{}),o.jsx(SP,{}),o.jsx(bP,{}),o.jsx("main",{className:"app-shell__content",children:e}),o.jsx(gP,{}),o.jsx(vP,{}),o.jsx(xP,{open:t,onClose:()=>n(!1),commands:l})]})}function Lm({children:e}){const{user:t,isLoading:n}=Te(),r=It();return n?o.jsx("div",{className:"centered",children:"Loading..."}):t?o.jsx(o.Fragment,{children:e}):o.jsx(aa,{to:"/login",state:{from:r},replace:!0})}function NP({children:e}){const{user:t,isLoading:n}=Te(),r=It();return n?o.jsx("div",{className:"centered",children:"Loading..."}):t?!t.isDev&&!t.isAdmin?o.jsx(aa,{to:"/",replace:!0}):o.jsx(o.Fragment,{children:e}):o.jsx(aa,{to:"/login",state:{from:r},replace:!0})}function AP(){const{user:e,logout:t,updateProfile:n,updatePassword:r}=Te(),{publishStory:s}=ws(),{theme:i,setTheme:a,options:l}=px(),{getRole:c,getUserRoleId:u}=sh(),[d,f]=g.useState(()=>({displayName:(e==null?void 0:e.displayName)??"",bio:(e==null?void 0:e.bio)??"",accentColor:(e==null?void 0:e.accentColor)??"#7c3aed",avatarEmoji:(e==null?void 0:e.avatarEmoji)??""})),[m,x]=g.useState(()=>({email:(e==null?void 0:e.email)??"",currentPassword:"",newPassword:"",confirmPassword:""})),[k,v]=g.useState(null),[C,h]=g.useState(null),[p,y]=g.useState(!1),[j,S]=g.useState(!1);if(!e)return null;const b=g.useMemo(()=>{const R=u(e.username,{isDev:e.isDev,isAdmin:e.isAdmin});return c(R)},[c,u,e.isDev,e.isAdmin,e.username]),T=async R=>{R.preventDefault(),v(null);try{y(!0),await Promise.resolve(n({displayName:d.displayName,bio:d.bio,accentColor:d.accentColor,avatarEmoji:d.avatarEmoji})),v({type:"success",text:"Profile updated"})}catch(L){const z=L instanceof Error?L.message:"Unable to update profile";v({type:"error",text:z})}finally{y(!1)}},A=async()=>{h(null);try{S(!0),await Promise.resolve(n({email:m.email})),h({type:"success",text:"Email updated"})}catch(R){const L=R instanceof Error?R.message:"Unable to update email";h({type:"error",text:L})}finally{S(!1)}},N=async()=>{if(h(null),m.newPassword!==m.confirmPassword){h({type:"error",text:"Passwords do not match"});return}try{S(!0),await r({currentPassword:m.currentPassword,newPassword:m.newPassword}),x(R=>({...R,currentPassword:"",newPassword:"",confirmPassword:""})),h({type:"success",text:"Password updated"})}catch(R){const L=R instanceof Error?R.message:"Unable to update password";h({type:"error",text:L})}finally{S(!1)}},P=()=>{["sf:workspace","sf:published-stories","sf:provider-keys","sf:provider-selected","sf:provider-custom","sf:provider-models"].forEach(L=>localStorage.removeItem(L)),alert("Cleared local demo data. Reloading page"),window.location.reload()},E=()=>{[{metadata:{title:"The Clockwork Garden",genre:"Solarpunk mystery",tone:"Warm, hopeful, poetic",perspective:"First person",targetLength:"short"},summary:"In a city of living machines, a gardener follows a trail of missing pollinators into the heart of an ancient secret.",tags:["#solarpunk","#mystery","#hopepunk"],content:"Dawn warmed the copper leaves until they hummed. I pressed my palm to the trunk and felt the old tree wake..."},{metadata:{title:"Error: Tenderness Not Found",genre:"Near-future sci-fi",tone:"Reflective, wry",perspective:"Close third person",targetLength:"medium"},summary:"A maintenance engineer patches bugs in the city's empathy network and discovers a glitch that feels like love.",tags:["#scifi","#romance","#nearfuture"],content:"The alert chimed at 03:12: node E-19 had gone cold. Miri rolled out of bed, grabbed her toolkit, and told herself not to name the fault this time..."}].forEach(L=>{s({authorId:e.id,authorName:e.displayName,metadata:L.metadata,content:L.content,summary:L.summary,tags:L.tags})}),alert("Seeded a couple of sample stories into your library.")};return o.jsxs("div",{className:"section-shell",children:[o.jsxs(F.section,{className:"glass-card",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.35},children:[o.jsxs("header",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:16},children:[o.jsxs("div",{children:[o.jsx("h2",{style:{margin:0},children:"Profile"}),o.jsx("p",{style:{margin:"6px 0 0",color:"var(--color-text-muted)"},children:"Update how your name and avatar appear across Dreamscribe."})]}),e.isDev&&o.jsx(Su,{size:"md"})]}),o.jsxs("form",{onSubmit:T,style:{display:"grid",gap:16,marginTop:18},children:[o.jsxs("label",{children:[o.jsx("span",{style:{display:"block",fontWeight:600},children:"Display name"}),o.jsx("input",{value:d.displayName,onChange:R=>f(L=>({...L,displayName:R.target.value})),required:!0})]}),o.jsxs("label",{children:[o.jsx("span",{style:{display:"block",fontWeight:600},children:"Profile bio"}),o.jsx("textarea",{value:d.bio,onChange:R=>f(L=>({...L,bio:R.target.value})),rows:3,placeholder:"Share a short introduction or creative focus.",style:{resize:"vertical"}})]}),o.jsxs("div",{style:{display:"flex",gap:16,flexWrap:"wrap"},children:[o.jsxs("label",{style:{flex:"1 1 160px"},children:[o.jsx("span",{style:{display:"block",fontWeight:600},children:"Avatar emoji"}),o.jsx("input",{value:d.avatarEmoji,onChange:R=>f(L=>({...L,avatarEmoji:R.target.value.slice(0,4)})),maxLength:4,style:{fontSize:"1.6rem",textAlign:"center"}})]}),o.jsxs("label",{style:{flex:"1 1 160px"},children:[o.jsx("span",{style:{display:"block",fontWeight:600},children:"Accent colour"}),o.jsx("input",{type:"color",value:d.accentColor,onChange:R=>f(L=>({...L,accentColor:R.target.value})),style:{width:"100%",height:44,padding:0}})]})]}),o.jsxs("div",{className:"profile-preview-card",style:{borderColor:d.accentColor},children:[o.jsx("div",{className:"profile-preview-card__avatar",style:{backgroundColor:d.accentColor},children:o.jsx("span",{children:d.avatarEmoji||""})}),o.jsxs("div",{children:[o.jsx("strong",{children:d.displayName}),o.jsx("p",{children:d.bio?d.bio:"Add a bio so readers know what you create."})]})]}),k&&o.jsx("div",{className:`notice notice--${k.type==="error"?"error":"success"}`,children:k.text}),o.jsxs("div",{style:{display:"flex",gap:12,flexWrap:"wrap"},children:[o.jsx("button",{type:"submit",className:"primary-button",disabled:p,children:p?"Saving":"Save profile"}),o.jsx("button",{type:"button",className:"ghost-button",onClick:t,children:"Log out"})]})]})]}),o.jsxs(F.section,{className:"glass-card",initial:{opacity:0,y:22},animate:{opacity:1,y:0},transition:{duration:.35,delay:.04},style:{marginTop:18},children:[o.jsx("h3",{style:{marginTop:0},children:"Account security"}),o.jsx("p",{className:"notice--muted",children:"Manage your sign-in email and password."}),o.jsxs("div",{style:{display:"grid",gap:18,marginTop:16},children:[o.jsxs("div",{style:{display:"grid",gap:8},children:[o.jsxs("label",{children:[o.jsx("span",{style:{display:"block",fontWeight:600},children:"Email"}),o.jsx("input",{type:"email",value:m.email,onChange:R=>x(L=>({...L,email:R.target.value})),required:!0})]}),o.jsx("button",{type:"button",className:"primary-button",onClick:A,disabled:j,children:"Update email"})]}),o.jsxs("div",{style:{display:"grid",gap:8},children:[o.jsxs("label",{children:[o.jsx("span",{style:{display:"block",fontWeight:600},children:"Current password"}),o.jsx("input",{type:"password",value:m.currentPassword,onChange:R=>x(L=>({...L,currentPassword:R.target.value}))})]}),o.jsxs("label",{children:[o.jsx("span",{style:{display:"block",fontWeight:600},children:"New password"}),o.jsx("input",{type:"password",value:m.newPassword,onChange:R=>x(L=>({...L,newPassword:R.target.value}))})]}),o.jsxs("label",{children:[o.jsx("span",{style:{display:"block",fontWeight:600},children:"Confirm password"}),o.jsx("input",{type:"password",value:m.confirmPassword,onChange:R=>x(L=>({...L,confirmPassword:R.target.value}))})]}),o.jsx("button",{type:"button",className:"ghost-button",onClick:N,disabled:j,children:"Update password"})]}),C&&o.jsx("div",{className:`notice notice--${C.type==="error"?"error":"success"}`,children:C.text})]})]}),o.jsxs(F.section,{className:"glass-card",initial:{opacity:0,y:24},animate:{opacity:1,y:0},transition:{duration:.35,delay:.08},style:{marginTop:18},children:[o.jsx("h3",{style:{marginTop:0},children:"Appearance"}),o.jsx("p",{className:"notice--muted",children:"Pick a theme that matches your workspace."}),o.jsx("div",{style:{display:"grid",gap:12,marginTop:16},children:l.map(R=>o.jsxs("button",{type:"button",className:`theme-option ${i===R.id?"theme-option--active":""}`,onClick:()=>a(R.id),children:[o.jsxs("span",{children:[o.jsx("strong",{children:R.label}),o.jsx("span",{className:"theme-option__description",children:R.description})]}),o.jsx("span",{className:"theme-option__status",children:i===R.id?"Active":"Switch"})]},R.id))})]}),o.jsxs(F.section,{className:"glass-card",initial:{opacity:0,y:26},animate:{opacity:1,y:0},transition:{duration:.35,delay:.12},style:{marginTop:18},children:[o.jsx("h3",{style:{marginTop:0},children:"Account snapshot"}),o.jsxs("div",{style:{display:"grid",gap:12},children:[o.jsxs("div",{children:[o.jsx("strong",{children:"Member since:"})," ",new Date(e.createdAt).toLocaleString()]}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,flexWrap:"wrap"},children:[o.jsx("strong",{children:"Role:"}),o.jsx(yx,{role:b}),e.isDev&&o.jsx(Su,{size:"sm"})]}),e.warnings&&e.warnings.length>0&&o.jsxs("div",{className:"notice notice--warning",children:[o.jsx("strong",{children:"Caution:"})," You have ",e.warnings.length," active warning",e.warnings.length>1?"s":"","."]})]}),o.jsxs("div",{style:{display:"flex",gap:12,flexWrap:"wrap",marginTop:18},children:[o.jsx("button",{type:"button",className:"ghost-button",onClick:P,children:"Reset demo data"}),o.jsx("button",{type:"button",className:"primary-button",onClick:E,children:"Seed sample stories"})]})]})]})}function PP(){const{user:e,getUsers:t,banUser:n,unbanUser:r,getBanAppeals:s,resolveBanAppeal:i}=Te(),{append:a,toggleConsole:l}=Bi(),{providers:c,selectedProvider:u,selectedModel:d,selectProvider:f,setApiKey:m,apiKeys:x}=ex(),{stories:k,deleteReview:v,deleteStory:C}=ws(),{blockedWords:h,addBlockedWord:p,removeBlockedWord:y,logs:j,validateText:S,recordLog:b}=nh(),{roles:T,createRole:A,updateRole:N,deleteRole:P,getRole:E,getUserRoleId:R,assignRole:L}=sh(),{announcement:z,publishAnnouncement:Ye,clearAnnouncement:Se,dismissedBy:q,heartedBy:O}=xx(),[$,W]=g.useState(""),[te,J]=g.useState(!0),[Qe,ke]=g.useState(null),[Ct,Le]=g.useState(()=>s());g.useEffect(()=>{Le(s())},[]),g.useEffect(()=>{z?(W(z.message),J(z.allowHearts)):(W(""),J(!0))},[z]);const $e=g.useMemo(()=>Object.keys(O).length,[O]),Lt=g.useMemo(()=>Object.keys(q).length,[q]),vr=()=>Le(s());if(!e||!e.isDev&&!e.isAdmin)return o.jsx("div",{className:"section-shell",children:o.jsxs("div",{className:"glass-card",children:[o.jsx("h2",{style:{margin:0},children:"Restricted"}),o.jsx("p",{children:"This area is for developer accounts only."})]})});const dn=e.isDev;e.isAdmin&&e.isDev;const pt=dn,xr=dn,wr=()=>{a({level:"request",summary:`Mock request to ${u.id}`,payload:{model:d,ts:Date.now()}}),setTimeout(()=>a({level:"response",summary:"Mock response",payload:{tokens:1234,ok:!0}}),400)},De=()=>{const M=`sk-${u.id}-sample-key`;m(u.id,M)},hn=M=>{M.preventDefault();const H=$.trim();if(!H){ke({type:"error",text:"Enter a message before publishing."});return}Ye({message:H,allowHearts:te}),W(H),ke({type:"success",text:"Announcement saved. Users will see it on their next sign-in."})},jr=()=>{Se(),ke({type:"success",text:"Announcement cleared."})},pn=(M,H)=>{if(H==="approve"&&!window.confirm("Approve this appeal and unban the account?"))return;let V;if(H==="reject"){const K=window.prompt("Optional: Add a note for this decision");V=K!=null&&K.trim()?K.trim():void 0}i(M,H,V),vr()};return o.jsxs("div",{className:"section-shell",children:[o.jsxs(F.section,{className:"glass-card",initial:{opacity:0,y:18},animate:{opacity:1,y:0},transition:{duration:.4},children:[o.jsx("h2",{style:{marginTop:0},children:"Developer Tools"}),o.jsx("p",{className:"notice--muted",children:"Quick actions for verifying integrations, moderation, and UI flows."}),o.jsxs("div",{style:{display:"grid",gap:12,marginTop:12},children:[o.jsxs("div",{children:[o.jsx("strong",{children:"Provider:"})," ",o.jsx("select",{value:u.id,onChange:M=>f(M.target.value),children:c.map(M=>o.jsx("option",{value:M.id,children:M.label},M.id))})]}),o.jsxs("div",{children:[o.jsx("strong",{children:"API key:"})," ",o.jsx("code",{style:{opacity:.8},children:x[u.id]?"":"<empty>"})," ",o.jsx("button",{type:"button",className:"ghost-button",onClick:De,children:"Set sample key"})]}),o.jsxs("div",{style:{display:"flex",gap:12,flexWrap:"wrap"},children:[o.jsx("button",{type:"button",className:"primary-button",onClick:wr,children:"Emit mock request"}),o.jsx("button",{type:"button",className:"ghost-button",onClick:l,children:"Toggle Debug Console"})]})]})]}),o.jsxs(F.section,{className:"glass-card",initial:{opacity:0,y:18},animate:{opacity:1,y:0},transition:{duration:.4,delay:.03},style:{marginTop:16},children:[o.jsx("h3",{style:{marginTop:0},children:"Message all users"}),o.jsx("p",{className:"section-subtitle",children:"Publish a global announcement that appears after sign-in."}),o.jsxs("form",{onSubmit:hn,style:{display:"grid",gap:12,marginTop:12},children:[o.jsx("textarea",{value:$,onChange:M=>W(M.target.value),placeholder:"Share release notes, scheduled downtime, or community news.",rows:3,style:{padding:"0.8rem 0.95rem",borderRadius:12,border:"1px solid rgba(255,255,255,0.18)",background:"rgba(18, 16, 40, 0.82)",color:"inherit",resize:"vertical"}}),o.jsxs("label",{style:{display:"inline-flex",alignItems:"center",gap:8},children:[o.jsx("input",{type:"checkbox",checked:te,onChange:M=>J(M.target.checked)}),"Allow  reactions"]}),o.jsxs("div",{style:{display:"flex",gap:12,flexWrap:"wrap"},children:[o.jsx("button",{type:"submit",className:"primary-button",children:z?"Update message":"Publish message"}),z&&o.jsx("button",{type:"button",className:"ghost-button",onClick:jr,children:"Clear message"})]})]}),z&&o.jsxs("div",{style:{display:"flex",gap:16,flexWrap:"wrap",marginTop:12,fontSize:13,opacity:.85},children:[o.jsxs("span",{children:["Active since ",new Date(z.createdAt).toLocaleString()]}),o.jsxs("span",{children:["Hearts: ",$e]}),o.jsxs("span",{children:["Dismissed: ",Lt]}),o.jsx("span",{children:z.allowHearts?"Heart reactions enabled":"Heart reactions disabled"})]}),Qe&&o.jsx("div",{className:`notice notice--${Qe.type==="error"?"error":"success"}`,style:{marginTop:12},children:Qe.text})]}),o.jsxs(F.section,{className:"glass-card",initial:{opacity:0,y:18},animate:{opacity:1,y:0},transition:{duration:.4,delay:.05},style:{marginTop:16},children:[o.jsx("h3",{style:{marginTop:0},children:"User management"}),o.jsx("p",{className:"section-subtitle",children:"Ban/unban local users in this browser."}),o.jsx("div",{style:{display:"grid",gap:8},children:t().map(M=>o.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:8},children:[o.jsxs("div",{children:[o.jsx("strong",{children:M.displayName})," ",o.jsxs("span",{style:{opacity:.7},children:["(",M.email,")"]})," ",M.isDev&&o.jsx("span",{className:"dev-badge dev-badge--sm",style:{marginLeft:8},children:"DEV"}),M.banned&&M.banReason&&o.jsxs("div",{style:{fontSize:12,opacity:.8,marginTop:4},children:["Reason: ",M.banReason]})]}),o.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center",flexWrap:"wrap"},children:[o.jsx("span",{style:{fontSize:12,opacity:.8},children:"Role"}),o.jsx("select",{value:R(M.username,{isDev:M.isDev,isAdmin:M.isAdmin}),onChange:H=>L(M.username,H.target.value),disabled:!xr,children:T.map(H=>o.jsx("option",{value:H.id,children:H.label},H.id))}),M.isDev?o.jsx("span",{className:"notice--muted",children:"Protected"}):M.banned?o.jsx("button",{type:"button",className:"primary-button",onClick:()=>{r(M.username),b({type:"unban",targetUserId:M.id,targetUsername:M.username});try{const H=localStorage.getItem("dreamscribe_users");if(H){const K=JSON.parse(H)[M.username];K&&(ZN(K.email),K.password&&tA(K.password))}}catch{}},children:"Unban"}):o.jsx("button",{type:"button",className:"ghost-button",onClick:()=>{var V;if(dn&&M.isAdmin&&!M.isDev&&!window.confirm("Warning: you are about to ban the admin account. Continue?"))return;const H=(V=prompt("Enter ban reason (required)"))==null?void 0:V.trim();if(H){try{const K=localStorage.getItem("dreamscribe_users");if(K){const fn=JSON.parse(K)[M.username];fn&&(qN(fn.email),fn.password&&eA(fn.password))}}catch{}n(M.username,H),b({type:"ban",targetUserId:M.id,targetUsername:M.username,details:H})}},children:"Ban"})]})]},M.id))})]}),o.jsxs(F.section,{className:"glass-card",initial:{opacity:0,y:18},animate:{opacity:1,y:0},transition:{duration:.4,delay:.06},style:{marginTop:16},children:[o.jsx("h3",{style:{marginTop:0},children:"Roles"}),!pt&&o.jsx("p",{className:"notice--muted",style:{marginBottom:12},children:"Only developers can create or edit role definitions."}),pt&&o.jsxs("form",{onSubmit:M=>{M.preventDefault();const H=M.currentTarget,V=H.elements.namedItem("label").value.trim(),K=H.elements.namedItem("name").value.trim()||V.toLowerCase().replace(/\s+/g,"-"),Je=H.elements.namedItem("color").value.trim()||"#444",fn=H.elements.namedItem("textColor").value.trim()||"#fff",Hn=H.elements.namedItem("emoji").value.trim();V&&(A({name:K,label:V,color:Je,textColor:fn,emoji:Hn}),H.reset())},style:{display:"grid",gap:8,gridTemplateColumns:"repeat(auto-fit, minmax(140px, 1fr))"},children:[o.jsx("input",{name:"label",placeholder:"Label (e.g., VIP)"}),o.jsx("input",{name:"name",placeholder:"Key (optional)"}),o.jsx("input",{name:"emoji",placeholder:"Emoji (optional)"}),o.jsx("input",{name:"color",placeholder:"#f59e0b"}),o.jsx("input",{name:"textColor",placeholder:"#1a1306"}),o.jsx("button",{className:"primary-button",type:"submit",children:"Create role"})]}),o.jsx("div",{className:"card-grid",style:{marginTop:10},children:T.map(M=>o.jsxs("div",{className:"glass-card",style:{padding:12},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:8},children:[o.jsx("strong",{children:M.label}),o.jsxs("span",{style:{background:M.color,color:M.textColor,borderRadius:999,padding:"2px 8px",fontWeight:700},children:[M.emoji?M.emoji+" ":"",M.name]})]}),o.jsxs("div",{style:{display:"flex",gap:8,marginTop:8,flexWrap:"wrap"},children:[pt&&o.jsx("button",{type:"button",className:"ghost-button",onClick:()=>N(M.id,{label:prompt("New label",M.label)||M.label}),children:"Rename"}),pt&&M.id!=="paid"&&M.id!=="free"&&M.id!=="admin"&&o.jsx("button",{type:"button",className:"ghost-button",onClick:()=>P(M.id),children:"Delete"})]})]},M.id))})]}),o.jsxs(F.section,{className:"glass-card",initial:{opacity:0,y:18},animate:{opacity:1,y:0},transition:{duration:.4,delay:.08},style:{marginTop:16},children:[o.jsx("h3",{style:{marginTop:0},children:"Stories"}),k.length===0?o.jsx("p",{className:"notice--muted",children:"No stories published yet."}):o.jsx("div",{className:"card-grid",children:k.slice(0,12).map(M=>o.jsxs("div",{className:"glass-card",style:{padding:12},children:[o.jsx("strong",{children:M.metadata.title}),o.jsxs("div",{style:{fontSize:12,opacity:.8},children:["by ",M.authorName,"  ",new Date(M.publishedAt).toLocaleString()]}),o.jsx("div",{style:{display:"flex",gap:8,marginTop:8},children:o.jsx("button",{type:"button",className:"ghost-button",onClick:()=>{confirm("Delete this story?")&&(C(M.id),b({type:"note",details:`deleted story ${M.id}`}))},children:"Delete"})})]},M.id))})]}),o.jsxs(F.section,{className:"glass-card",initial:{opacity:0,y:18},animate:{opacity:1,y:0},transition:{duration:.4,delay:.1},style:{marginTop:16},children:[o.jsx("h3",{style:{marginTop:0},children:"Reviews"}),o.jsx("div",{style:{display:"grid",gap:10},children:k.flatMap(M=>M.reviews.map(H=>({s:M,r:H}))).length===0?o.jsx("p",{className:"notice--muted",children:"No reviews yet."}):k.flatMap(M=>M.reviews.map(H=>({s:M,r:H}))).map(({s:M,r:H})=>o.jsxs("div",{style:{display:"grid",gap:6,border:"1px solid rgba(255,255,255,0.12)",borderRadius:8,padding:10},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",gap:8},children:[o.jsx("strong",{children:H.reviewerName}),o.jsxs("span",{children:["on ",o.jsx("em",{children:M.metadata.title})]})]}),o.jsx("div",{style:{fontSize:14,opacity:.86},children:H.comment}),o.jsx("div",{style:{display:"flex",gap:8},children:o.jsx("button",{type:"button",className:"ghost-button",onClick:()=>{v(H.id),b({type:"delete_review",targetResourceId:H.id,details:`from story: ${M.id}`})},children:"Delete"})})]},H.id))})]}),o.jsxs(F.section,{className:"glass-card",initial:{opacity:0,y:18},animate:{opacity:1,y:0},transition:{duration:.4,delay:.07},style:{marginTop:16},children:[o.jsx("h3",{style:{marginTop:0},children:"Ban appeals"}),o.jsx("p",{className:"section-subtitle",children:"Review user appeals. Approving will unban and clear restrictions."}),Ct.length===0?o.jsx("p",{className:"notice--muted",children:"No appeals have been submitted yet."}):o.jsx("div",{style:{display:"grid",gap:12,marginTop:12},children:Ct.map(M=>o.jsxs("div",{className:"appeal-card",children:[o.jsxs("div",{className:"appeal-card__header",children:[o.jsxs("div",{children:[o.jsx("strong",{children:M.username})," ",o.jsxs("span",{style:{opacity:.75},children:["(",M.email,")"]})]}),o.jsx("span",{className:`appeal-card__status appeal-card__status--${M.status}`,children:M.status})]}),o.jsx("p",{style:{margin:"0.65rem 0",lineHeight:1.5},children:M.message}),o.jsx("div",{className:"appeal-card__meta",children:o.jsxs("span",{children:["Submitted ",new Date(M.submittedAt).toLocaleString()]})}),M.status==="pending"?o.jsxs("div",{style:{display:"flex",gap:10,flexWrap:"wrap",marginTop:10},children:[o.jsx("button",{type:"button",className:"primary-button",onClick:()=>pn(M.id,"approve"),children:"Approve & unban"}),o.jsx("button",{type:"button",className:"ghost-button",onClick:()=>pn(M.id,"reject"),children:"Reject appeal"})]}):o.jsxs("div",{className:"appeal-card__resolution",children:[o.jsxs("strong",{children:["Resolved ",M.resolvedAt?new Date(M.resolvedAt).toLocaleString():""]}),o.jsxs("span",{children:["by ",M.resolvedBy??"system",M.resolutionNote?`  ${M.resolutionNote}`:""]})]})]},M.id))})]}),o.jsxs(F.section,{className:"glass-card",initial:{opacity:0,y:18},animate:{opacity:1,y:0},transition:{duration:.4,delay:.15},style:{marginTop:16},children:[o.jsx("h3",{style:{marginTop:0},children:"Blocked words"}),o.jsx("p",{className:"section-subtitle",children:"Applies to publishing and new reviews."}),o.jsxs("form",{onSubmit:M=>{M.preventDefault();const H=M.currentTarget.elements.namedItem("word"),V=H.value.trim();V&&p(V),H.value=""},style:{display:"flex",gap:8,flexWrap:"wrap"},children:[o.jsx("input",{name:"word",placeholder:"Add word or phrase"}),o.jsx("button",{type:"submit",className:"primary-button",children:"Add"})]}),o.jsx("div",{className:"chip-group",style:{marginTop:10},children:h.map(M=>o.jsxs("button",{type:"button",className:"chip",title:"Remove",onClick:()=>y(M),children:[M," "]},M))})]}),o.jsxs(F.section,{className:"glass-card",initial:{opacity:0,y:18},animate:{opacity:1,y:0},transition:{duration:.4,delay:.18},style:{marginTop:16},children:[o.jsx("h3",{style:{marginTop:0},children:"Automod tester"}),o.jsxs("form",{onSubmit:M=>{M.preventDefault();const V=M.currentTarget.elements.namedItem("sample").value,K=S(V);alert(K.ok?"OK (no blocked words detected)":`Blocked: ${K.word}`)},style:{display:"flex",gap:8,flexWrap:"wrap"},children:[o.jsx("input",{name:"sample",placeholder:"Type text to test",style:{flex:1,minWidth:240}}),o.jsx("button",{className:"primary-button",type:"submit",children:"Test"})]})]}),o.jsxs(F.section,{className:"glass-card",initial:{opacity:0,y:18},animate:{opacity:1,y:0},transition:{duration:.4,delay:.2},style:{marginTop:16},children:[o.jsx("h3",{style:{marginTop:0},children:"Local data"}),o.jsx("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:o.jsx("button",{className:"ghost-button",type:"button",onClick:()=>{const M=["sf:workspace","sf:published-stories","sf:provider-keys","sf:provider-selected","sf:provider-custom","sf:provider-models","dreamscribe_users","dreamscribe_current_user","sf:blocked-words","sf:moderation-logs"],H={};M.forEach(Je=>{try{H[Je]=JSON.parse(localStorage.getItem(Je)||"null")}catch{H[Je]=localStorage.getItem(Je)}});const V=new Blob([JSON.stringify(H,null,2)],{type:"application/json"}),K=document.createElement("a");K.href=URL.createObjectURL(V),K.download="dreamscribe-data.json",K.click(),URL.revokeObjectURL(K.href)},children:"Export JSON"})})]}),o.jsxs(F.section,{className:"glass-card",initial:{opacity:0,y:18},animate:{opacity:1,y:0},transition:{duration:.4,delay:.2},style:{marginTop:16},children:[o.jsx("h3",{style:{marginTop:0},children:"Moderation logs"}),j.length===0?o.jsx("p",{className:"notice--muted",children:"No moderation events captured yet."}):o.jsx("div",{style:{display:"grid",gap:8},children:j.map(M=>o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",gap:8,fontSize:14,opacity:.9},children:[o.jsxs("span",{children:[o.jsx("strong",{children:M.type}),"  ",M.details||""]}),o.jsx("time",{children:new Date(M.timestamp).toLocaleTimeString()})]},M.id))})]})]})}function EP(){return o.jsx(CP,{children:o.jsxs(kS,{children:[o.jsx(Bt,{path:"/",element:o.jsx(QN,{})}),o.jsx(Bt,{path:"/signup",element:o.jsx(oA,{})}),o.jsx(Bt,{path:"/login",element:o.jsx(aA,{})}),o.jsx(Bt,{path:"/stories",element:o.jsx(lP,{})}),o.jsx(Bt,{path:"/stories/:storyId",element:o.jsx(uP,{})}),o.jsx(Bt,{path:"/settings",element:o.jsx(Lm,{children:o.jsx(AP,{})})}),o.jsx(Bt,{path:"/studio",element:o.jsx(Lm,{children:o.jsx(sP,{})})}),o.jsx(Bt,{path:"/dev",element:o.jsx(NP,{children:o.jsx(PP,{})})}),o.jsx(Bt,{path:"*",element:o.jsx(aa,{to:"/",replace:!0})})]})})}const wx="sf:feedback";function TP(){try{const e=localStorage.getItem(wx);return e?{messages:JSON.parse(e)}:{messages:[]}}catch{return{messages:[]}}}function Dm(e){localStorage.setItem(wx,JSON.stringify(e.messages))}const _P=g.createContext(void 0);function RP(e,t){switch(t.type){case"submit":{const r={messages:[t.message,...e.messages].slice(0,200)};return Dm(r),r}case"reply":{const r={messages:e.messages.map(s=>s.id===t.id?{...s,reply:{text:t.text,createdAt:t.createdAt}}:s)};return Dm(r),r}default:return e}}function MP({children:e}){const[t,n]=g.useReducer(RP,void 0,TP),r=g.useCallback(a=>{const l={id:ge("fbk"),message:a.message,promptLabel:a.promptLabel,authorName:a.authorName,createdAt:new Date().toISOString()};return n({type:"submit",message:l}),l},[]),s=g.useCallback((a,l)=>{n({type:"reply",id:a,text:l,createdAt:new Date().toISOString()})},[]),i=g.useMemo(()=>({messages:t.messages,submitMessage:r,replyToMessage:s}),[t.messages,r,s]);return o.jsx(_P.Provider,{value:i,children:e})}const jx=document.getElementById("root");if(!jx)throw new Error("Root element #root not found");tc.createRoot(jx).render(o.jsx(Gm.StrictMode,{children:o.jsx(_S,{children:o.jsx(hP,{children:o.jsx(PA,{children:o.jsx(iA,{children:o.jsx(jP,{children:o.jsx(YA,{children:o.jsx(fP,{children:o.jsx(MP,{children:o.jsx(eP,{children:o.jsx(NA,{children:o.jsx(XA,{children:o.jsx(kA,{children:o.jsx(vA,{children:o.jsx(EP,{})})})})})})})})})})})})})})}));
